{"meta":{"title":"üçß Peach","subtitle":"equne","description":"ËúúÊ°ÉÂ≠¶‰ª£Á†Å","author":"equne","url":"https://equnee.github.io","root":"/"},"pages":[],"posts":[{"title":"IO - ËæìÂÖ•/ËæìÂá∫ÊµÅ‚ë¥_ÂàÜÁ±ª","slug":"note/Basics/IO/IO_IO_1","date":"2023-05-09T17:19:01.932Z","updated":"2023-05-10T17:04:00.039Z","comments":true,"path":"note/Basics/IO/IO_IO_1/","link":"","permalink":"https://equnee.github.io/note/Basics/IO/IO_IO_1/","excerpt":"","text":"java.io - ÁõÆÂΩï Ê†áÂáÜËÆæÂ§áËæìÂÖ•/ËæìÂá∫ Ê†áÂáÜËÆæÂ§áËæìÂÖ•/ËæìÂá∫ÔºöSystem ÊéßÂà∂Âè∞ËØªÂÜôÁ±ªÔºöConsole Êñá‰ª∂Âü∫Êú¨Â§ÑÁêÜ Êñá‰ª∂Êìç‰ΩúÁ±ªÔºöFile Êñá‰ª∂ÊêúÁ¥¢Á±ªÔºöFileFilter„ÄÅFilenameFilter Êñá‰ª∂‰ªªÊÑèËØªÂÜôÁ±ªÔºöRandomAccessFile ËæìÂÖ•/ËæìÂá∫ÊµÅ ËæìÂÖ•/ËæìÂá∫ÊµÅ - ÂàÜÁ±ª ËæìÂÖ•/ËæìÂá∫ÊµÅ - ÂÆûÁé∞Á±ª ÂØπË±°Â∫èÂàóÂåñ JavaÊääÊâÄÊúâ‰º†ÁªüÁöÑÊµÅÁ±ªÂûãÔºàÁ±ªÊàñÊäΩË±°Á±ªÔºâÈÉΩÊîæÂú® java.io ÂåÖ‰∏≠Ôºå‰ª•ÂÆûÁé∞ËæìÂÖ•/ËæìÂá∫ÂäüËÉΩ„ÄÇ Ôºà‰∏ÄÔºâÊµÅÂàÜÁ±ª Java‰∏≠Êää‰∏çÂêåÁöÑËæìÂÖ•/ËæìÂá∫Ê∫êÔºàÈîÆÁõò„ÄÅÊñá‰ª∂„ÄÅÁΩëÁªúËøûÊé•Á≠âÔºâÊäΩË±°Ë°®Ëø∞‰∏∫‚ÄúÊµÅ‚ÄùÔºàstreamÔºâÔºåÈÄöËøáÊµÅÁöÑÊñπÂºèÂÖÅËÆ∏JavaÁ®ãÂ∫è‰ΩøÁî®Áõ∏ÂêåÁöÑÊñπÂºèÊù•ËÆøÈóÆ‰∏çÂêåÁöÑËæìÂÖ•/ËæìÂá∫Ê∫ê„ÄÇ %%{ init: { 'themeVariables': { 'fontSize': '13px' } } }%% graph LR T([\"IOÊµÅÂàÜÁ±ª\"]):::p T --> A([\"ÊåâÁÖß(ËØª/ÂÜô)ÊñπÂêëÂàÜÁ±ª\"]):::p T --> B([\"ÊåâÁÖß(ËØª/ÂÜô)Â≠óËäÇÊï∞Â§ßÂ∞èÂàÜÁ±ª\"]):::b T --> C([\"ÊåâÁÖßÊµÅÁöÑËßíËâ≤ÂàÜÁ±ª\"]):::g A -.-> |\"inÔºàËØªÂèñÔºâ\"| a(\"Êñá‰ª∂ËæìÂÖ•ÊµÅÂ≠óËäÇÂûãÊñá‰ª∂ËæìÂÖ•ÊµÅÂ≠óÁ¨¶ÂûãÊñá‰ª∂ËæìÂÖ•ÊµÅ\"):::lp A -.-> |\"outÔºàÂÜôÂÖ•Ôºâ\"| a2(\"Êñá‰ª∂ËæìÂá∫ÊµÅÂ≠óËäÇÂûãÊñá‰ª∂ËæìÂá∫ÊµÅÂ≠óÁ¨¶ÂûãÊñá‰ª∂ËæìÂá∫ÊµÅ\"):::lp B -.-> |\"1Â≠óËäÇ\"| b(\"Â≠óËäÇÂûãÊñá‰ª∂ÊµÅÔºà‰∫åËøõÂà∂ÂÜÖÂÆπÔºâFileInputStreamFileOUtputStream\"):::lb B -.-> |\"1Â≠óÁ¨¶Ôºà2Â≠óËäÇÔºâ\"| b2(\"Â≠óÁ¨¶ÂûãÊñá‰ª∂ÊµÅÔºàÊñáÊú¨ÂÜÖÂÆπÔºâFileReaderFileWriter\"):::lb C -.-> |\"Áõ¥Êé•ËøûÊé•Âà∞Êï∞ÊçÆÊ∫ê\"| c(\"Â∫ïÂ±ÇËäÇÁÇπÊµÅÔºà‰ΩéÁ∫ßÊµÅÔºâ\"):::lg C -.-> |\"Â∞ÅË£ÖÂ∑≤Â≠òÂú®ÁöÑÊµÅ\"| c2(\"‰∏äÂ±ÇÂ§ÑÁêÜÊµÅÔºàÈ´òÁ∫ßÊµÅÔºâ\"):::lg classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#737379,stroke-dasharray: 3 3, stroke-width: 2px Ôºà‰∫åÔºâÊµÅÊ®°ÂûãÔºà1ÔºâÊµÅÁöÑÂü∫Êú¨Ê¶ÇÂøµÊ®°Âûã 4‰∏™ÊäΩË±°Âü∫Á±ªÔºö %%{ init: { 'themeVariables': { 'fontSize': '13px' } } }%% graph TD t([\"4‰∏™ÊäΩË±°Âü∫Á±ª\"]):::p t --> |\"ËæìÂÖ•ÊµÅ\"| A(\"InputStreanÔºàÂ≠óËäÇËæìÂÖ•ÊµÅÔºâReaderÔºàÂ≠óÁ¨¶ËæìÂÖ•ÊµÅÔºâ\"):::lp t --> |\"ËæìÂá∫ÊµÅ\"| B(\"OutputStreamÔºàÂ≠óËäÇËæìÂá∫ÊµÅÔºâWriterÔºàÂ≠óÁ¨¶ËæìÂá∫ÊµÅÔºâ\"):::lp A -.-> a(\"ÊääËæìÂÖ•ËÆæÂ§áÊäΩË±°Êàê‚ÄúÊ∞¥ÁÆ°‚ÄùÔºåÊ∞¥ÁÆ°ÈáåÁöÑÊØè‰∏™‚ÄúÊ∞¥Êª¥‚Äù‰æùÊ¨°ÊéíÂàó\"):::info B -.-> b(\"ÊääËæìÂá∫ËÆæÂ§áÊäΩË±°Êàê‚ÄúÊ∞¥ÁÆ°‚ÄùÔºåÊ∞¥ÁÆ°ÈáåÊ≤°Êúâ‰ªª‰ΩïÊ∞¥Êª¥\"):::info info(\"Java IOÊµÅ40Â§ö‰∏™Á±ªÈÉΩÁî±ÂÆÉ‰ª¨Ê¥æÁîü\"):::info classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#56565b,stroke-dasharray: 3 3, stroke-width: 2px ËæìÂÖ•ÊµÅÔºö ËæìÂÖ•ÊµÅ‰ΩøÁî®ÈöêÂºèÁöÑËÆ∞ÂΩïÊåáÈíàÊù•Ë°®Á§∫ÂΩìÂâçÊ≠£ÂáÜÂ§á‰ªéÂì™‰∏™‚ÄúÊ∞¥Êª¥‚ÄùÂºÄÂßãËØªÂèñÔºåÊØèÂΩìÁ®ãÂ∫è‰ªéInputStreamÊàñReaderÈáåÂèñÂá∫‰∏Ä‰∏™ÊàñÂ§ö‰∏™‚ÄúÊ∞¥Êª¥‚ÄùÂêéÔºåËÆ∞ÂΩïÊåáÈíàËá™Âä®ÂêëÂêéÁßªÂä®„ÄÇ ËæìÂá∫ÊµÅÔºö ÂΩìÊâßË°åËæìÂá∫Êó∂ÔºåÁ®ãÂ∫èÁõ∏ÂΩì‰∫é‰æùÊ¨°Êää‚ÄúÊ∞¥Êª¥‚ÄùÊîæÂÖ•Âà∞ËæìÂá∫ÊµÅÁöÑÊ∞¥ÁÆ°‰∏≠ÔºåËæìÂá∫ÊµÅÂêåÊ†∑ÈááÁî®ÈöêÂºèÁöÑËÆ∞ÂΩïÊåáÈíàÊù•Ê†áËØÜÂΩìÂâçÊ∞¥Êª¥Âç≥Â∞ÜÊîæÂÖ•ÁöÑ‰ΩçÁΩÆÔºåÊØèÂΩìÁ®ãÂ∫èÂêëOutputStreamÊàñWriterÈáåËæìÂá∫‰∏Ä‰∏™ÊàñÂ§ö‰∏™Ê∞¥Êª¥ÂêéÔºåËÆ∞ÂΩïÊåáÈíàËá™Âä®ÂêëÂêéÁßªÂä®„ÄÇ Ê≥®ÔºöÂàíÂàÜËæìÂÖ•/ËæìÂá∫ÊµÅÊó∂ÊòØ‰ªéÁ®ãÂ∫èËøêË°åÊâÄÂú®ÂÜÖÂ≠òÁöÑËßíÂ∫¶Êù•ËÄÉËôëÁöÑÔºåÂõ†Ê≠§ÔºàÂÜÖÂ≠ò ‚Äî&gt; Á°¨ÁõòÔºâÂ∫îËØ•ÊòØËæìÂá∫ÊµÅ„ÄÇ Ôºà2ÔºâÂ§ÑÁêÜÊµÅÊ®°Âûã ËäÇÁÇπÊµÅÂíåÂ§ÑÁêÜÊµÅ ‰ΩøÁî®ËäÇÁÇπÊµÅÔºà‰ΩéÁ∫ßÊµÅÔºâËøõË°åËæìÂÖ•/ËæìÂá∫Êó∂ÔºåÁ®ãÂ∫èÁõ¥Êé•ËøûÊé•Âà∞ÂÆûÈôÖÁöÑÊï∞ÊçÆÊ∫êÔºåÂíåÂÆûÈôÖÁöÑËæìÂÖ•/ËæìÂá∫ËäÇÁÇπËøûÊé•„ÄÇ Â§ÑÁêÜÊµÅÔºàÈ´òÁ∫ßÊµÅÔºâÂØπÂ∑≤Â≠òÂú®ÁöÑÊµÅËøõË°åËøûÊé•ÊàñÂ∞ÅË£ÖÔºåÈÄöËøáÂ∞ÅË£ÖÂêéÁöÑÊµÅÊù•ÂÆûÁé∞Êï∞ÊçÆËØª/ÂÜôÂäüËÉΩ„ÄÇ ‰ΩøÁî®Â§ÑÁêÜÊµÅÊù•ÂåÖË£ÖËäÇÁÇπÊµÅÔºö Á®ãÂ∫èÈÄöËøáÂ§ÑÁêÜÊµÅÔºàÂèàÁß∞È´òÁ∫ßÊµÅ„ÄÅÂåÖË£ÖÊµÅ„ÄÅËøáÊª§ÊµÅÔºâÊù•ÊâßË°åËæìÂÖ•/ËæìÂá∫ÂäüËÉΩÔºåËÆ©ËäÇÁÇπÊµÅ‰∏éÂ∫ïÂ±ÇÁöÑI/OËÆæÂ§á„ÄÅÊñá‰ª∂‰∫§‰∫í„ÄÇÔºàÂ§ÑÁêÜÊµÅÂèØ‚ÄúÂ´ÅÊé•‚ÄùÂú®‰ªª‰ΩïÂ∑≤Â≠òÂú®ÁöÑÊµÅÁöÑÂü∫Á°Ä‰πã‰∏äÔºâ üìå Java‰ΩøÁî®Â§ÑÁêÜÊµÅÊù•ÂåÖË£ÖËäÇÁÇπÊµÅÊòØ‰∏ÄÁßçÂÖ∏ÂûãÁöÑË£ÖÈ•∞Âô®ËÆæËÆ°Ê®°ÂºèÔºåÈÄöËøá‰ΩøÁî®Â§ÑÁêÜÊµÅÊù•ÂåÖË£Ö‰∏çÂêåÁöÑËäÇÁÇπÊµÅÔºåÊó¢ÂèØ‰ª•Ê∂àÈô§‰∏çÂêåËäÇÁÇπÊµÅÁöÑÂÆûÁé∞Â∑ÆÂºÇÔºå‰πüÂèØ‰ª•Êèê‰æõÊõ¥Êñπ‰æøÁöÑÊñπÊ≥ïÊù•ÂÆåÊàêËæìÂÖ•/ËæìÂá∫ÂäüËÉΩ„ÄÇÂõ†Ê≠§Â§ÑÁêÜÊµÅ‰πüË¢´Áß∞‰∏∫ÂåÖË£ÖÊµÅ„ÄÇ java.io - ÁõÆÂΩï Ê†áÂáÜËÆæÂ§áËæìÂÖ•/ËæìÂá∫ Ê†áÂáÜËÆæÂ§áËæìÂÖ•/ËæìÂá∫ÔºöSystem ÊéßÂà∂Âè∞ËØªÂÜôÁ±ªÔºöConsole Êñá‰ª∂Âü∫Êú¨Â§ÑÁêÜ Êñá‰ª∂Êìç‰ΩúÁ±ªÔºöFile Êñá‰ª∂ÊêúÁ¥¢Á±ªÔºöFileFilter„ÄÅFilenameFilter Êñá‰ª∂‰ªªÊÑèËØªÂÜôÁ±ªÔºöRandomAccessFile ËæìÂÖ•/ËæìÂá∫ÊµÅ ËæìÂÖ•/ËæìÂá∫ÊµÅ - ÂàÜÁ±ª ËæìÂÖ•/ËæìÂá∫ÊµÅ - ÂÆûÁé∞Á±ª ÂØπË±°Â∫èÂàóÂåñ Ôºà‰∏âÔºâÊäΩË±°Âü∫Á±ªÊñπÊ≥ïÔºà1ÔºâInputStream Âíå Reader InputStreamÂåÖÂê´ÁöÑ3‰∏™ÊñπÊ≥ïÔºö ÊñπÊ≥ï ËØ¥Êòé int read() ‰ªéËæìÂÖ•ÊµÅ‰∏≠ËØªÂèñÂçï‰∏™Â≠óËäÇÔºåËøîÂõûÊâÄËØªÂèñÁöÑÂ≠óËäÇÊï∞ÊçÆÔºàÂ≠óËäÇÊï∞ÊçÆÂèØÁõ¥Êé•ËΩ¨Êç¢‰∏∫intÁ±ªÂûãÔºâ„ÄÇ int read(byte[] b) ‰ªéËæìÂÖ•ÊµÅ‰∏≠ËØªÂèñÊï∞ÊçÆÔºàÊúÄÂ§öb.length‰∏™Â≠óËäÇÔºâÔºåÂπ∂Â∞ÜÂÖ∂Â≠òÂÇ®Âú®Â≠óËäÇÊï∞ÁªÑb‰∏≠ÔºåËøîÂõûÂÆûÈôÖËØªÂèñÁöÑÂ≠óËäÇÊï∞„ÄÇ int read(byte[] b, int off, int len) ‰ªéËæìÂÖ•ÊµÅ‰∏≠ËØªÂèñÊï∞ÊçÆÔºàÊúÄÂ§ölen‰∏™Â≠óËäÇÔºâÔºåÂπ∂Â∞ÜÂÖ∂Â≠òÂÇ®Âú®Êï∞ÁªÑb‰∏≠ÔºåÊîæÂÖ•Êï∞ÁªÑb‰∏≠Êó∂‰ªéoff‰ΩçÁΩÆÂºÄÂßãÔºàÂπ∂‰∏çÊòØ‰ªéÊï∞ÁªÑËµ∑ÁÇπÂºÄÂßãÔºâÔºåËøîÂõûÂÆûÈôÖËØªÂèñÁöÑÂ≠óËäÇÊï∞„ÄÇ readerÂåÖÂê´ÁöÑ3‰∏™ÊñπÊ≥ïÔºö ÊñπÊ≥ï ËØ¥Êòé int read() ‰ªéËæìÂÖ•ÊµÅ‰∏≠ËØªÂèñÂçï‰∏™Â≠óÁ¨¶ÔºåËøîÂõûÊâÄËØªÂèñÁöÑÂ≠óÁ¨¶Êï∞ÊçÆÔºàÂ≠óÁ¨¶Êï∞ÊçÆÂèØÁõ¥Êé•ËΩ¨Êç¢‰∏∫intÁ±ªÂûãÔºâ„ÄÇ int read(char[] cbuf) ‰ªéËæìÂÖ•ÊµÅ‰∏≠ËØªÂèñÊï∞ÊçÆÔºàÊúÄÂ§öcbuf.length‰∏™Â≠óÁ¨¶ÔºâÔºåÂπ∂Â∞ÜÂÖ∂Â≠òÂÇ®Âú®Â≠óÁ¨¶Êï∞ÁªÑcbuf‰∏≠ÔºåËøîÂõûÂÆûÈôÖËØªÂèñÁöÑÂ≠óÁ¨¶Êï∞„ÄÇ int read(char[] cbuf, int off, int len) ‰ªéËæìÂÖ•ÊµÅ‰∏≠ËØªÂèñÊï∞ÊçÆÔºàÊúÄÂ§ölen‰∏™Â≠óÁ¨¶ÔºâÔºåÂπ∂Â∞ÜÂÖ∂Â≠òÂú®Â≠óÁ¨¶Êï∞ÁªÑcbuf‰∏≠Ôºå‰ªéoff‰ΩçÁΩÆÂºÄÂßãÔºåËøîÂõûÂÆûÈôÖËØªÂèñÁöÑÂ≠óÁ¨¶Êï∞„ÄÇ Ê®°ÂûãÔºö InputStream Âíå Reader ÈÉΩÊòØÂ∞ÜËæìÂÖ•Êï∞ÊçÆÊäΩË±°ÊàêÂ¶ÇÂõæÊâÄÁ§∫ÁöÑÊ∞¥ÁÆ°Ôºö ‰ΩøÁî®Êï∞ÁªÑ‰Ωú‰∏∫ read() ÊñπÊ≥ïÁöÑÂèÇÊï∞Êó∂ÔºåÂèØÁêÜËß£‰∏∫‰ΩøÁî®‰∏Ä‰∏™‚ÄúÁ´πÁ≠í‚ÄùÂà∞Ê∞¥ÁÆ°‰∏≠ÂèñÊ∞¥„ÄÇÁõ¥Âà∞ read(char[] cbuf) Êàñ read(byte[] b) ÊñπÊ≥ïËøîÂõû-1ÔºåË°®ÊòéÂà∞‰∫ÜËæìÂÖ•ÊµÅÁöÑÁªìÊùüÁÇπ„ÄÇ Ôºà2ÔºâOutputStream Âíå Writer OutputStreamÂåÖÂê´ÁöÑ3‰∏™ÊñπÊ≥ïÔºö ÊñπÊ≥ï ËØ¥Êòé void write(int c) Â∞ÜÊåáÂÆöÁöÑÂ≠óËäÇ/Â≠óÁ¨¶cËæìÂá∫Âà∞ËæìÂá∫ÊµÅ‰∏≠„ÄÇ int write(byte[]/char[] buf) Â∞ÜÂ≠óËäÇÊï∞ÁªÑ/Â≠óÁ¨¶Êï∞ÁªÑ‰∏≠ÁöÑÊï∞ÊçÆËæìÂá∫Âà∞ÊåáÂÆöËæìÂá∫ÊµÅ‰∏≠„ÄÇ int write(byte[]/char[] buf, int off, int len) ‰ªéËæìÂÖ•ÊµÅ‰∏≠ËØªÂèñÊï∞ÊçÆÔºàÊúÄÂ§ölen‰∏™Â≠óËäÇÔºâÔºåÂπ∂Â∞ÜÂÖ∂Â≠òÂÇ®Âú®Êï∞ÁªÑb‰∏≠ÔºåÊîæÂÖ•Êï∞ÁªÑb‰∏≠Êó∂‰ªéoff‰ΩçÁΩÆÂºÄÂßãÔºàÂπ∂‰∏çÊòØ‰ªéÊï∞ÁªÑËµ∑ÁÇπÂºÄÂßãÔºâÔºåËøîÂõûÂÆûÈôÖËØªÂèñÁöÑÂ≠óËäÇÊï∞„ÄÇ WriterÂåÖÂê´ÁöÑ2‰∏™ÊñπÊ≥ïÔºö WriterÂèØ‰ª•Áî®Â≠óÁ¨¶‰∏≤Êù•‰ª£ÊõøÂ≠óÁ¨¶Êï∞ÁªÑÔºåÂç≥‰ª•StringÂØπË±°‰Ωú‰∏∫ÂèÇÊï∞ ÊñπÊ≥ï ËØ¥Êòé int write(String str) Â∞ÜstrÂ≠óÁ¨¶‰∏≤ÈáåÂåÖÂê´ÁöÑÂ≠óÁ¨¶ËæìÂá∫Âà∞ÊåáÂÆöËæìÂá∫ÊµÅ‰∏≠„ÄÇ int write(String str, int off, int len) Â∞ÜstrÂ≠óÁ¨¶‰∏≤Èáå‰ªéoff‰ΩçÁΩÆÂºÄÂßãÔºåÈïøÂ∫¶‰∏∫lenÁöÑÂ≠óÁ¨¶ËæìÂá∫Âà∞ÊåáÂÆöËæìÂá∫ÊµÅ‰∏≠„ÄÇ ÔºàÂõõÔºâ*ÊµÅ‰ΩìÁ≥ª ÂàÜÁ±ª Â≠óËäÇËæìÂÖ•ÊµÅ Â≠óËäÇËæìÂá∫ÊµÅ Â≠óÁ¨¶ËæìÂÖ•ÊµÅ Â≠óÁ¨¶ËæìÂá∫ÊµÅ ÊäΩË±°Á±ª InputStream OutputStream Reader Writer ËΩ¨Êç¢Á±ª InputStream-Reader OutputStream-Writer Á¨¨‰∏ÄÁ±ªÔºöÊï∞ÊçÆÊ∫êÁ±ª Êñá‰ª∂ File-InputStream File-OutputStream FileReader FilerWriter Êï∞ÁªÑ ByteArray-InputStream ByteArray-OutputStream CharArray-Reader CharArray-Writer ÂØπË±° Object-InputStream Object-OutputStream Â≠óÁ¨¶‰∏≤ StringBuffer-InputStream StringReader StringWriter Á¨¨‰∫åÁ±ªÔºöÊï∞ÊçÆÊµÅ‰∏≤ËÅîÁ±ª ÁÆ°ÈÅì Pipe-InputStream Pipe-OutputStream PipeReader PipeWriter Â∫èÂàó Sequence-InputStream Á¨¨‰∏âÁ±ªÔºöÊï∞ÊçÆÊµÅËøáÊª§Á±ª ËøáÊª§ Filter-InputStream Filter-OutputStream FilterReader FilterWriter ÁºìÂÜ≤ Buffered-InputStream Buffered-OutputStream Buffered-Reader Buffered-Writer Êï∞ÊçÆ Data-InputStream Data-OutputStream Ë°åÂè∑ LineNumber-InputStream LineNumber-Reader Êé®Âõû Pushback-InputStream Pushback-Reader Ê†ºÂºèÂåñ PrintStream PrintWriter ËØ¥ÊòéÔºö graph LR T([\"ÊµÅ‰ΩìÁ≥ªËØ¥Êòé\"]):::p T -.- 1(\"ÊäΩË±°Âü∫Á±ªÊó†Ê≥ïÁõ¥Êé•ÂàõÂª∫ÂÆû‰æãÔºåÂøÖÈ°ªÈÄöËøáÂ≠êÁ±ªÂàõÂª∫\"):::p T -.- 2(\"Êï∞ÊçÆÊ∫êÁ±ªÔºàËäÇÁÇπÊµÅÔºâÂàõÂª∫ÂêÑÁßçÊµÅÁöÑËµ∑ÂßãÁ±ªÔºåÂøÖÈ°ª‰∏éÊåáÂÆöÁâ©ÁêÜËäÇÁÇπÂÖ≥ËÅî\"):::g T -.- 3(\"Êï∞ÊçÆÊµÅ‰∏≤ËÅîÁ±ªÊï∞ÊçÆÊµÅËøáÊª§Á±ªÊòØÂØπÂêÑÁßçÊµÅÂÆû‰æãÁöÑÂåÖË£Ö\"):::g T -.- 4(\"#12288;#12288;#12288;ËΩ¨Êç¢Á±ª#12288;#12288;#12288;\"):::g %% ÊäΩË±°Âü∫Á±ª 1 -.- input(\"InputStream„ÄÅOutputStream„ÄÅReader„ÄÅWriter ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶ &nbsp;FilterInputStream„ÄÅFilterOutputStream„ÄÅ#12288;#12288; FilterReader„ÄÅFilterWriter#12288;#12288;#12288;#12288;#12288;#12288;#12288;#12288;#12288; \"):::lp %% Êï∞ÊçÆÊ∫êÁ±ª 2-.- array(\"&nbsp;Êñá‰ª∂ÊµÅÔºö‰ª•Êñá‰ª∂‰∏∫Êï∞ÊçÆÊ∫êÔºåÂèØÊìç‰ΩúÊñá‰ª∂‰∏≠ÁöÑÂÜÖÂÆπ ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶ &nbsp;Êï∞ÁªÑÊµÅÔºöÂ∞ÜÂÜÖÂ≠ò‰∏≠ÁöÑÂÜÖÈÉ®ÁºìÂ≠òÂå∫‰Ωú‰∏∫Êï∞ÊçÆÊ∫ê„ÄÇ#12288; ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶ &nbsp;ÂØπË±°ÊµÅÔºöÈÄöËøáÂ≠óËäÇÊµÅËØªÂÜôÂØπË±°ÔºåÂÆûÁé∞ÂØπË±°Â∫èÂàóÂåñ ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶ &nbsp;Â≠óÁ¨¶‰∏≤ÔºöÊï∞ÊçÆÊ∫ê‰∏∫Â≠óÁ¨¶‰∏≤ÁöÑÂ≠óÁ¨¶ÊµÅ„ÄÇ#12288;#12288;#12288;#12288;#12288; \"):::lg %% ÊµÅ‰∏≤ËÅîÁ±ª 3 -.- pip(\"&nbsp;ÁÆ°ÈÅìÊµÅÔºöÁÆ°ÈÅì(pipe)ÔºåÂÆûÁé∞ËøõÁ®ãÈó¥ÁöÑÈÄö‰ø°ÂäüËÉΩ„ÄÇ&nbsp; ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶ &nbsp;Â∫èÂàóÊµÅÔºöË°®Á§∫ÂÖ∂‰ªñËæìÂÖ•ÊµÅÁöÑÈÄªËæë‰∏≤ËÅî,ÂèØÂêàÂπ∂ÊµÅ„ÄÇ \"):::lg %% ÊµÅËøáÊª§Á±ª 3 -.- ft(\"&nbsp;ËøáÊª§ÊµÅÔºöÂ∞ÅË£ÖÂÖ∂‰ªñÊµÅÔºåÂπ∂‰∏∫ÂÆÉ‰ª¨Êèê‰æõÈ¢ùÂ§ñÂäüËÉΩ„ÄÇ ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶ &nbsp;ÁºìÂÜ≤ÊµÅÔºöÂ¢ûÂä†ÁºìÂÜ≤ÂäüËÉΩÔºåÂØπÊµÅËµ∑ÁºìÂÜ≤Ë£ÖÈ•∞„ÄÇ#12288;#12288; ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶ &nbsp;Êï∞ÊçÆÊµÅÔºöÂèØÊåâ8ÁßçÂü∫Êú¨Á±ªÂûãÂíåÂ≠óÁ¨¶‰∏≤Êù•ËØªÂÜôÊµÅ„ÄÇ&nbsp; ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶ &nbsp;Ë°åÂè∑ÊµÅÔºöÂèØË∑üË∏™„ÄÅËÆæÁΩÆË°åÂè∑ÔºåÊ†áËÆ∞‰ª•ÊÅ¢Â§çÁ≠â„ÄÇ#12288; ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶ &nbsp;Êé®ÂõûÊµÅÔºöÂ∞ÜÂÜÖÂÆπÊé®ÂõûÂà∞Êé®ÂõûÁºìÂÜ≤Âå∫‰ª•ÈáçÂ§çËØªÂèñ„ÄÇ ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶ &nbsp;ÊâìÂç∞ÊµÅÔºöÂ∞ÜÂü∫Êú¨Á±ªÂûã„ÄÅÂØπË±°ËæìÂá∫‰∏∫Â≠óÁ¨¶‰∏≤Ë°®Á§∫„ÄÇ \"):::lg %% ËΩ¨Êç¢Á±ª 4 -.- isr(\"ËΩ¨Êç¢ÊµÅÔºöÂ∞ÜÂ≠óËäÇÊµÅËΩ¨Êç¢ÊàêÂ≠óÁ¨¶ÊµÅ#12288;#12288;#12288;#12288;#12288;#12288;#12288;#12288;\"):::lg classDef p fill:#e5c0cb classDef b fill:#aab7d2 classDef g fill:#a6ccc3 classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#737379,stroke-dasharray: 3 3, stroke-width: 2px - end - üîñ Á¨îËÆ∞Êù•Ëá™Ôºö „ÄäJavaÁºñÁ®ãÁöÑÈÄªËæë„Äã „ÄäJavaÈ´òÊâãÁúüÁªèÔºàÁºñÁ®ãÂü∫Á°ÄÂç∑Ôºâ„Äã „ÄäÁñØÁãÇJavaËÆ≤‰πâ„Äã","categories":[{"name":"JavaÂü∫Á°Ä","slug":"JavaÂü∫Á°Ä","permalink":"https://equnee.github.io/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://equnee.github.io/tags/Java/"},{"name":"I/O","slug":"I-O","permalink":"https://equnee.github.io/tags/I-O/"}]},{"title":"IO - ËæìÂÖ•/ËæìÂá∫ÊµÅ‚ëµ_ÂÆûÁé∞Á±ª","slug":"note/Basics/IO/IO_IO_2","date":"2023-05-09T06:59:55.657Z","updated":"2023-05-16T07:36:11.395Z","comments":true,"path":"note/Basics/IO/IO_IO_2/","link":"","permalink":"https://equnee.github.io/note/Basics/IO/IO_IO_2/","excerpt":"","text":"java.io - ÁõÆÂΩï Ê†áÂáÜËÆæÂ§áËæìÂÖ•/ËæìÂá∫ Ê†áÂáÜËÆæÂ§áËæìÂÖ•/ËæìÂá∫ÔºöSystem ÊéßÂà∂Âè∞ËØªÂÜôÁ±ªÔºöConsole Êñá‰ª∂Âü∫Êú¨Â§ÑÁêÜ Êñá‰ª∂Êìç‰ΩúÁ±ªÔºöFile Êñá‰ª∂ÊêúÁ¥¢Á±ªÔºöFileFilter„ÄÅFilenameFilter Êñá‰ª∂‰ªªÊÑèËØªÂÜôÁ±ªÔºöRandomAccessFile ËæìÂÖ•/ËæìÂá∫ÊµÅ ËæìÂÖ•/ËæìÂá∫ÊµÅ - ÂàÜÁ±ª ËæìÂÖ•/ËæìÂá∫ÊµÅ - ÂÆûÁé∞Á±ª ÂØπË±°Â∫èÂàóÂåñ ÊµÅ‰ΩìÁ≥ªÔºö ÂàÜÁ±ª Â≠óËäÇËæìÂÖ•ÊµÅ Â≠óËäÇËæìÂá∫ÊµÅ Â≠óÁ¨¶ËæìÂÖ•ÊµÅ Â≠óÁ¨¶ËæìÂá∫ÊµÅ ÊäΩË±°Á±ª InputStream OutputStream Reader Writer ËΩ¨Êç¢Á±ª InputStream-Reader OutputStream-Writer Á¨¨‰∏ÄÁ±ªÔºöÊï∞ÊçÆÊ∫êÁ±ª Êñá‰ª∂ File-InputStream File-OutputStream FileReader FilerWriter Êï∞ÁªÑ ByteArray-InputStream ByteArray-OutputStream CharArray-Reader CharArray-Writer ÂØπË±° Object-InputStream Object-OutputStream Â≠óÁ¨¶‰∏≤ StringBuffer-InputStream StringReader StringWriter Á¨¨‰∫åÁ±ªÔºöÊï∞ÊçÆÊµÅ‰∏≤ËÅîÁ±ª ÁÆ°ÈÅì Pipe-InputStream Pipe-OutputStream PipeReader PipeWriter Â∫èÂàó Sequence-InputStream Á¨¨‰∏âÁ±ªÔºöÊï∞ÊçÆÊµÅËøáÊª§Á±ª ËøáÊª§ Filter-InputStream Filter-OutputStream FilterReader FilterWriter ÁºìÂÜ≤ Buffered-InputStream Buffered-OutputStream Buffered-Reader Buffered-Writer Êï∞ÊçÆ Data-InputStream Data-OutputStream Ë°åÂè∑ LineNumber-InputStream LineNumber-Reader Êé®Âõû Pushback-InputStream Pushback-Reader Ê†ºÂºèÂåñ PrintStream PrintWriter Ôºà‰∏ÄÔºâÊñá‰ª∂ÊµÅgraph LR T([\"Êñá‰ª∂ÊµÅÔºà‰ΩéÁ∫ßÊñá‰ª∂ÊµÅÔºâ\"]):::p T --> t(\"ÂèØÊìç‰ΩúÊñá‰ª∂‰∏≠ÁöÑÂÜÖÂÆπ\"):::info t --> A([\"ÊåâÁÖß(ËØª/ÂÜô)ÊñπÂêëÂàÜÁ±ª\"]):::p t --> B([\"ÊåâÁÖß(ËØª/ÂÜô)Â≠óËäÇÊï∞Â§ßÂ∞èÂàÜÁ±ª\"]):::b A -.-> |\"inÔºàËØªÂèñÔºâ\"| a(\"Êñá‰ª∂ËæìÂÖ•ÊµÅÂ≠óËäÇÂûãÊñá‰ª∂ËæìÂÖ•ÊµÅÂ≠óÁ¨¶ÂûãÊñá‰ª∂ËæìÂÖ•ÊµÅ\"):::lp A -.-> |\"outÔºàÂÜôÂÖ•Ôºâ\"| a2(\"Êñá‰ª∂ËæìÂá∫ÊµÅÂ≠óËäÇÂûãÊñá‰ª∂ËæìÂá∫ÊµÅÂ≠óÁ¨¶ÂûãÊñá‰ª∂ËæìÂá∫ÊµÅ\"):::lp B -.-> |\"1Â≠óËäÇ\"| b(\"Â≠óËäÇÂûãÊñá‰ª∂ÊµÅFileInputStreamFileOUtputStream\"):::lb B -.-> |\"1Â≠óÁ¨¶Ôºà2Â≠óËäÇÔºâ\"| b2(\"Â≠óÁ¨¶ÂûãÊñá‰ª∂ÊµÅFileReaderFileWriter\"):::lb classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#737379,stroke-dasharray: 3 3, stroke-width: 2px Ôºà1ÔºâFileInputStramÂ≠óËäÇÂûãÊñá‰ª∂ËæìÂÖ•ÊµÅ * ÁªßÊâøÂÖ≥Á≥ªÁªßÊâø‰∫é InputStream Á±ªÔºàÂ≠óËäÇÂûãËæìÂÖ•ÊµÅÔºâ * ÊûÑÈÄ†ÊñπÊ≥ï ÊûÑÈÄ†ÊñπÊ≥ï ËØ¥Êòé ÔºàÊ≤°ÊúâÊó†ÂèÇÊûÑÈÄ†ÊñπÊ≥ïÔºâ FileInputStram(File file) ÈÄöËøáFileÂØπË±°ÊûÑÈÄ† FileInputStram(String name) ÈÄöËøáÊñá‰ª∂Ë∑ØÂæÑÂ≠óÁ¨¶‰∏≤ÊûÑÈÄ† * Â∏∏Áî®ÊñπÊ≥ï Â∏∏Áî®ÊñπÊ≥ï ËØ¥Êòé ËøîÂõûÂÄºÁ±ªÂûã finalize() GCÂØπË±°ÂõûÊî∂ available() ËøîÂõûÂΩìÂâçÊµÅÁÆ°ÈÅì‰∏≠ÊúâÂ§öÂ∞ëÁºìÂ≠òÂ≠óËäÇÔºåÊØèÊ¨°ËØªÂèñ‰∏Ä‰∏™Â≠óËäÇÂØπÂ∫îÁöÑ Unicode Á†Å„ÄÇÔºàËØªÂæóÂà∞ËøîÂõû 0‚Äì65536ÔºåËØª‰∏çÂà∞ËøîÂõû-1Ôºâ int üî∫ read() ‰ªéËæìÂÖ•ÊµÅ‰∏≠ËØªÂèñÂçï‰∏™Â≠óËäÇÔºåËøîÂõûËØªÂèñÁöÑÂ≠óËäÇÊï∞ÊçÆÔºàUnicodeÁ†ÅÔºâ int read(byte[])ÔºöÂ∞ÜËæìÂÖ•ÊµÅÂÜÖÂÆπÂÜôÂÖ•Êï∞ÁªÑÈáåÔºåËøîÂõûÂÆûÈôÖËØªÂèñÁöÑÂ≠óËäÇÊï∞„ÄÇ int read(byte[] b, int off, int leng)ÔºöÂ∞ÜËæìÂÖ•ÊµÅÂÜÖÂÆπÂÜôÂÖ•Êï∞ÁªÑÈáåÔºå‰ªéoff‰ΩçÁΩÆÂºÄÂßãÔºåÊîæÂÖ•len‰∏™Â≠óËäÇÔºà‰∏çÊòØ‰ªéÊï∞ÁªÑËµ∑ÁÇπÂºÄÂßãÔºâÔºåËøîÂõûÂÆûÈôÖËØªÂèñÁöÑÂ≠óËäÇÊï∞„ÄÇ int skip() Ë∑≥ËøáÂá†‰∏™Â≠óËäÇËØªÂèñ long n close() ÂÖ≥Èó≠ÊµÅÁÆ°ÈÅìÔºà‚ö†Ô∏è ÂøÖÈ°ªË¶ÅÂÅöÔºåÊúÄÂ•ΩÊîæÂú® finally{} ÈáåÔºâ - read()ÂàõÂª∫‰∏Ä‰∏™Â≠óËäÇÂûãÊñá‰ª∂ËæìÂÖ•ÊµÅÔºåËØªÂèñÊñá‰ª∂‰∏≠ÁöÑÂÜÖÂÆπ„ÄÇ try&#123; File file = new File(&quot;D://Test//test.txt&quot;); FileInputStream fis = new FileInputStram(file); int i = fis.read(); // ‚Üê ÊØèÊ¨°ËØªÂèñ‰∏Ä‰∏™Â≠óËäÇ while(i!=-1)&#123; System.out.ptinln(i); // ‚Üí ËøîÂõûÂ≠óËäÇÂØπÂ∫îÂæóUnicodeÁ†Å i = fis.read(); &#125;&#125;catch(IOException e)&#123; e.printStackTrace;&#125; - read(byte[] b)ËØªÂèñÊñá‰ª∂ÂÜÖÂÆπÔºåË£ÖÂÖ•Êï∞ÁªÑÂÜÖ„ÄÇËøîÂõûËØªÂèñÁöÑÊúâÊïàÂ≠óÁ¨¶‰∏™Êï∞„ÄÇ try&#123; FileInputStream fis = new FileInputStram(&quot;D://Test//test.txt&quot;); byte[] b = new bytep[5]; int count = fis.read(b); // ‚Üê ËØªÂèñÊñá‰ª∂ÂÜÖÂÆπÔºåË£ÖËøõÊï∞ÁªÑÈáå while(count!=-1)&#123; // ‚Üí ËøîÂõûËØªÂèñÂà∞ÁöÑÊúâÊïàÂ≠óËäÇ‰∏™Êï∞ // üî∏ String value = new String(b); String value = new String(b, 0, count); // ‰ΩøÁî®ÂÅèÁßªÈáèÊûÑÈÄ†Â≠óËäÇÂûãÊï∞ÁªÑÂ≠óÁ¨¶‰∏≤ System.out.ptint(value); // count = fis.read(b); &#125; &#125;catch(IOException e)&#123; e.printStackTrace; &#125;/* Êñá‰ª∂ÂÜÖÂÆπÔºö * abcdefg * hijklmn * opq *//* üî∏ Áõ¥Êé•‰ΩøÁî®String(b)ËØªÂèñÂÜÖÂÆπÔºö * a b c d e * f g \\r \\n h * i j k l m * n \\r \\n o p * q \\r \\n o p &lt;‚Äî‚Äî Âà∞qÁªìÊùüÔºå‰ΩÜÊòØ‰πãÂâçÁöÑÊ≤°ÊúâË¢´ÊõøÊç¢Êéâ - skip()try &#123; FileInputStream fis = new FileInputStream(&quot;D://Test//test.txt&quot;); fis.skip(2); int code = fis.read(); // c System.out.println((char)code);&#125; catch (IOException e) &#123; e.printStackTrace();&#125; - close()try&#123; File file = new File(&quot;D://Test//test.txt&quot;); FileOutStream fos = new FileOutStram(file); fos.write(97); // ÂÜôÂÖ•codeÁ†Å fos.flush(); // Âà∑Êñ∞ Â∞ÜÁÆ°ÈÅì‰∏≠ÁöÑÂ≠óËäÇÊé®ÂÖ•Êñá‰ª∂‰∏≠&#125;catch(IOException e)&#123; e.printStackTrace;&#125; Ôºà2ÔºâFileOutputStreamÂ≠óËäÇÂûãÊñá‰ª∂ËæìÂá∫ÊµÅ * ÁªßÊâøÂÖ≥Á≥ªÁªßÊâø‰∫é OutputStream Á±ª * ÊûÑÈÄ†ÊñπÊ≥ï ÊûÑÈÄ†ÊñπÊ≥ï ËØ¥Êòé ÔºàÊ≤°ÊúâÊó†ÂèÇÊûÑÈÄ†ÊñπÊ≥ïÔºâ FileOutputStram(File file) Âà©Áî®FileÂØπË±°ÊûÑÈÄ†ÔºàÈªòËÆ§Ë¶ÜÁõñÂéüÊñáÔºâ FileOutputStram(File file, Boolean append) Âà©Áî®FileÂØπË±°ÊûÑÈÄ†„ÄÅÊòØÂê¶Â∞ÜÂÜÖÂÆπËøΩÂä†Âà∞Êñá‰ª∂Êú´Â∞æÔºàtrueÔºö‰∏çË¶ÜÁõñÔºâ FileOutputStram(String name) ÈÄöËøáÊñá‰ª∂Ë∑ØÂæÑÂ≠óÁ¨¶‰∏≤ÊûÑÈÄ† FileOutputStram(String name, Boolean append) ÈÄöËøáÊñá‰ª∂Ë∑ØÂæÑÊûÑÈÄ†„ÄÅÊòØÂê¶ËøΩÂä†Âà∞Êñá‰ª∂Êú´Â∞æ * Â∏∏Áî®ÊñπÊ≥ï Â∏∏Áî®ÊñπÊ≥ï ËØ¥Êòé *finalize()* GCÂØπË±°ÂõûÊî∂ write() ÂÜôÂÖ•Âà∞Êñá‰ª∂Ôºà‰∏éread()Âå∫Âà´Ôºâ write(int code)ÔºöÂ∞ÜÁªôÂÆöcodeÂÜôÂÖ•Êñá‰ª∂ Ôºà‚Äô=‚ÄôÂ≠óÁ¨¶char‰πüË°å,‰ºöËá™Âä®ËΩ¨Êç¢Ôºâ write(byte[])Ôºö Â∞ÜÊï∞ÁªÑÂÜÖÂÆπÂÜôÂÖ•Êñá‰ª∂ÊµÅÈáåÔºàString‚ÄîgetByte()Ôºâ flush() Âà∑Êñ∞ÔºöÂ∞ÜÁÆ°ÈÅìÂÜÖÂ≠óËäÇÊé®ÂÖ•Êñá‰ª∂ close() * Ê≥®ÊÑèÔºöÂú®finally‰∏≠ÂÖ≥Èó≠ - write()try&#123; File file = new File(&quot;D://Test//test.txt&quot;); FileOutStream fos = new FileOutStram(file); fos.write(97); // ÂÜôÂÖ•codeÁ†Å fos.flush(); // Âà∑Êñ∞ Â∞ÜÁÆ°ÈÅì‰∏≠ÁöÑÂ≠óËäÇÊé®ÂÖ•Êñá‰ª∂‰∏≠ &#125;&#125;catch(IOException e)&#123; e.printStackTrace;&#125; Ôºà3ÔºâFileReaderÂ≠óÁ¨¶ÂûãÊñá‰ª∂ËæìÂÖ•ÊµÅ * ÁªßÊâøÂÖ≥Á≥ªÁªßÊâø‰∫éInputStreamReader Á±ªÔºàÂ≠óËäÇÂûãËæìÂÖ•ÊµÅÔºâ * ÊûÑÈÄ†ÊñπÊ≥ï ÊûÑÈÄ†ÊñπÊ≥ï ËØ¥Êòé ÔºàÊ≤°ÊúâÊó†ÂèÇÊûÑÈÄ†ÊñπÊ≥ïÔºâ FileReader(File file) ÈÄöËøáFileÂØπË±°ÊûÑÈÄ†ÔºàÈªòËÆ§Ë¶ÜÁõñÂéüÊñáÔºâ FIleReader(String fileName) ÈÄöËøáÊñá‰ª∂Ë∑ØÂæÑÂ≠óÁ¨¶‰∏≤ÊûÑÈÄ† FileReader(FileDescriptor fd) ÈÄöËøáÊñá‰ª∂ÊèèËø∞Á¨¶ÊûÑÂª∫ÔºàÊñá‰ª∂ÊèèËø∞Á¨¶ÁöÑÊúâÊïàËåÉÂõ¥ÊòØ 0 Âà∞ OPEN_MAXÔºâ * Â∏∏Áî®ÊñπÊ≥ï Â∏∏Áî®ÊñπÊ≥ï ËØ¥Êòé üî∫ read() ‰ªéËæìÂÖ•ÊµÅ‰∏≠ËØªÂèñÂçï‰∏™Â≠óÁ¨¶ÔºåËøîÂõûÊâÄËØªÂèñÁöÑÂ≠óÁ¨¶Êï∞ÊçÆ int read(char[] cbuf) ‰ªéËæìÂÖ•ÊµÅ‰∏≠ÊúÄÂ§öËØªÂèñcbuf.length‰∏™Â≠óÁ¨¶ÁöÑÊï∞ÊçÆÔºåÂπ∂Â∞ÜÂÖ∂Â≠òÂÇ®Âú®Â≠óÁ¨¶Êï∞ÁªÑcbuf‰∏≠ÔºåËøîÂõûÂÆûÈôÖËØªÂèñÁöÑÂ≠óÁ¨¶Êï∞„ÄÇ int read(char[] cbuf, int off, int len) ‰ªéËæìÂÖ•ÊµÅ‰∏≠ÊúÄÂ§öËØªÂèñlen‰∏™Â≠óÁ¨¶ÁöÑÊï∞ÊçÆÔºåÂπ∂Â∞ÜÂÖ∂Â≠òÂÇ®Âú®Â≠óÁ¨¶Êï∞ÁªÑcbuf‰∏≠Ôºå‰ªéoff‰ΩçÁΩÆÂºÄÂßãÂ≠òÂÇ®ÔºàÂπ∂‰∏çÊòØ‰ªéÊï∞ÁªÑËµ∑ÁÇπÂºÄÂßãÔºâÔºåËøîÂõûÂÆûÈôÖËØªÂèñÁöÑÂ≠óÁ¨¶Êï∞„ÄÇ Ôºà4ÔºâFileWriterÂ≠óÁ¨¶ÂûãÊñá‰ª∂ËæìÂá∫ÊµÅ * ÁªßÊâøÂÖ≥Á≥ªÁªßÊâø‰∫é OutputStreamWriter Á±ª ÔºàÂ≠óËäÇÂûãËæìÂá∫ÊµÅÔºâ * ÊûÑÈÄ†ÊñπÊ≥ï ÊûÑÈÄ†ÊñπÊ≥ï ËØ¥Êòé ÔºàÊ≤°ÊúâÊó†ÂèÇÊûÑÈÄ†ÊñπÊ≥ïÔºâ FileWriter(File file) Âà©Áî®FileÂØπË±°ÊûÑÂª∫ÔºàÈªòËÆ§Ë¶ÜÁõñÂéüÊñáÔºâ FileWriter(File file, Boolean boolean) Âà©Áî®FileÂØπË±°ÊûÑÈÄ†„ÄÅÊòØÂê¶Â∞ÜÂÜÖÂÆπËøΩÂä†Âà∞Êñá‰ª∂Êú´Â∞æÔºàtrueÔºö‰∏çË¶ÜÁõñÔºâ FileWriter(String name) ÈÄöËøáÊñá‰ª∂Ë∑ØÂæÑÂ≠óÁ¨¶‰∏≤ÊûÑÈÄ† FileWriter(String name, Boolean boolean) ÈÄöËøáÊñá‰ª∂Ë∑ØÂæÑÂ≠óÁ¨¶‰∏≤ÊûÑÈÄ†„ÄÅÊòØÂê¶ËøΩÂä†Âà∞Êñá‰ª∂Êú´Â∞æ * Â∏∏Áî®ÊñπÊ≥ï Â∏∏Áî®ÊñπÊ≥ï ËØ¥Êòé write() ËØªÂèñ write(char) write(String) - write()String str = &quot;abc&quot;;char[] c = str.toCharArray();FileWriter fw = new FileWriter(file);fw.write(97);fw.write(c); Ôºà5ÔºâDemo‚ë† Êñá‰ª∂ÁöÑÂ§çÂà∂import java.io.*;public class OperateFile &#123; public void copyFile(File file, String path)&#123; try &#123; // üîª 0 ÂàõÂª∫ÂØπË±° FileInputStream fis = new FileInputStream(new File(&quot;D://test.txt&quot;)); File newFile = new File(path + &quot;//&quot; + file.gsetName()); FileOutputStream fos = new FileOutputStream(newFile); // üîª 1 ËØªÂèñÊñá‰ª∂ byte[] b = new byte[1024]; // ÈÄöÂ∏∏ÂàõÂª∫ÁöÑÊï∞ÁªÑÔºö1kb-8kb‰πãÈó¥ int count = fis.read(b); // countËÆ∞ÂΩïËØªÂèñÁöÑÊúâÊïàÂ≠óËäÇÊï∞ÔºåËØªÂèñÂà∞byteÊï∞ÁªÑbÈáå // üîª 2 ÂÜôÂÖ•Êñá‰ª∂ while(count!=-1)&#123; // ÂΩìËÉΩËØªÂèñÂà∞ÂÜÖÂÆπÊó∂ // üî∏ÔºàÂÅöÁÇπÊâãËÑöÔºâ fos.write(b, 0, count); // ÂÜôÂÖ•ÊúâÊïàÂ≠óËäÇÊï∞ fos.flush(); count = fis.read(b); // ÊúÄÂêéÂÜçÊ¨°ËØªÂèñÔºåËØªÂèñ‰∏çÂà∞ÂÜÖÂÆπÊó∂Ôºåcount=-1Êó∂ÈÄÄÂá∫whileÂæ™ÁéØ &#125; System.out.println(&quot;Â§çÂà∂ÂÆåÊØïÔºÅ&quot;); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; finally &#123; // ÂÖ≥Èó≠ &#125; &#125; public static void main(String[] args) &#123; OperateFile of = new OperateFile(); of.copyFile(new File(&quot;D://test.txt&quot;), &quot;D://test&quot;); &#125;&#125; ‚ë° Êñá‰ª∂ÁöÑÂä†ÂØÜ// ËØªÂèñÊñá‰ª∂ -&gt; ÂÅöÁÇπÊâãËÑö -&gt; ÂÜôÂÖ•Êñá‰ª∂byte temp = b[0];b[0] = b[1];b[1] = temp; ‚ë¢ Êñá‰ª∂Â§πÁöÑÂ§çÂà∂public void superCopyFile(File file, String newPath)&#123; String oldFilePath = file.getAbsolutePath(); String newFilePath = newPath + oldFilePath.split(&quot;:&quot;)[1]; File[] files = file.listFiles(); // Ëé∑ÂèñÂΩìÂâç‰º†ÈÄíËøõÊù•ÁöÑFileÂØπË±°ÁöÑÊâÄÊúâÂ≠êÂÖÉÁ¥† File newFile = new File(newFilePath); // Âà§Êñ≠ÂΩìÂâç‰º†ÈÄíËøõÊù•ÁöÑfileÊòØ‰∏™Êñá‰ª∂ËøòÊòØ‰∏™Êñá‰ª∂Â§π Ôºà‚ë†isFile isDirectory ‚ë°listFile) if(files!=null)&#123; // üîª 1. Êñá‰ª∂Â§πÔºàÊâçËÉΩÊûÑÊàêÊñá‰ª∂Êï∞ÁªÑÂØπË±°Ôºâ newFile.mkdir(); // ÈÄöËøáÊñ∞ÁöÑfileÂØπË±°Êìç‰Ωú Âú®Á°¨Áõò‰∏äÂàõÂª∫‰∏Ä‰∏™Êñá‰ª∂Â§π if(files.length!=0)&#123; // üîª 3. Êñá‰ª∂Â§πÂÜÖÊúâÊñá‰ª∂ for(File f:files)&#123; this.superCopyFile(f, newPath); // üëà ‰ΩøÁî®ÈÄíÂΩí &#125; &#125; System.out.println(newFile.getName() + &quot;Êñá‰ª∂Â§πÂ§çÂà∂ÂÆåÊàêÔºÅ&quot;); &#125; else &#123; // üîª 2. Êñá‰ª∂ ÔºàÊ≤°ÊúâÂ≠êÊñá‰ª∂‰∫ÜÔºâ FileInputStream fis = null; FileOutputStream fos = null; try &#123; fis = new FileInputStream(new File(oldFilePath)); fos = new FileOutputStream(newFile); byte[] b = new byte[1024]; int count = fis.read(b); while(count!=-1)&#123; fos.write(b,0,count); fos.flush(); count = fis.read(b); &#125; System.out.println(newFile.getName() + &quot;Êñá‰ª∂Â§çÂà∂ÂÆåÊàêÔºÅ&quot;); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; finally &#123; if(fis!=null)&#123; try &#123; fis.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; if (fos!=null)&#123; try &#123; fos.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125;&#125; Ôºà‰∫åÔºâÂØπË±°ÊµÅÔºà1ÔºâÂØπË±°Â∫èÂàóÂåñ%%{ init: { 'themeVariables': { 'fontSize': '12px' } } }%% graph LR subgraph \"Â∫îÁî®Â±Ç1\" A(\"ÂØπË±°\"):::lb end subgraph \"Â∫îÁî®Â±Ç2\" B(\"ÂØπË±°\"):::lb end subgraph \"ÁΩëÁªúÂçèËÆÆ\" C(\"‰∫åËøõÂà∂ÊµÅ\"):::p end A --> |\"[ ËΩ¨Êç¢ ]ObjectOutputStreamFileOutputStream\"|C C --> |\"[ ËøòÂéü ]ObjectInputStreamFileInputStream\"|B style ÁΩëÁªúÂçèËÆÆ fill:#f4e4e9, stroke-dasharray: 3 3, stroke-width: 2px classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#3f3f3f,stroke-dasharray: 3 3, stroke-width: 1px Â∫èÂàóÂåñÔºöÂØπË±°ÁöÑÊåÅ‰πÖÂ≠òÂÇ® ObjectOutputStream Âíå ObjectInputStream ÂàÜÂà´‰∏é FileOutputStream Âíå FileInputStream ‰∏ÄËµ∑‰ΩøÁî®ÔºåÈÄöËøáÂú®ÊµÅ‰∏≠‰ΩøÁî®Êñá‰ª∂ÂèØ‰ª•ÂÆûÁé∞ÂØπË±°ÁöÑÊåÅ‰πÖÂ≠òÂÇ®„ÄÇ ObjectInputStreamÔºöÁî®‰∫éÊÅ¢Â§çÈÇ£‰∫õÂ∑≤ÁªèÂ∫èÂàóÂåñÂ≠òÂÇ®ÁöÑÂØπË±°„ÄÇÁ°Æ‰øù‰ªéÊµÅÂàõÂª∫ÁöÑÂõæÂΩ¢‰∏≠ÊâÄÊúâÂØπË±°ÁöÑÁ±ªÂûã‰∏éJavaËôöÊãüÊú∫‰∏≠ÊòæÁ§∫ÁöÑÁ±ªÁõ∏ÂåπÈÖç„ÄÇ Â∫èÂàóÂåñÁªÜËäÇÔºö ËØªÂÜôÈ°∫Â∫èË¶Å‰∏ÄËá¥ÔºàÂØπË±°Á±ªÂûãËΩ¨Êç¢ÂºÇÂ∏∏Ôºöjava.io.OptionalDataExceptionÔºâ Ë¶ÅÊ±ÇÂøÖÈ°ªÂÆûÁé∞ Serializable Êàñ Externalizable Êé•Âè£ Âú®Â∫èÂàóÂåñÁ±ª‰∏≠Ê∑ªÂä† SerialVersionUIDÔºåÊèêÈ´òÁâàÊú¨ÂÖºÂÆπÊÄß Â∫èÂàóÂåñÂØπË±°Êó∂ÈªòËÆ§ÊâÄÊúâÂ±ûÊÄßÈÉΩÂ∫èÂàóÂåñÔºåÈô§ static Âíå transit Â∫èÂàóÂåñÂèØÁªßÊâøÊÄßÔºåËã•ÊüêÁ±ªÂÆûÁé∞Â∫èÂàóÂåñÔºåÂÖ∂Â≠êÁ±ª‰πüÈªòËÆ§ÂÆûÁé∞Â∫èÂàóÂåñ Ôºà2ÔºâÊñπÊ≥ï readObject() readObject()ÔºöË¥üË¥£ËØªÂèñÈÄöËøáÂØπÂ∫îÁöÑ writeObject() ÊñπÊ≥ïÂÜôÂÖ•ÁöÑÊï∞ÊçÆÔºå‰∏∫ÁâπÂÆöÁ±ªËØªÂèñÂíåÊÅ¢Â§çÂØπË±°ÁöÑÁä∂ÊÄÅ„ÄÇ ÊÅ¢Â§çÁä∂ÊÄÅÔºö‰ªé ObjectInputStream ËØªÂèñÊï∞ÊçÆÂπ∂Â∞ÜÂÖ∂ÂàÜÈÖçÁªôÂØπË±°ÁöÑÈÄÇÂΩìÂ≠óÊÆµ„ÄÇ ËØªÂèñÂêÑÁßçÊï∞ÊçÆÁ±ªÂûãÁöÑÂáΩÊï∞ // ‰∏é ObjectOutputStream write()Áõ∏ÂØπÂ∫îboolean readBoolean(); // ËØªÂèñ‰∏Ä‰∏™booleanÂÄºbyte readByte(); // ËØªÂèñ‰∏Ä‰∏™8‰ΩçÁöÑÂ≠óËäÇchar readChar(); // ËØªÂèñ‰∏Ä‰∏™16‰ΩçÁöÑcharÂÄºdouble readDouble(); // ËØªÂèñ‰∏Ä‰∏™ 64 ‰ΩçÁöÑdoubleÂÄºfloat readFloat(); // ËØªÂèñ‰∏Ä‰∏™ 32 ‰ΩçÁöÑfloatÂÄºint readInt(); // ËØªÂèñ‰∏Ä‰∏™ 32 ‰ΩçÁöÑintÂÄºlong readLong(); // ËØªÂèñ‰∏Ä‰∏™ 64 ‰ΩçÁöÑlongÂÄºshort readShort(); // ËØªÂèñ‰∏Ä‰∏™ 16 ‰ΩçÁöÑshortÂÄº// ‰ªéÂ∫èÂàóÂåñÊµÅËØªÂèñÁ±ªÊèèËø∞Á¨¶protected ObjectStreamClass readClassDescriptor(); // ÊåâÂêçÁß∞‰ªéÊµÅ‰∏≠ËØªÂèñÊåÅ‰πÖÂ≠óÊÆµÂπ∂‰ΩøÂÖ∂ÂèØÁî®ObjectInputStream.GetField readFields();// ÂÖÅËÆ∏Â≠êÁ±ªËØªÂèñÂπ∂È™åËØÅÂÆÉ‰ª¨Ëá™Â∑±ÁöÑÊµÅÂ§¥ÈÉ®protected void readStreamHeader();// ‰ªé ObjectInputStream ËØªÂèñ‚ÄúÈùûÂÖ±‰∫´‚ÄùÂØπË±°Object readUnshared(); Ôºà3ÔºâÁ§∫‰æã‚ë† ÂØπË±°Â∫èÂàóÂåñ Person Á±ªÔºö public class Person implements java.io.Serializable &#123; // üîπ ‰ΩøÁî®SerializableÊù•ÂÆûÁé∞Â∫èÂàóÂåñÔºåËÆ©ÁõÆÊ†áÁ±ªÂÆûÁé∞SerializableÊ†áËÆ∞Êé•Âè£ private String name; private int age; // Ê≥®ÊÑèÊ≠§Â§ÑÊ≤°ÊúâÊèê‰æõÊó†ÂèÇÊï∞ÁöÑÊûÑÈÄ†Âô®ÔºöüîªÂèçÂ∫èÂàóÂåñÊú∫Âà∂Êó†È°ªÈÄöËøáÊûÑÈÄ†Âô®Êù•ÂàùÂßãÂåñJavaÂØπË±° public Person(String name , int age) &#123; System.out.println(&quot;ÊúâÂèÇÊï∞ÁöÑÊûÑÈÄ†Âô®&quot;); this.name=name; this.age=age; &#125; // ÁúÅÁï•name‰∏éageÁöÑsetterÂíågetterÊñπÊ≥ï ...&#125; ‰ΩøÁî® ObjectOutputStream Â∞Ü‰∏Ä‰∏™PersonÂØπË±°ÂÜôÂÖ•Á£ÅÁõòÊñá‰ª∂Ôºö public class WriteObject&#123; public static void main(String[] args) &#123; try( // üîπÔºà1ÔºâÂàõÂª∫‰∏Ä‰∏™ObjectOutputStreamËæìÂá∫ÊµÅ ObjectOutputStream oos = new ObjectOutputStream( new FileOutputStream(&quot;object.txt&quot;))) // Ëøô‰∏™ËæìÂá∫ÊµÅÊòØ‰∏Ä‰∏™Â§ÑÁêÜÊµÅÔºåÊâÄ‰ª•ÂøÖÈ°ªÂª∫Á´ãÂú®ÂÖ∂‰ªñËäÇÁÇπÊµÅÔºàÊñá‰ª∂ËæìÂá∫ÊµÅÔºâÁöÑÂü∫Á°Ä‰πã‰∏ä &#123; Person per = new Person(&quot;Â≠ôÊÇüÁ©∫&quot;, 500); // üîπÔºà2ÔºâË∞ÉÁî®ObjectOutputStreamÂØπË±°ÁöÑwriteObject()ÊñπÊ≥ïËæìÂá∫ÂèØÂ∫èÂàóÂåñÂØπË±° oos.writeObject(per); // Â∞ÜperÂØπË±°ÂÜôÂÖ•ËæìÂá∫ÊµÅ &#125; catch (IOException ex)&#123; ex.printStackTrace(); &#125; &#125; &#125;// ËøêË°å‰∏äÈù¢Á®ãÂ∫èÔºåÂ∞Ü‰ºöÁúãÂà∞ÁîüÊàê‰∫Ü‰∏Ä‰∏™object.txtÊñá‰ª∂ÔºåËØ•Êñá‰ª∂ÁöÑÂÜÖÂÆπÂ∞±ÊòØPersonÂØπË±°„ÄÇ ‚ë° ÂØπË±°ÂèçÂ∫èÂàóÂåñ ‰ªéÂàöÂàöÁîüÊàêÁöÑobject.txtÊñá‰ª∂‰∏≠ËØªÂèñPersonÂØπË±°Ôºö public class ReadObject &#123; public static void main(String[] args) &#123; try( // üîπÔºà1ÔºâÂàõÂª∫‰∏Ä‰∏™ObjectInputStreamËæìÂÖ•ÊµÅ ObjectInputStream ois=new ObjectInputStream( new FileInputStream(&quot;object.txt&quot;))) // Ëøô‰∏™ËæìÂÖ•ÊµÅÊòØ‰∏Ä‰∏™Â§ÑÁêÜÊµÅÔºåÊâÄ‰ª•ÂøÖÈ°ªÂª∫Á´ãÂú®ÂÖ∂‰ªñËäÇÁÇπÊµÅÁöÑÂü∫Á°Ä‰πã‰∏ä„ÄÇ &#123; // üîπÔºà2Ôºâ‰ªéËæìÂÖ•ÊµÅ‰∏≠ËØªÂèñ‰∏Ä‰∏™JavaÂØπË±°ÔºåÂπ∂Â∞ÜÂÖ∂Âº∫Âà∂Á±ªÂûãËΩ¨Êç¢‰∏∫PersonÁ±ª Person p = (Person)ois.readObject(); // Ë∞ÉÁî®ObjectInputStreamÂØπË±°ÁöÑreadObject() System.out.println(&quot;ÂêçÂ≠ó‰∏∫Ôºö&quot; + p.getName() + &quot;\\nÂπ¥ÈæÑ‰∏∫Ôºö&quot; + p.getAge()); &#125; catch (Exception ex) &#123; ex.printStackTrace(); &#125; &#125;&#125; Ôºà‰∏âÔºâËΩ¨Êç¢ÊµÅËΩ¨Êç¢ÊµÅÔºàInputStreamReader„ÄÅOutputStreamWriterÔºâÔºåReaderÁöÑÂ≠êÁ±ªÔºåÂèØ‰ª•Â∞Ü InputStream ÂåÖË£ÖÊàê Reader„ÄÇÁî®‰∫éÂÆûÁé∞Â∞ÜÂ≠óËäÇÊµÅËΩ¨Êç¢ÊàêÂ≠óÁ¨¶ÊµÅ„ÄÇ‚Äî‚Äî ÂèØËß£ÂÜ≥Êñá‰ª∂‰π±Á†ÅÈóÆÈ¢ò„ÄÇ DemoÔºöËé∑ÂèñÈîÆÁõòËæìÂÖ• /* ËØ•Á®ãÂ∫èÂ∞Ü System.in ÂåÖË£ÖÊàê BufferedReaderÔºå BufferedReaderÊµÅÂÖ∑ÊúâÁºìÂÜ≤ÂäüËÉΩÔºåÂÆÉÂèØ‰ª•‰∏ÄÊ¨°ËØªÂèñ‰∏ÄË°åÊñáÊú¨Ôºö ‰ª•Êç¢Ë°åÁ¨¶‰∏∫Ê†áÂøóÔºåËã•Ê≤°ÊúâËØªÂà∞Êç¢Ë°åÁ¨¶ÔºåÂàôÁ®ãÂ∫èÈòªÂ°ûÔºåÁ≠âÂà∞ËØªÂà∞Êç¢Ë°åÁ¨¶‰∏∫Ê≠¢„ÄÇ*/public class KeyinTest &#123; public static void main(String[] args) &#123; try&#123; // Â∞Ü Sytem.in ÂØπË±°ËΩ¨Êç¢Êàê Reader ÂØπË±° InputStreamReader reader = new InputStreamReader(System.in); // Â∞ÜÊôÆÈÄöÁöÑReaderÂåÖË£ÖÊàêBufferedReader BufferedReader br = new BufferedReader(reader)) String buffer = null; // ÈááÁî®Âæ™ÁéØÊñπÂºèÊù•ÈÄêË°åÂú∞ËØªÂèñ while ((buffer = br.readLine()) !=null) &#123; //Â¶ÇÊûúËØªÂèñÁöÑÂ≠óÁ¨¶‰∏≤‰∏∫&quot;exit&quot;ÔºåÂàôÁ®ãÂ∫èÈÄÄÂá∫ if (buffer.equals(&quot;exit&quot;)) &#123; System.exit(1); &#125; //ÊâìÂç∞ËØªÂèñÁöÑÂÜÖÂÆπ System.out.println(&quot;ËæìÂÖ•ÂÜÖÂÆπ‰∏∫:&quot; + buffer); &#125; &#125; catch (IOException ioe) &#123; ioe.printStackTrace(); &#125; &#125;&#125; InputStreamReader Java‰ΩøÁî® System.in ‰ª£Ë°®Ê†áÂáÜËæìÂÖ•ÔºàÂç≥ÈîÆÁõòËæìÂÖ•ÔºâÔºå‰ΩÜËøô‰∏™Ê†áÂáÜËæìÂÖ•ÊµÅÊòØ InputStream Á±ªÁöÑÂÆû‰æãÔºå‰ΩøÁî®‰∏çÂ§™Êñπ‰æøÔºå‰∏îÈîÆÁõòËæìÂÖ•ÂÜÖÂÆπÈÉΩÊòØÊñáÊú¨ÂÜÖÂÆπÔºåÊâÄ‰ª•ÂèØÁî® InputStreamReader Â∞ÜÂÖ∂ËΩ¨Êç¢ÊàêÂ≠óÁ¨¶ËæìÂÖ•ÊµÅ„ÄÇ BufferedReaderÔºö Áî±‰∫é BufferedReader ÂÖ∑Êúâ‰∏Ä‰∏™ readLine() ÊñπÊ≥ïÔºåÂèØ‰ª•ÈùûÂ∏∏Êñπ‰æøÂú∞‰∏ÄÊ¨°ËØªÂÖ•‰∏ÄË°åÂÜÖÂÆπÔºåÊâÄ‰ª•ÁªèÂ∏∏ÊääËØªÂèñÊñáÊú¨ÂÜÖÂÆπÁöÑËæìÂÖ•ÊµÅÂåÖË£ÖÊàê BufferedReaderÔºåÁî®Êù•Êñπ‰æøÂú∞ËØªÂèñËæìÂÖ•ÊµÅÁöÑÊñáÊú¨ÂÜÖÂÆπ„ÄÇ üî∏ Âè™ÊúâÂ≠óËäÇËΩ¨Â≠óÁ¨¶ÔºöÂõ†‰∏∫Â≠óÁ¨¶ÊµÅÊØîÂ≠óËäÇÊµÅÊìç‰ΩúÊõ¥Êñπ‰æø ÔºàÂõõÔºâÁÆ°ÈÅìÊµÅ‚òïÔ∏èÂÆûÁé∞‰∫ÜpipeÁöÑÊ¶ÇÂøµÔºå‰∏ªË¶ÅÂú®Á∫øÁ®ã‰∏≠‰ΩøÁî®Ôºö‰∏Ä‰∏™Á∫øÁ®ãÂèØ‰ª•ÈöèÊó∂ÂêëÁÆ°ÈÅìËæìÂá∫ÊµÅÂèëÈÄÅÊï∞ÊçÆÔºåÂè¶‰∏Ä‰∏™Á∫øÁ®ãÈöèÊó∂‰ªéÁÆ°ÈÅìËæìÂÖ•ÊµÅËØªÂèñÊï∞ÊçÆÔºåÂÆûÁé∞‰∏§‰∏™Á∫øÁ®ãÈó¥ÁöÑÈÄö‰ø°ÔºàÂºÇÊ≠•‰º†ËæìÊï∞ÊçÆÔºâ„ÄÇ ËæìÂÖ•ÊµÅÂíåËæìÂá∫ÊµÅÂøÖÈ°ªÁªìÂêà‰ΩøÁî®ÔºöËã•ÂêëËøûÊé•ÁÆ°ÈÅìËæìÂá∫ÊµÅÊèê‰æõÊï∞ÊçÆÂ≠óËäÇÁöÑÁ∫øÁ®ãÔºàÂèëÈÄÅÁ´ØÔºâ‰∏çÂ≠òÂú®ÔºåÂàôËÆ§‰∏∫ËØ•ÁÆ°ÈÅìÂ∑≤ÊçüÂùè„ÄÇ üìå Ê≥®ÊÑèÔºöÊï∞ÊçÆÁöÑ‰º†ËæìÊñπÂêë„ÄÇ Ôºà1ÔºâPipedInputStreamÁÆ°ÈÅìËæìÂÖ•ÊµÅÔºàÊé•Êî∂Á´ØÔºâÂ∫îËØ•ËøûÊé•Âà∞ÁÆ°ÈÅìËæìÂá∫ÊµÅÔºàÂèëÈÄÅÁ´ØÔºâ„ÄÇ graph LR A[[\"Á∫øÁ®ã1\"]] B[[\"Á∫øÁ®ã2\"]] pi([\"PipedOutputStream\"]):::lp po([\"PipedInputStreamÊèê‰æõË¶ÅÂÜôÂÖ•ÁÆ°ÈÅìËæìÂá∫ÊµÅÁöÑ\"]):::g A ==> |\"ÂèëÈÄÅ\"|pi pi -.-> |\"ÔΩúÁºìÂÜ≤Âå∫\"|po po ==> |\"ËØªÂèñ\"|B subgraph \"ÁÆ°ÈÅìËæìÂá∫ÊµÅÔΩúÁÆ°ÈÅìËæìÂÖ•ÊµÅ\" pi po end classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#3f3f3f,stroke-dasharray: 3 3, stroke-width: 1px * ÁºìÂ≠òÂå∫ÔºöÁÆ°ÈÅìËæìÂÖ•ÊµÅÂåÖÂê´‰∏Ä‰∏™ÁºìÂ≠òÂå∫ÔºåÂèØÂú®ÁºìÂ≠òÂå∫ÈôêÂÆöÁöÑËåÉÂõ¥ÂÜÖÂ∞ÜËØªÊìç‰ΩúÂíåÂÜôÊìç‰ΩúÂàÜÁ¶ªÂºÄ„ÄÇüî∫ ‰∏çÂª∫ËÆÆÂØπËøô‰∏§‰∏™ÂØπË±°Â∞ùËØï‰ΩøÁî®Âçï‰∏™Á∫øÁ®ãÔºåÂõ†‰∏∫ËøôÊ†∑ÂèØËÉΩÊ≠ªÈîÅÁ∫øÁ®ã„ÄÇ * ËæìÂÖ•ËæìÂá∫ÊµÅÁöÑËøûÊé•ÊñπÊ≥ïÔºà1ÔºâÔºöÊûÑÈÄ†ÊñπÊ≥ï // ÊûÑÈÄ†ÊñπÊ≥ïÔºö// ‚ë† ‰ª•ÁÆ°ÈÅìËæìÂá∫ÊµÅÁöÑÂÆû‰æã‰Ωú‰∏∫ËæìÂÖ• (‰ΩøÂÖ∂ËøûÊé•Âà∞srcÊåáÂÆöÁöÑÁÆ°ÈÅìÂ≠óËäÇËæìÂá∫ÊµÅ„ÄÇ) PipedInputStream(PipedOutputStream src); // ‚ë° ÂàõÂª∫‰∏Ä‰∏™Â∞öÊú™ËøûÊé•ÁöÑPipedInputStreamPipedInputStream(); * ËæìÂÖ•ËæìÂá∫ÊµÅÁöÑËøûÊé•ÊñπÊ≥ïÔºà2ÔºâÔºöconnect() // Ë∞ÉÁî®PipedInputStreamÁ±ªÁöÑconnect()Âª∫Á´ã‰∏éËæìÂá∫ÊµÅÁöÑËøûÊé•Ôºö‰ΩøÊ≠§ÁÆ°ÈÅìËæìÂÖ•ÊµÅËøûÊé•Âà∞ÁÆ°ÈÅìËæìÂá∫ÊµÅsrcvoid connect(PipedOutputStream src); * Â∏∏Áî®ÊñπÊ≥ïÔºö public int avaliable(); // ËøîÂõûÂèØËØªÂèñÁöÑÂ≠óËäÇ‰π¶public void close(); // ÂÖ≥Èó≠ÁÆ°ÈÅìËæìÂÖ•ÊµÅÂπ∂ÈáäÊîæÁ≥ªÁªüËµÑÊ∫êpublic int read(); // ‰ªéÁÆ°ÈÅìËæìÂÖ•ÊµÅ‰∏≠ËØªÂèñ‰∏ã‰∏Ä‰∏™Â≠óËäÇÊï∞ÊçÆpublic int read(byte[] b, int off, int len); // ‰ªéÁÆ°ÈÅìËæìÂÖ•ÊµÅËØªÂèñlenÂ≠óËäÇÊï∞ÊçÆÂà∞Êï∞ÁªÑprotected void receive(int b); // ‰ªéÁÆ°ÈÅì‰∏≠Êé•Âèó1Â≠óËäÇÊï∞ÊçÆpublic void connect(PipedOutputStream src); // ËøûÊé•Âà∞ÊåáÂÆöËæìÂá∫ÊµÅÔºåÁÆ°ÈÅìËæìÂÖ•ÊµÅÂ∞Ü‰ªéËØ•ËæìÂá∫ÊµÅÊé•ÂèóÊï∞ÊçÆ * Á§∫‰æãÔºö /** * ÁÆÄÂçïÂú∞Âª∫Á´ãÊµÅÈìæÊé•Ôºàüìå Ê≥®ÊÑèÔºöËøôÊ†∑ÂÆûÈôÖ‰∏äÊ≤°ÊúâÊÑè‰πâÔºåÈÄöÂ∏∏Â∫îÁî®‰∫éÁ∫øÁ®ãÈó¥ÈÄö‰ø°Ôºâ */public class TestPipedInputStream &#123; public static void main(String[] args) throws IOException &#123; try &#123; // üîπ ÂàõÂª∫ÁÆ°ÈÅìËæìÂá∫ÊµÅ PipedOutputStream os = new PipedOutputStream(); // üîπ ÂàõÂª∫ËæìÂÖ•ÊµÅ PipedInputStream is = new PipedInputStream(os); // üî∏ ‰ªéËæìÂá∫ÊµÅÂÜôÂÖ•Êï∞ÊçÆ byte[] b = new byte[3]; b[0] = 100; b[1] = 101; b[2] = 102; os.write(b); // üî∏ ‰ªéËæìÂÖ•ÊµÅËØªÂèñÊï∞ÊçÆ while (is.available() Ôºû 0) &#123; int c = is.read(); System.out.print((char)c); &#125; // üîπ ÂÖ≥Èó≠ËæìÂÖ•ÊµÅ is.close(); //ÂÖ≥Èó≠ËæìÂá∫ÊµÅ os.close(); &#125; catch (IOException e) &#123; &#125; &#125;&#125; Ôºà2ÔºâPipedOutputStreamPipedOutputStream ÂèØ‰ª•Â∞ÜÁÆ°ÈÅìËæìÂá∫ÊµÅËøûÊé•Âà∞ÁÆ°ÈÅìËæìÂÖ•ÊµÅÊù•ÂàõÂª∫ÈÄö‰ø°ÁÆ°ÈÅì„ÄÇÁÆ°ÈÅìËæìÂá∫ÊµÅÊòØÊåá‰∏Ä‰∏™ÈÄö‰ø°ÁÆ°ÈÅìÁöÑÂèëÈÄÅÁ´ØÔºåÂÆÉÂøÖÈ°ª‰∏é‰∏Ä‰∏™‰Ωú‰∏∫Êé•Êî∂Á´ØÁöÑPipedInputStreamÂØπË±°Áõ∏Ëøû„ÄÇ graph LR A[[\"Á∫øÁ®ã1\"]] B[[\"Á∫øÁ®ã2\"]] pi([\"PipedOutputStream\"]):::p po([\"PipedInputStream\"]):::lg A ==> |\"ÂèëÈÄÅ\"|pi pi -.-> |\"ÔΩúÁºìÂÜ≤Âå∫\"|po po ==> |\"ËØªÂèñ\"|B subgraph \"ÁÆ°ÈÅìËæìÂá∫ÊµÅÔΩúÁÆ°ÈÅìËæìÂÖ•ÊµÅ\" pi po end classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#3f3f3f,stroke-dasharray: 3 3, stroke-width: 1px * Á§∫‰æãÔºö ÂèëÈÄÅËÄÖÁ∫øÁ®ãSenderÔºöÂàõÂª∫‰∫Ü‰∏Ä‰∏™ËæìÂá∫ÊµÅ PipedOutputStream ÁöÑÂØπË±°outÔºåÂú®ËØ•Á∫øÁ®ãÁöÑ‰∏ªÂáΩÊï∞run()‰∏≠Ë∞ÉÁî®outÁöÑwrite()ÂÜôÂÖ•Êï∞ÊçÆ„ÄÇ Êé•Êî∂ËÄÖÁ∫øÁ®ãReceiverÔºöÂàõÂª∫‰∫Ü‰∏Ä‰∏™ËæìÂÖ•ÊµÅPipedInputStreamÁöÑÂØπË±°inÔºåÂú®ËØ•Á∫øÁ®ãÁöÑ‰∏ªÂáΩÊï∞run()‰∏≠Ë∞ÉÁî®inÁöÑread()ËØªÂèñÊï∞ÊçÆ„ÄÇ /** * ÂàÜÂà´‰∏∫ÁÆ°ÈÅìËæìÂá∫ÊµÅPipedOutputStreamÂíåÁÆ°ÈÅìËæìÂÖ•ÊµÅPipedInputStreamÂàõÂª∫‰∫ÜÂêÑËá™ÁöÑÁã¨Á´ãÁ∫øÁ®ãÁ±ªSenderÂíåReceiver‚Äò * SenderÔºöPipedOutputStreamÁöÑÁã¨Á´ãÁ∫øÁ®ãÁ±ª * ReceiverÔºöPipedInputStreamÁöÑÁã¨Á´ãÁ∫øÁ®ãÁ±ª */public class TestPipedOutputStream &#123; public static void main(String[] args) &#123; try &#123; //ÂàõÂª∫ÂèëÈÄÅËÄÖÁ∫øÁ®ã Sender t1 = new Sender(); PipedOutputStream out = t1.getOutputStream(); //ÂàõÂª∫Êé•Êî∂ËÄÖÁ∫øÁ®ã Receiver t2 = new Receiver(); PipedInputStream in = t2.getInputStream(); //ËøûÊé•ÁÆ°ÈÅìÊµÅ out.connect(in); //ÂêØÂä®ÂèëÈÄÅËÄÖÁ∫øÁ®ãÂíåÊé•Êî∂ËÄÖÁ∫øÁ®ã new Thread(t1).start(); new Thread(t2).start(); &#125; catch (Exception e) &#123; &#125; &#125; &#125;//Ôºà1ÔºâÂèëÈÄÅËÄÖÁ∫øÁ®ãÁ±ªclass Sender extends Thread &#123; private PipedOutputStream out = new PipedOutputStream(); public PipedOutputStream getOutputStream() &#123; return out; &#125; public void run() &#123; //ÂèëÈÄÅÂ≠óÁ¨¶‰∏≤ String s = new String(&quot;hello,receiver,how are you&quot;); try &#123; out.write(s.getBytes()); out.close(); &#125; catch (IOException e) &#123; System.out.println(e.getMessage()); &#125; &#125;&#125;//Ôºà2ÔºâÊé•Êî∂ËÄÖÁ∫øÁ®ãclass Receiver extends Thread &#123; private PipedInputStream in = new PipedInputStream(); public PipedInputStream getInputStream() &#123; return in; &#125; public void run() &#123; //Êé•Êî∂Â≠óÁ¨¶‰∏≤ String s = null; byte[] buf = new byte[1024]; try &#123; int len = in.read(buf); s = new String(buf, 0, len); System.out.println(&quot;from:\\n&quot; + s); in.close(); &#125; catch (IOException e) &#123; System.out.println(e.getMessage()); &#125; &#125;&#125; Ôºà‰∫îÔºâÂ∫èÂàóÊµÅSequenceInputStream Á±ªÂÖÅËÆ∏ËøûÊé•Â§ö‰∏™ InputStream ÊµÅÔºåË°®Á§∫ÂÖ∂‰ªñËæìÂÖ•ÊµÅÁöÑÈÄªËæë‰∏≤ËÅî„ÄÇÔºà‰∏≤Ë°åËæìÂÖ•ÊµÅÔºâ %%{ init: { 'themeVariables': { 'fontSize': '12px' } } }%% graph A([InputStream s1]):::lp B([InputStream s2]):::lp C([InputStream s3]):::lp D([InputStream s1]):::lb E([InputStream s2]):::lb A --> B --> C subgraph \"Ôºà2Ôºâ SequenceInputStream(e)\" subgraph \"Enumeration ‚ü®? extends InputStream‚ü© e\" A B C end end subgraph \"Ôºà1Ôºâ SequenceInputStream(s1, s2)\" D --> E end classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#3f3f3f,stroke-dasharray: 3 3, stroke-width: 1px ‰∏≤ËÅîËæìÂÖ•Ê∫êÔºöÂÆÉ‰ªéËæìÂÖ•ÊµÅÁöÑÊúâÂ∫èÈõÜÂêàÂºÄÂßãÔºå‰ªéÁ¨¨‰∏Ä‰∏™ËæìÂÖ•ÊµÅÂºÄÂßãËØªÂèñÔºåËØªÂà∞Êñá‰ª∂Êú´Â∞æÔºåÊé•ÁùÄ‰ªéÁ¨¨‰∫å‰∏™ËæìÂÖ•ÊµÅËØªÂèñÔºå‰æùÊ¨°Á±ªÊé®ÔºåÁõ¥Âà∞Âà∞ËææÂåÖÂê´ÁöÑÊúÄÂêé‰∏Ä‰∏™ËæìÂÖ•ÊµÅÁöÑÊñá‰ª∂Êú´Â∞æ‰∏∫Ê≠¢„ÄÇ * ÊûÑÈÄ†ÂáΩÊï∞Ôºö //Ôºà1Ôºâ‰∏≤ËÅîÊï∞ÊçÆÊ∫êSequenceInputStream(InputStream s1,InputStream s2); // Â∞ÜÊåâÈ°∫Â∫èËØªÂèñËøô‰∏§‰∏™ÂèÇÊï∞ÔºåÂÖàËØªÂèñs1ÔºåÁÑ∂ÂêéËØªÂèñs2 //Ôºà2Ôºâ‰∏≤ËÅî Enumeration Á±ªÂûãÁöÑÊï∞ÊçÆÊ∫êÂàóË°®SequenceInputStream(EnumerationÔºú?extends InputStreamÔºûe); * DemoÔºö /** Â∞Ü‰∏§‰∏™Êñá‰ª∂Êï∞ÊçÆÊ∫ê‰∏≤ËÅîËµ∑Êù•ÔºåÂàõÂª∫‰∏Ä‰∏™SequenceInputStreamÁ±ªÂûãÁöÑÊï∞ÊçÆÊ∫êÂπ∂ËæìÂá∫Êñá‰ª∂ÂÜÖÂÆπÂà∞ÊéßÂà∂Âè∞‰∏≠„ÄÇ */public class TestSequenceInputStream &#123; public static void main(String[] args) &#123; try &#123; // üîπ ÂàõÂª∫ËæìÂÖ•Ê∫êÊï∞ÁªÑ // * ‰∏≤ËÅîÁöÑÊï∞ÊçÆÊ∫êÂàóË°®‰∏≠ÔºåÂèØ‰ª•ÂåÖÂê´ÂêÑÁßçInputStreamÂÆûÁé∞Á±ªÁöÑÊï∞ÊçÆÊµÅÂØπË±°„ÄÇ FileInputStream fis1 = new FileInputStream(&quot;D:/demo/test.txt&quot;); FileInputStream fis2 = new FileInputStream(&quot;D:/demo/test2.txt&quot;); VectorÔºúFileInputStreamÔºû vector = new VectorÔºúFileInputStreamÔºû(); vector.add(fis1); vector.add(fis2); EnumerationÔºúFileInputStreamÔºû e = vector.elements(); // üî∏ ÂàõÂª∫Â∫èÂàóËæìÂÖ•Ê∫ê SequenceInputStream is = new SequenceInputStream(e); // üîπ ‰ªéËæìÂÖ•ÊµÅËØªÂèñÊï∞ÊçÆ while (is.available() Ôºû 0) &#123; int c = is.read(); System.out.print((char)c); &#125; // üîπ ÂÖ≥Èó≠ËæìÂÖ•ÊµÅ is.close(); &#125; catch (IOException e) &#123; &#125; &#125;&#125; ÔºàÂÖ≠ÔºâËøáÊª§ÊµÅ‚òïÔ∏èÁî®‰∫éËØªÂèñÂ∑≤ËøáÊª§ÁöÑÂ≠óÁ¨¶ÊµÅÁöÑÊäΩË±°Á±ª„ÄÇÊäΩË±°Á±ªFilterReaderËá™Ë∫´Êèê‰æõ‰∫Ü‰∏Ä‰∫õÂ∞ÜÊâÄÊúâËØ∑Ê±Ç‰º†ÈÄíÁªôÊâÄÂåÖÂê´ÁöÑÊµÅÁöÑÈªòËÆ§ÊñπÊ≥ï„ÄÇFilterReaderÁöÑÂ≠êÁ±ªÂ∫îÈáçÂÜôËøô‰∫õÊñπÊ≥ï‰∏≠ÁöÑ‰∏Ä‰∫õÊñπÊ≥ïÔºåÂπ∂‰∏îËøòÂèØ‰ª•Êèê‰æõ‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÊñπÊ≥ïÂíåÂ≠óÊÆµ„ÄÇÈÄöÂ∏∏Âπ∂‰∏çÂçïÁã¨‰ΩøÁî®ÂÆÉÔºåËÄåÊòØ‰ΩøÁî®ÂÆÉÁöÑÂ≠êÁ±ª„ÄÇ ËøáÊª§Â≠óËäÇËæìÂÖ•ËæìÂá∫ÊµÅÁöÑ‰∏ªË¶ÅÁâπÁÇπÊòØÔºåËøáÊª§Â≠óËäÇËæìÂÖ•ËæìÂá∫ÊµÅÊòØÂª∫Á´ãÂú®Âü∫Êú¨ËæìÂÖ•ËæìÂá∫ÊµÅ‰πã‰∏äÔºåÂπ∂Âú®ËæìÂÖ•ËæìÂá∫Êï∞ÊçÆÁöÑÂêåÊó∂ËÉΩÂØπÊâÄ‰º†ËæìÁöÑÊï∞ÊçÆÂÅöÊåáÂÆöÁ±ªÂûãÊàñÊ†ºÂºèÁöÑËΩ¨Êç¢ÔºåÂç≥ÂèØÂÆûÁé∞ÂØπ‰∫åËøõÂà∂Â≠óËäÇÊï∞ÊçÆÁöÑÁêÜËß£ÂíåÁºñÁ†ÅËΩ¨Êç¢„ÄÇ Ôºà‰∏ÉÔºâÁºìÂÜ≤ÊµÅÁºìÂÜ≤ÊµÅ‰∏ªË¶Å‰∏∫ËæìÂÖ•/ËæìÂá∫ÊµÅÁºìÂ≠òÊï∞ÊçÆÔºåÂõ†Ê≠§ÈúÄË¶Å‰ΩøÁî® flush() ÊñπÊ≥ïÂº∫Âà∂Â∞ÜÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÁúüÊ≠£ÂÜôÂÖ•Âà∞ËæìÂá∫ÊµÅ‰∏≠„ÄÇÔºàËæìÂÖ•ÊµÅÂØπË±°ÁöÑÂÖ≥Èó≠È°∫Â∫èÂøÖÈ°ª‰∏éÂÖ∂ÂàõÂª∫ÁöÑÈ°∫Â∫èÁõ∏ÂèçÔºåÂêéÈù¢ÁöÑËæìÂá∫ÊµÅ‰πüÊòØÂ¶ÇÊ≠§„ÄÇÔºâ Ôºà1ÔºâBufferedInpuStreamBufferedInputStream‰∏∫Âè¶‰∏Ä‰∏™ËæìÂÖ•ÊµÅÊ∑ªÂä†‰∏Ä‰∫õÂäüËÉΩÔºåÂç≥ÁºìÂ≠òËæìÂÖ•ÁöÑËÉΩÂäõ„ÄÇ Âú®ÂàõÂª∫BufferedInputStreamÊó∂Ôºå‰ºöÂàõÂª∫‰∏Ä‰∏™ÂÜÖÈÉ®ÁºìÂ≠òÂå∫Êï∞ÁªÑ„ÄÇÂú®ËØªÂèñÊàñË∑≥ËøáÊµÅ‰∏≠ÁöÑÂ≠óËäÇÊó∂ÔºåÂèØÊ†πÊçÆÈúÄË¶Å‰ªéÂåÖÂê´ÁöÑËæìÂÖ•ÊµÅÂÜçÊ¨°Â°´ÂÖÖËØ•ÂÜÖÈÉ®ÁºìÂ≠òÂå∫Ôºå‰∏ÄÊ¨°Â°´ÂÖÖÂ§ö‰∏™Â≠óËäÇ„ÄÇ * DemoÔºö public class TestBufferedInputStream &#123; public static void main(String[] args) &#123; try &#123; // üîπÂàõÂª∫ËæìÂÖ•ÊµÅ FileInputStream is = new FileInputStream(&quot;D:/demo/test.txt&quot;); BufferedInputStream bis = new BufferedInputStream(is); // üîπ‰ªéËæìÂÖ•ÊµÅËØªÂèñÊï∞ÊçÆ while (bis.available() Ôºû 0) &#123; int c = bis.read(); System.out.print((char)c); &#125; // üîπÂÖ≥Èó≠ËæìÂÖ•ÊµÅ bis.close(); is.close(); &#125; catch (IOException e) &#123; &#125; &#125;&#125; Ôºà2ÔºâBufferedOutputStreamBufferedOutputStream ÁªßÊâøËá™ FilterOutputStreamÔºåÂÆÉ‰∏é BufferedInputStream Áõ∏ÂØπÂ∫îÔºå‰∏ªË¶Å‰∏∫ËæìÂá∫ÊµÅÂÅöÁºìÂ≠ò„ÄÇ * demo /** Â∞ÜÊñá‰ª∂ËæìÂÖ•ÊµÅÂØπË±°osËΩ¨Êç¢‰∏∫ÁºìÂ≠òËæìÂá∫ÊµÅ */public class TestBufferedOutputStream &#123; public static void main(String[] args) &#123; try &#123; // üîπÂàõÂª∫ËæìÂá∫ÊµÅ FileOutputStream os = new FileOutputStream(&quot;D:/demo/test.txt&quot;); BufferedOutputStream bos = new BufferedOutputStream(os); // üîπÂÜôÂÖ•Êï∞ÁªÑÊï∞ÊçÆ byte[] buf = new byte[3]; buf[0] = 100; buf[1] = 101; buf[2] = 102; bos.write(buf); // üîπÂÖ≥Èó≠ËæìÂá∫ÊµÅ bos.close(); os.close(); &#125; catch (IOException e) &#123; &#125; &#125;&#125;// ËøêË°åËØ•Á®ãÂ∫èÔºåÂ∞Ü‰ºöÂæÄÊñá‰ª∂‰∏≠ÂÜôÂÖ•3‰∏™Â≠óÁ¨¶‚Äúdef‚Äù„ÄÇ Ôºà3ÔºâBufferedReaderBufferedReader ‰ªéÂ≠óÁ¨¶ËæìÂÖ•ÊµÅ‰∏≠ËØªÂèñÊñáÊú¨ÔºåÁºìÂ≠òÂêÑ‰∏™Â≠óÁ¨¶Ôºå‰ª•ÂÆûÁé∞Â≠óÁ¨¶/Êï∞ÁªÑ/Ë°åÁöÑÈ´òÊïàËØªÂèñ„ÄÇ * ÊûÑÈÄ†ÊñπÊ≥ïÔºö üìå ReaderÊâÄÂÅöÁöÑÊØè‰∏™ËØªÂèñËØ∑Ê±ÇÈÉΩ‰ºöÂØºËá¥ÂØπÂ∫ïÂ±ÇÂ≠óÁ¨¶ÊàñÂ≠óËäÇÊµÅËøõË°åÁõ∏Â∫îÁöÑËØªÂèñËØ∑Ê±Ç„ÄÇÂõ†Ê≠§ÔºåÂª∫ËÆÆÁî® BufferedReader ÂåÖË£ÖÊâÄÊúâÂÖ∂ read() Êìç‰ΩúÂèØËÉΩÂºÄÈîÄÂæàÈ´òÁöÑReaderÔºàÂ¶Ç FileReader ÂíåInputStreamReaderÔºâ BufferedReader(Reader in); // ÂàõÂª∫‰∏Ä‰∏™‰ΩøÁî®ÈªòËÆ§Â§ßÂ∞èËæìÂÖ•ÁºìÂ≠òÂå∫ÁöÑÁºìÂ≠òÂ≠óÁ¨¶ËæìÂÖ•ÊµÅBufferedReader(Reader in,int sz); // ÂàõÂª∫‰∏Ä‰∏™‰ΩøÁî®ÊåáÂÆöÂ§ßÂ∞èËæìÂÖ•ÁºìÂ≠òÂå∫ÁöÑÁºìÂ≠òÂ≠óÁ¨¶ËæìÂÖ•ÊµÅ * DemoÔºö /** * ÁªÑÂêà‰ΩøÁî® FileReader Âíå BufferedReaderÔºöËé∑Âæó‰∏Ä‰∏™ÂÖ∑ÊúâÁºìÂ≠òÁöÑÊñá‰ª∂ËæìÂÖ•ÊµÅ */ public class TestBufferedReader &#123; public static void main(String[] args) &#123; try &#123; // üîπÂàõÂª∫ËæìÂÖ•ÊµÅ FileReader is = new FileReader(&quot;D:/demo/test.txt&quot;); BufferedReader bis = new BufferedReader(is); // üîπ‰ªéËæìÂÖ•ÊµÅËØªÂèñÊï∞ÊçÆ while (bis.ready()) &#123; int c = bis.read(); System.out.print((char)c); &#125; // üîπÂÖ≥Èó≠ËæìÂÖ•ÊµÅ bis.close(); is.close(); &#125; catch (IOException e) &#123; &#125; &#125;&#125;// ËøêË°åËØ•Á®ãÂ∫èÔºåÂ∞Ü‰ºöËæìÂá∫Êñá‰ª∂‰∏≠ÁöÑÂÜÖÂÆπÂà∞ÊéßÂà∂Âè∞‰∏≠„ÄÇ Ôºà4ÔºâBufferedWriterBufferedWriter Â∞ÜÊñáÊú¨ÂÜôÂÖ•Â≠óÁ¨¶ËæìÂá∫ÊµÅÔºåÁºìÂ≠òÂêÑ‰∏™Â≠óÁ¨¶Ôºå‰ªéËÄåÊèê‰æõÂçï‰∏™Â≠óÁ¨¶„ÄÅÊï∞ÁªÑÂíåÂ≠óÁ¨¶‰∏≤ÁöÑÈ´òÊïàÂÜôÂÖ•„ÄÇ * ‰ΩøÁî® üìå ÈÄöÂ∏∏ Writer Â∞ÜÂÖ∂ËæìÂá∫Á´ãÂç≥ÂèëÈÄÅÂà∞Â∫ïÂ±ÇÂ≠óÁ¨¶ÊàñÂ≠óËäÇÊµÅ„ÄÇÈô§ÈùûË¶ÅÊ±ÇÊèêÁ§∫ËæìÂá∫ÔºåÂê¶ÂàôÂª∫ËÆÆÁî® BufferedWriter ÂåÖË£ÖÊâÄÊúâÂÖ∂ write() Êìç‰ΩúÂèØËÉΩÂºÄÈîÄÂæàÈ´òÁöÑ WriterÔºàÂ¶ÇFileWritersÂíåOutputStreamWritersÔºâ„ÄÇ‰æãÂ¶Ç‰ª•‰∏ãÊ°à‰æãÂ∞ÜÁºìÂÜ≤ PrintWriter ÂØπÊñá‰ª∂ÁöÑËæìÂá∫„ÄÇ PrintWriter out = new PrintWriter( new BufferedWriter(new FileWriter(&quot;foo.out&quot;)));// Ëã•Ê≤°ÊúâÁºìÂÜ≤ÔºåÂàôÊØèÊ¨°Ë∞ÉÁî® print() ÊñπÊ≥ï‰ºöÂØºËá¥Â∞ÜÂ≠óÁ¨¶ËΩ¨Êç¢‰∏∫Â≠óËäÇÔºå// ÁÑ∂ÂêéÁ´ãÂç≥ÂÜôÂÖ•Âà∞Êñá‰ª∂ÔºåËÄåËøôÊòØÊûÅÂÖ∂‰ΩéÊïàÁöÑ„ÄÇ * ËæìÂá∫Êç¢Ë°å ËØ•Á±ªÊèê‰æõ‰∫Ü newLine() ÊñπÊ≥ïÔºåÂÆÉ‰ΩøÁî®Âπ≥Âè∞Ëá™Â∑±ÁöÑË°åÂàÜÈöîÁ¨¶Ê¶ÇÂøµÔºåÊ≠§Ê¶ÇÂøµÁî±Á≥ªÁªüÂ±ûÊÄß line.separator ÂÆö‰πâ„ÄÇ Âπ∂ÈùûÊâÄÊúâÂπ≥Âè∞ÈÉΩ‰ΩøÁî®Êñ∞Ë°åÁ¨¶Ôºà\\nÔºâÊù•ÁªàÊ≠¢ÂêÑË°å„ÄÇÂõ†Ê≠§Ë∞ÉÁî®Ê≠§ÊñπÊ≥ïÊù•ÁªàÊ≠¢ÊØè‰∏™ËæìÂá∫Ë°åË¶Å‰ºò‰∫éÁõ¥Êé•ÂÜôÂÖ•Êñ∞Ë°åÁ¨¶„ÄÇ * Demo /** Â∞ÜÊñá‰ª∂ËæìÂÖ•ÊµÅÂØπË±°osËΩ¨Êç¢‰∏∫ÁºìÂ≠òËæìÂá∫ÊµÅ„ÄÇ */public class TestBufferedWriter &#123; public static void main(String[] args) &#123; try &#123; // üîπ ÂàõÂª∫ËæìÂá∫ÊµÅ FileWriter os = new FileWriter(&quot;D:/demo/test.txt&quot;); BufferedWriter bos = new BufferedWriter(os); // üîπ ÂÜôÂÖ•Êï∞ÁªÑÊï∞ÊçÆ char[] buf = new char[3]; buf[0] = &#x27;a&#x27;; buf[1] = &#x27;b&#x27;; buf[2] = &#x27;‰∏≠&#x27;; bos.write(buf); // üîπ ÂÖ≥Èó≠ËæìÂá∫ÊµÅ bos.close(); os.close(); &#125; catch (IOException e) &#123; &#125; &#125;&#125;// ËøêË°åËØ•Á®ãÂ∫èÔºåÂ∞Ü‰ºöÂú®Êñá‰ª∂‰∏≠ÂÜôÂÖ•‚Äúab‰∏≠‚Äù„ÄÇ ÔºàÂÖ´ÔºâÊï∞ÊçÆÊµÅÔºà1ÔºâDataInputStreamÊï∞ÊçÆËæìÂÖ•ÊµÅÂÖÅËÆ∏Â∫îÁî®Á®ãÂ∫è‰ª•‰∏éÊú∫Âô®Êó†ÂÖ≥ÊñπÂºè‰ªéÂ∫ïÂ±ÇËæìÂÖ•ÊµÅ‰∏≠ËØªÂèñÂü∫Êú¨JavaÊï∞ÊçÆÁ±ªÂûã„ÄÇ * ÊñπÊ≥ï boolean readBoolean(); // ËØªÂèñ‰∏Ä‰∏™booleanÂÄºbyte readByte(); // ËØªÂèñ‰∏Ä‰∏™8‰ΩçÁöÑÂ≠óËäÇchar readChar(); // ËØªÂèñ‰∏Ä‰∏™16‰ΩçÁöÑcharÂÄºdouble readDouble(); // ËØªÂèñ‰∏Ä‰∏™ 64 ‰ΩçÁöÑdoubleÂÄºfloat readFloat(); // ËØªÂèñ‰∏Ä‰∏™ 32 ‰ΩçÁöÑfloatÂÄºint readInt(); // ËØªÂèñ‰∏Ä‰∏™ 32 ‰ΩçÁöÑintÂÄºlong readLong(); // ËØªÂèñ‰∏Ä‰∏™ 64 ‰ΩçÁöÑlongÂÄºshort readShort(); // ËØªÂèñ‰∏Ä‰∏™ 16 ‰ΩçÁöÑshortÂÄº * Á±ª‰ºº ObjectInputStream ObjectInputStreamÔºöËØªÂèñÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûã + ÂØπË±°Êï∞ÊçÆÁ±ªÂûãDataInputStrreamÔºö ËØªÂèñÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûã * Demo /** * ËØªÂèñDataOutputStreamÁ±ªÊâÄÂÜôÊñá‰ª∂ÁöÑËøáÁ®ã * Ôºàdata.tmpÂèØ‰ª•ÈÄöËøá‰∏ã‰∏ÄËäÇ‰∏≠ DataOutputStream Á±ªÁöÑÊºîÁ§∫Á®ãÂ∫èËøêË°åÁîüÊàêÔºâ */public class TestDataInputStream &#123; public static void main(String[] args) &#123; try &#123; // üîπ ÂàõÂª∫Êñá‰ª∂ËæìÂÖ•ÊµÅ FileInputStream fis = new FileInputStream(&quot;D:/demo/data.tmp&quot;); // üîπ ÂàõÂª∫Êï∞ÊçÆËæìÂÖ•ÊµÅ DataInputStream dis = new DataInputStream(fis); // üî∏ ËØªÂèñÂØπË±°Êï∞ÊçÆ int i = dis.readInt(); boolean b = dis.readBoolean(); float f = dis.readFloat(); System.out.println(&quot;i=&quot; + i); System.out.println(&quot;b=&quot; + b); System.out.println(&quot;f=&quot; + f); // üîπ ÂÖ≥Èó≠ËæìÂÖ•ÊµÅ dis.close(); fis.close(); &#125; catch (IOException e) &#123; &#125; &#125; &#125;// i=12345// b=true// f=1000.0 *Ê≥®ÊÑèÔºö Áî±‰∫éÊñá‰ª∂ D:/demo/data.tmp ÊòØÂÜôÂÖ•Á±ªË∞ÉÁî® DataOutputStream ÂÜôÂÖ•ÁöÑÂØπË±°ÔºåÊØè‰∏Ä‰∏™ÂØπË±°ÁöÑÂÜôÂÖ•ÈÉΩÊòØÊúâÈ°∫Â∫èÁöÑÔºåÂõ†Ê≠§ËøôÈáåÁöÑËØªÂèñ‰πüÂøÖÈ°ªÈááÁî®ÂêåÊ†∑ÁöÑÈ°∫Â∫è„ÄÇÂ¶ÇÊûúÈ°∫Â∫è‰∏ç‰∏ÄËá¥ÔºåÂ∞Ü‰ºö‰∫ßÁîüÂØπË±°Á±ªÂûãËΩ¨Êç¢ÂºÇÂ∏∏ java.io.OptionalDataExceptionÔºåÂÆÉÊòØIOExceptionÁöÑÂ≠êÁ±ª„ÄÇ Ôºà2ÔºâDataOutputStreamDataOutputStream ‰∏é DataInputStream Áõ∏ÂØπÂ∫îÔºåÂÖÅËÆ∏Â∫îÁî®Á®ãÂ∫èÂ∞ÜÂü∫Êú¨JavaÊï∞ÊçÆÁ±ªÂûãÂÜôÂÖ•ËæìÂá∫ÊµÅ‰∏≠„ÄÇÁÑ∂ÂêéÔºåÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•‰ΩøÁî®Êï∞ÊçÆËæìÂÖ•ÊµÅ DataInputStream Â∞ÜÊï∞ÊçÆËØªÂÖ•„ÄÇ * ÊñπÊ≥ï // ÁªßÊâøOutputStreamÁöÑÂêåÊó∂ÔºåÂÆûÁé∞‰∫ÜDataOutputÊé•Âè£ÔºåÂõ†Ê≠§ÂÆÉÂÖ∑ÊúâDataOutputÊâÄËßÑÂÆöÁöÑÊñπÊ≥ïÔºövoid writeBoolean(boolean v); // Â∞Ü‰∏Ä‰∏™booleanÂÄº‰ª•1-byteÂÄºÂΩ¢ÂºèÂÜôÂÖ•ËæìÂá∫ÊµÅvoid writeByte(int v); // Â∞Ü‰∏Ä‰∏™byteÂÄº‰ª•1-byteÂÄºÂΩ¢ÂºèÂÜôÂá∫Âà∞ËæìÂá∫ÊµÅ‰∏≠void writeBytes(Strings); // Â∞ÜÂ≠óÁ¨¶‰∏≤ÊåâÂ≠óËäÇÈ°∫Â∫èÂÜôÂá∫Âà∞ËæìÂá∫ÊµÅ‰∏≠void writeChar(int v); // Â∞Ü‰∏Ä‰∏™charÂÄº‰ª•2-byteÂÄºÂΩ¢ÂºèÂÜôÂÖ•ËæìÂá∫ÊµÅ‰∏≠ÔºåÂÖàÂÜôÂÖ•È´òÂ≠óËäÇvoid writeChars(Strings); // Â∞ÜÂ≠óÁ¨¶‰∏≤ÊåâÂ≠óÁ¨¶È°∫Â∫èÂÜôÂÖ•ËæìÂá∫ÊµÅvoid writeDouble(double v); // ‰ΩøÁî®DoubleÁ±ª‰∏≠ÁöÑdoubleToLongBitsÊñπÊ≥ïÂ∞ÜdoubleÂèÇÊï∞ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™longÂÄºÔºåÁÑ∂ÂêéÂ∞ÜËØ•longÂÄº‰ª•8-byteÂÄºÂΩ¢ÂºèÂÜôÂÖ•ËæìÂá∫ÊµÅ‰∏≠ÔºåÂÖàÂÜôÂÖ•È´òÂ≠óËäÇvoid writeFloat(float v); // ‰ΩøÁî®FloatÁ±ª‰∏≠ÁöÑfloatToIntBitsÊñπÊ≥ïÂ∞ÜfloatÂèÇÊï∞ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™intÂÄºÔºåÁÑ∂ÂêéÂ∞ÜËØ•intÂÄº‰ª•4-byteÂÄºÂΩ¢ÂºèÂÜôÂÖ•ËæìÂá∫ÊµÅ‰∏≠ÔºåÂÖàÂÜôÂÖ•È´òÂ≠óËäÇvoid writeInt(int v); // Â∞Ü‰∏Ä‰∏™intÂÄº‰ª•4-byteÂÄºÂΩ¢ÂºèÂÜôÂÖ•ËæìÂá∫ÊµÅ‰∏≠ÔºåÂÖàÂÜôÂÖ•È´òÂ≠óËäÇvoid writeLong(long v); // Â∞Ü‰∏Ä‰∏™longÂÄº‰ª•8-byteÂÄºÂΩ¢ÂºèÂÜôÂÖ•ËæìÂá∫ÊµÅ‰∏≠ÔºåÂÖàÂÜôÂÖ•È´òÂ≠óËäÇvoid writeShort(int v); // Â∞Ü‰∏Ä‰∏™shortÂÄº‰ª•2-byteÂÄºÂΩ¢ÂºèÂÜôÂÖ•ËæìÂá∫ÊµÅ‰∏≠ÔºåÂÖàÂÜôÂÖ•È´òÂ≠óËäÇvoid writeUTF(Stringstr); // ‰ª•‰∏éÊú∫Âô®Êó†ÂÖ≥ÊñπÂºè‰ΩøÁî®UTF-8ÁºñÁ†ÅÂ∞Ü‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂÜôÂÖ•ËæìÂá∫ÊµÅ * Demo /** * DataOutputStreamÁ±ªÂÜôÂÖ•Êñá‰ª∂data.tmpÁöÑËøáÁ®ã„ÄÇ */public class TestDataOutputStream &#123; public static void main(String[] args) &#123; try &#123; // üîπ ÂàõÂª∫Êñá‰ª∂ËæìÂá∫ÊµÅ FileOutputStream fos = new FileOutputStream(&quot;D:/demo/data.tmp&quot;); // üîπ ÂàõÂª∫ÂØπË±°ËæìÂá∫ÊµÅ DataOutputStream oos = new DataOutputStream(fos); // üî∏ ÂÜôÂÖ•ÂØπË±°Êï∞ÊçÆ oos.writeInt(12345); oos.writeBoolean(true); oos.writeFloat(1000.0f); // üîπ ÂÖ≥Èó≠ËæìÂá∫ÊµÅ oos.close(); fos.close(); &#125; catch (IOException e) &#123; &#125; &#125;&#125;// ËøêË°åËØ•Á®ãÂ∫èÔºåÂ∞Ü‰ºöÂ∞ÜÂØπË±°Êï∞ÊçÆÂÜôÂÖ•Êñá‰ª∂‰∏≠„ÄÇ Ôºà‰πùÔºâË°åÂè∑ËæìÂÖ•ÊµÅÔºà1ÔºâLineNumberInputStreamLineNumberInputStream ÂèØË∑üË∏™Ë°åÂè∑„ÄÅËÆæÁΩÆË°åÂè∑„ÄÅÂØπË°åÂÅöÊ†áËÆ∞‰ª•‰æøÊÅ¢Â§çÁ≠âÂäüËÉΩ„ÄÇ ÂêçËØç ËØ¥Êòé Ë°å ‰ª•ÂõûËΩ¶Á¨¶Ôºà\\rÔºâ„ÄÅÊç¢Ë°åÁ¨¶Ôºà\\nÔºâ„ÄÅÂõûËΩ¶Á¨¶ÂêéÁ¥ßË∑üÁöÑÊç¢Ë°åÁ¨¶Ôºà\\r\\nÔºâÔºà‰∏âÁßçÊÉÖÂÜµÔºâÁªìÂ∞æÁöÑÂ≠óËäÇÂ∫èÂàó„ÄÇ Ë°åÂè∑ ‰ª•0ÂºÄÂ§¥ÔºåÂπ∂Âú®readËøîÂõûÊç¢Ë°åÁ¨¶Êó∂ÈÄíÂ¢û1„ÄÇ * ÊñπÊ≥ïÔºöÔºàDeprecatedÔºâ getLineNumber(); // ÂèñÂæóË°åÂè∑setLineNumber(); // ËÆæÁΩÆË°åÂè∑ * demoÔºö /** * ÊåâÁÖßÊñá‰ª∂ÁöÑË°åËØªÂèñÔºåËæìÂá∫ÊØè‰∏ÄË°åÁöÑË°åÂè∑ÂíåÂÜÖÂÆπ„ÄÇ */public class TestLineNumberInputStream &#123; public static void main(String[] args) &#123; try &#123; // üîπ ÂàõÂª∫Êñá‰ª∂ËæìÂÖ•ÊµÅ FileInputStream fis = new FileInputStream(&quot;D:/demo/test.txt&quot;); // üîπ ÂàõÂª∫Ë°åÂè∑ËæìÂÖ•ÊµÅ LineNumberInputStream lis = new LineNumberInputStream(fis); // üîπ ÂàõÂª∫Êï∞ÊçÆËæìÂÖ•ÊµÅÔºöÈÄöËøáDataInputStream ËøõË°åËæìÂÖ•ÊµÅËøáÊª§ÔºåËé∑ÂæóreadLine()ÁöÑÂäüËÉΩ„ÄÇ DataInputStream dis = new DataInputStream(lis); // üî∏ ËØªÂèñÊï∞ÊçÆ String line; while ((line = dis.readLine()) != null) &#123; System.out.println(lis.getLineNumber() + &quot;:&quot; + line); &#125; // ÂÖ≥Èó≠ËæìÂÖ•ÊµÅ dis.close(); lis.close(); fis.close(); &#125; catch (IOException e) &#123; &#125; &#125;&#125;// 1:hello,World!// 2:hello,China!// 3:Hello,Beijing! Ôºà2ÔºâLineNumberReader* ÊûÑÈÄ†ÊñπÊ≥ïÔºö Áî±‰∫éËØ•Á±ªÁªßÊâøËá™BufferedReaderÔºåÂõ†Ê≠§ÂÆÉÊã•Êúâ‰∏éBufferedReaderÁõ∏ÂêåÁöÑ‰∏§‰∏™ÊûÑÈÄ†ÊñπÊ≥ïÔºö LineNumberReader(Reader in); // ‰ΩøÁî®ÈªòËÆ§ËæìÂÖ•ÁºìÂ≠òÂå∫ÁöÑÂ§ßÂ∞èÂàõÂª∫Êñ∞ÁöÑË°åÁºñÂè∑readerLineNumberReader(Reader in,int sz); // ÂàõÂª∫Êñ∞ÁöÑË°åÁºñÂè∑readerÔºåÂ∞ÜÂ≠óÁ¨¶ËØªÂÖ•ÁªôÂÆöÂ§ßÂ∞èÁöÑÁºìÂ≠òÂå∫ * ÊñπÊ≥ïÔºö getLineNumber(); // ÂèñÂæóË°åÂè∑ setLineNumber(int); // ËÆæÁΩÆË°åÂè∑// Ê≥®ÊÑèÔºösetLineNumber(int)‰∏ç‰ºöÂÆûÈôÖÊõ¥ÊîπÊµÅ‰∏≠ÁöÑÂΩìÂâç‰ΩçÁΩÆÔºõÂÆÉÂè™Êõ¥ÊîπÁî±getLineNumber()ËøîÂõûÁöÑÂÄº * demoÔºö /** * Ê†πÊçÆÊñá‰ª∂ËæìÂÖ•ÊµÅfisÂàõÂª∫Ë°åÂè∑ËæìÂÖ•ÊµÅÁöÑÊñπÊ≥ïÔºå * ÈÄöËøálisÁöÑreadLine()ÊñπÊ≥ïÂèØ‰ª•ËØªÂèñ‰∏ÄË°åÊï∞ÊçÆÔºå‰ΩøÁî®getLineNumber()ÂèñÂæóË°åÂè∑ÔºåÂπ∂ËæìÂá∫Ë°åÂè∑ÂíåËØ•Ë°åÂÜÖÂÆπ„ÄÇ */public class TestLineNumberReader &#123; public static void main(String[] args) &#123; try &#123; // üîπ ÂàõÂª∫Êñá‰ª∂ËæìÂÖ•ÊµÅ FileReader fis = new FileReader(&quot;D:/demo/test.txt&quot;); // üîπ ÂàõÂª∫Ë°åÂè∑ËæìÂÖ•ÊµÅ LineNumberReader lis = new LineNumberReader(fis); // üî∏ ËØªÂèñÊï∞ÊçÆ String line; while ((line = lis.readLine()) != null) &#123; System.out.println(lis.getLineNumber() + &quot;:&quot; + line); &#125; // ÂÖ≥Èó≠ËæìÂÖ•ÊµÅ lis.close(); fis.close(); &#125; catch (IOException e) &#123; &#125; &#125;&#125;// 1:hello,World!// 2:hello,China!// 3:Hello,Beijing! ÔºàÂçÅÔºâÊé®ÂõûËæìÂÖ•ÊµÅPushbackInputStream Âíå PushbackReader ‰∏∫Âè¶‰∏Ä‰∏™ËæìÂÖ•ÊµÅÊ∑ªÂä†ÊÄßËÉΩÔºåÂÖÅËÆ∏Â∞ÜÂ≠óËäÇ(Â≠óÁ¨¶)Êé®ÂõûÂà∞ÊµÅ‰∏≠ÔºöÂç≥‚ÄúÊé®ÂõûÔºàpushbackÔºâ‚ÄùÊàñ‚ÄúÂèñÊ∂àËØªÂèñÔºàunreadÔºâ‚Äù‰∏Ä‰∏™Â≠óËäÇ(Â≠óÁ¨¶)ÁöÑËÉΩÂäõ„ÄÇ PushbackInputStream Âíå PushbackReader ÁöÑ3‰∏™ÊñπÊ≥ïÔºö ÊñπÊ≥ï ËØ¥Êòé void unread(int b) Â∞Ü‰∏Ä‰∏™Â≠óËäÇ/Â≠óÁ¨¶Êé®ÂõûÂà∞Êé®ÂõûÁºìÂÜ≤Âå∫ÈáåÔºå‰ªéËÄåÂÖÅËÆ∏ÈáçÂ§çËØªÂèñÂàöÂàöËØªÂèñÁöÑÂÜÖÂÆπ„ÄÇ void unread(byte[]/char[] buf) Â∞Ü‰∏Ä‰∏™Â≠óËäÇ/Â≠óÁ¨¶Êï∞ÁªÑÂÜÖÂÆπÊé®ÂõûÂà∞Êé®ÂõûÁºìÂÜ≤Âå∫ÈáåÔºå‰ªéËÄåÂÖÅËÆ∏ÈáçÂ§çËØªÂèñÂàöÂàöËØªÂèñÁöÑÂÜÖÂÆπ„ÄÇ void unread(byte[]/char[] b, int off, int len) Â∞Ü‰∏Ä‰∏™Â≠óËäÇ/Â≠óÁ¨¶Êï∞ÁªÑÈáå‰ªéoffÂºÄÂßãÔºåÈïøÂ∫¶‰∏∫lenÂ≠óËäÇ/Â≠óÁ¨¶ÁöÑÂÜÖÂÆπÊé®ÂõûÂà∞Êé®ÂõûÁºìÂÜ≤Âå∫ÈáåÔºå‰ªéËÄåÂÖÅËÆ∏ÈáçÂ§çËØªÂèñÂàöÂàöËØªÂèñÁöÑÂÜÖÂÆπ„ÄÇ Âú®ËØªÂèñÁªàÊ≠¢Â≠óËäÇ(Â≠óÁ¨¶)ÂêéÔºå‰ª£Á†ÅÁâáÊÆµÂèØ‰ª•‚ÄúÂèñÊ∂àËØªÂèñ‚ÄùËØ•Â≠óËäÇ(Â≠óÁ¨¶)ÔºåËøôÊ†∑ÔºåËæìÂÖ•ÊµÅ‰∏äÁöÑ‰∏ã‰∏Ä‰∏™ËØªÂèñÊìç‰ΩúÂ∞Ü‰ºöÈáçÊñ∞ËØªÂèñË¢´Êé®ÂõûÁöÑÂ≠óËäÇ(Â≠óÁ¨¶)„ÄÇ Â§ÑÁêÜÁ§∫ÊÑèÂõæ ÈúÄÊåáÂÆöÁºìÂÜ≤Âå∫Â§ßÂ∞è ÂΩìÂàõÂª∫‰∏Ä‰∏™ PushbackInputStream Âíå PushbackReader Êó∂ÈúÄË¶ÅÊåáÂÆöÊé®ÂõûÁºìÂÜ≤Âå∫ÁöÑÂ§ßÂ∞èÔºåÈªòËÆ§ÁöÑÊé®ÂõûÁºìÂÜ≤Âå∫ÁöÑÈïøÂ∫¶‰∏∫1„ÄÇ Ëã•Á®ãÂ∫è‰∏≠Êé®ÂõûÂà∞Êé®ÂõûÁºìÂÜ≤Âå∫ÁöÑÂÜÖÂÆπË∂ÖÂá∫‰∫ÜÊé®ÂõûÁºìÂÜ≤Âå∫ÁöÑÂ§ßÂ∞èÔºåÂ∞Ü‰ºöÂºïÂèë Pushback buffer overflow ÁöÑ IOException ÂºÇÂ∏∏„ÄÇ DemoÔºö public class TestPushbackInputStream &#123; public static void main(String[] args) &#123; try &#123; // ÂàõÂª∫Êñá‰ª∂ËæìÂÖ•ÊµÅ FileInputStream fis = new FileInputStream(&quot;D:/demo/test.txt&quot;); // ÂàõÂª∫Êé®ÂõûËæìÂÖ•ÊµÅ PushbackInputStream pis = new PushbackInputStream(fis); // ËØªÂèñÂØπË±°Êï∞ÊçÆ int c = pis.read(); System.out.print((char)c); pis.unread(c); // üîª Êé®Âõû‰∏Ä‰∏™Â≠óËäÇ c = pis.read(); // ÂÜçÊ¨°ËØªÂèñ System.out.print((char)c); // ÂÖ≥Èó≠ËæìÂÖ•ÊµÅ pis.close(); fis.close(); &#125; catch (IOException e) &#123; &#125; &#125;&#125;// ËøêË°åËØ•Á®ãÂ∫èÂ∞Ü‰ºöÈáçÂ§çËæìÂá∫Á¨¨‰∏Ä‰∏™Â≠óÁ¨¶„ÄÇ ÔºàÂçÅ‰∏ÄÔºâÊâìÂç∞ÊµÅÔºàÊ†ºÂºèÂåñÔºâÔºà1ÔºâPrintStream%%{ init: { 'themeVariables': { 'fontSize': '13px' } } }%% graph LR A([\"PrintStreamÔºà‰∏éOutputStreamÁõ∏ÊØîÔºâ\"]):::p A -.-> a(\"Ê∑ªÂä†‰∫Ü‰∏ÄÁªÑ print() / println() ÊñπÊ≥ïÔºåÂèØ‰ª•ÊâìÂç∞ÂêÑÁßçÊï∞ÊçÆÁ±ªÂûãÔºåÊØîËæÉÊñπ‰æø„ÄÇ\"):::lp A -.-> b(\"‰∏ç‰ºöÊäõÂá∫IOException\"):::lp A -.-> c(\"Ëá™Âä®Âà∑Êñ∞Êú∫Âà∂ÔºöÂÜôÂÖ•ÂÜÖÂÆπÂêéËá™Âä®Ë∞ÉÁî®flush()ÊñπÊ≥ï\"):::lp classDef p fill:#ddaebd classDef lp fill:#f4e4e9 ÔºàÂ≠óËäÇÂûãÔºâPrintStream ÊòØ‰∏ÄÁßç FilterOutputStreamÔºåÂú® OutputStream ÁöÑÊé•Âè£‰∏äÔºåÈ¢ùÂ§ñÊèê‰æõ‰∫Ü‰∏Ä‰∫õÂÜôÂÖ•ÂêÑÁßçÊï∞ÊçÆÁ±ªÂûãÁöÑÊñπÊ≥ï„ÄÇ‰ª•ÂèäÂØπÂ∫îÁöÑ‰∏ÄÁªÑ println() ÊñπÊ≥ïÔºàËá™Âä®Âä†‰∏äÊç¢Ë°åÁ¨¶Ôºâ„ÄÇ ÊñπÊ≥ï ËØ¥Êòé void print(boolean) Â∞ÜbooleanÁ±ªÂûãÊï∞ÊçÆÂØπÂ∫îÂ≠óÁ¨¶‰∏≤ÂÜôÂà∞PrintStreamÊµÅ‰∏≠ void print(char) Â∞ÜcharÁ±ªÂûãÊï∞ÊçÆÂØπÂ∫îÂ≠óÁ¨¶‰∏≤ÂÜôÂà∞PrintStreamÊµÅ‰∏≠ void print(int) Â∞ÜintÁ±ªÂûãÊï∞ÊçÆÂØπÂ∫îÂ≠óÁ¨¶‰∏≤ÂÜôÂà∞PrintStreamÊµÅ‰∏≠ void print(long) Â∞ÜlongÁ±ªÂûãÊï∞ÊçÆÂØπÂ∫îÂ≠óÁ¨¶‰∏≤ÂÜôÂà∞PrintStreamÊµÅ‰∏≠ void print(float) Â∞ÜfloatÁ±ªÂûãÊï∞ÊçÆÂØπÂ∫îÂ≠óÁ¨¶‰∏≤ÂÜôÂà∞PrintStreamÊµÅ‰∏≠ void print(double) Â∞ÜdoubleÁ±ªÂûãÊï∞ÊçÆÂØπÂ∫îÂ≠óÁ¨¶‰∏≤ÂÜôÂà∞PrintStreamÊµÅ‰∏≠ void print(char[]) Â∞ÜÂ≠óÁ¨¶‰∏≤Êï∞ÁªÑÂÜôÂà∞PrintStreamÊµÅ‰∏≠ void print(String) Â∞ÜÂ≠óÁ¨¶‰∏≤ÂÜôÂà∞PrintStreamÊµÅ‰∏≠ void print(Obj) Â∞ÜÂØπË±°ÂØπÂ∫îÂ≠óÁ¨¶‰∏≤ÂÜôÂà∞PrintStream‰∏≠ üî∫ ‰∏§ÊñπÊ≥ïÂÜôÂÖ•Êï∞ÊçÆÊó∂ÈÉΩ‰ºöÂ∞ÜÊï∞ÊçÆËΩ¨Êç¢ÊàêÂ≠óÁ¨¶‰∏≤ÔºåÂÆûÈôÖË∞ÉÁî®ÁöÑÊñπÊ≥ïÔºöwrite(String s)„ÄÇ ptrint(0x61) = write(String.valueOf(0x61)) Ôºà2ÔºâPrintWriter ÔºàÂ≠óÁ¨¶ÂûãÔºâPrintWriterÊâ©Â±ï‰∫Ü Writer Êé•Âè£ÔºåÂÆÉÁöÑ print() / println() ÊñπÊ≥ïÊúÄÁªàËæìÂá∫ÁöÑÊòØ char Êï∞ÊçÆ„ÄÇ‰ΩøÁî®ÊñπÊ≥ïÂêå PrintStream„ÄÇ Ôºà3ÔºâÈáçÂÆöÂêëÊ†áÂáÜËæìÂÖ•/ËæìÂá∫ ÈáçÂÆöÂêëÊ†áÂáÜËæìÂÖ•/ËæìÂá∫ JavaÁöÑÊ†áÂáÜËæìÂÖ•/ËæìÂá∫ÂàÜÂà´ÈÄöËøá System.inÔºà‰ªéÈîÆÁõòËæìÂÖ•ÔºâÂíå System.outÔºàËæìÂá∫Âà∞Â±èÂπïÔºâÊù•‰ª£Ë°®„ÄÇËÄå System Á±ªÈáåÊèê‰æõ‰∫ÜÂ¶Ç‰∏ã3‰∏™ÈáçÂÆöÂêëÊ†áÂáÜËæìÂÖ•/ËæìÂá∫ÁöÑÊñπÊ≥ï„ÄÇ ÊñπÊ≥ï ËØ¥Êòé static void setErr(PrintStream err) ÈáçÂÆöÂêë ‚ÄúÊ†áÂáÜ‚ÄùÈîôËØØËæìÂá∫ÊµÅ„ÄÇ static void setIn(InputStream in) ÈáçÂÆöÂêë‚ÄúÊ†áÂáÜ‚ÄùËæìÂÖ•ÊµÅ„ÄÇ static void setOut(PrintStream out) ÈáçÂÆöÂêë ‚ÄúÊ†áÂáÜ‚ÄùËæìÂá∫ÊµÅ„ÄÇ demoÔºöÈáçÂÆöÂêëÊ†áÂáÜËæìÂá∫ /** * ÈÄöËøáÈáçÂÆöÂêëÊ†áÂáÜËæìÂá∫ÊµÅÔºåÂ∞ÜSystem.outÁöÑËæìÂá∫ÈáçÂÆöÂêëÂà∞Êñá‰ª∂ËæìÂá∫ÔºåËÄå‰∏çÊòØÂú®Â±èÂπï‰∏äËæìÂá∫„ÄÇ */public class RedirectOut &#123; public static void main(String[] args) &#123; try( // ‰∏ÄÊ¨°ÊÄßÂàõÂª∫PrintStreamËæìÂá∫ÊµÅ PrintStream ps=new PrintStream(new FileOutputStream(&quot;out.txt&quot;))) &#123; // Â∞ÜÁ≥ªÁªüÁöÑÊ†áÂáÜËæìÂá∫ÈáçÂÆöÂêëÂà∞psËæìÂá∫ÊµÅ System.setOut(ps); // ÂêëÊ†áÂáÜËæìÂá∫ËæìÂá∫‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ System.out.println(&quot;ÊôÆÈÄöÂ≠óÁ¨¶‰∏≤&quot;); // ÂêëÊ†áÂáÜËæìÂá∫ËæìÂá∫‰∏Ä‰∏™ÂØπË±° System.out.println(new RedirectOut()); &#125; catch (IOException ex) &#123; ex.printStackTrace(); &#125; &#125;&#125; ËØ•‰ª£Á†ÅÂàõÂª∫‰∫Ü‰∏Ä‰∏™ PrintStream ËæìÂá∫ÊµÅÔºåÂπ∂Â∞ÜÁ≥ªÁªüÁöÑÊ†áÂáÜËæìÂá∫ÈáçÂÆöÂêëÂà∞ËØ• Print Stream ËæìÂá∫ÊµÅ„ÄÇËøêË°åËØ•Á®ãÂ∫èÊó†‰ªª‰ΩïËæìÂá∫ÔºöÂõ†‰∏∫Ê†áÂáÜËæìÂá∫‰∏çÂÜçËæìÂá∫Âà∞Â±èÂπïÔºåËÄåÊòØËæìÂá∫Âà∞ out.txt Êñá‰ª∂„ÄÇ demoÔºöÈáçÂÆöÂêëÊ†áÂáÜËæìÂÖ• /** * ‰∏ãÈù¢Á®ãÂ∫èÈáçÂÆöÂêëÊ†áÂáÜËæìÂÖ•Ôºå‰ªéËÄåÂèØ‰ª•Â∞ÜSystem.inÈáçÂÆöÂêëÂà∞ÊåáÂÆöÊñá‰ª∂ÔºåËÄå‰∏çÊòØÈîÆÁõòËæìÂÖ•„ÄÇ */public class RedirectIn &#123; public static void main(String[] args) &#123; try( FileInputStream fis=new FileInputStream(&quot;RedirectIn.java&quot;)) &#123; // Â∞ÜÊ†áÂáÜËæìÂÖ•ÈáçÂÆöÂêëÂà∞fisËæìÂÖ•ÊµÅ System.setIn(fis); // ‰ΩøÁî®System.inÂàõÂª∫ScannerÂØπË±°ÔºåÁî®‰∫éËé∑ÂèñÊ†áÂáÜËæìÂÖ• Scanner sc=new Scanner(System.in); // Â¢ûÂä†‰∏ãÈù¢‰∏ÄË°åÂè™ÊääÂõûËΩ¶‰Ωú‰∏∫ÂàÜÈöîÁ¨¶ sc.useDelimiter(&quot;\\n&quot;); // Âà§Êñ≠ÊòØÂê¶ËøòÊúâ‰∏ã‰∏Ä‰∏™ËæìÂÖ•È°π while(sc.hasNext()) &#123; // ËæìÂá∫ËæìÂÖ•È°π System.out.println(&quot;ÈîÆÁõòËæìÂÖ•ÁöÑÂÜÖÂÆπÊòØÔºö&quot; + sc.next()); &#125; &#125; catch (IOException ex) &#123; ex.printStackTrace(); &#125; &#125;&#125; ËØ•‰ª£Á†ÅÂàõÂª∫‰∫Ü‰∏Ä‰∏™ FileInputStream ËæìÂÖ•ÊµÅÔºåÂπ∂‰ΩøÁî® System ÁöÑ setIn() ÊñπÊ≥ïÂ∞ÜÁ≥ªÁªüÊ†áÂáÜËæìÂÖ•ÈáçÂÆöÂêëÂà∞ËØ•Êñá‰ª∂ËæìÂÖ•ÊµÅ„ÄÇ ËøêË°å‰∏äÈù¢Á®ãÂ∫èÔºåÁ®ãÂ∫è‰∏ç‰ºöÁ≠âÂæÖÁî®Êà∑ËæìÂÖ•ÔºåËÄåÊòØÁõ¥Êé•ËæìÂá∫‰∫Ü RedirectIn.java Êñá‰ª∂ÁöÑÂÜÖÂÆπÔºåËøôË°®ÊòéÁ®ãÂ∫è‰∏çÂÜç‰ΩøÁî®ÈîÆÁõò‰Ωú‰∏∫Ê†áÂáÜËæìÂÖ•ÔºåËÄåÊòØ‰ΩøÁî®ÊåáÂÆöÊñá‰ª∂‰Ωú‰∏∫Ê†áÂáÜËæìÂÖ•Ê∫ê„ÄÇ - end - üîñ Á¨îËÆ∞Êù•Ëá™Ôºö „ÄäJavaÁºñÁ®ãÁöÑÈÄªËæë„Äã „ÄäJavaÈ´òÊâãÁúüÁªèÔºàÁºñÁ®ãÂü∫Á°ÄÂç∑Ôºâ„Äã „ÄäÁñØÁãÇJavaËÆ≤‰πâ„Äã üìé Ë°•ÂÖÖÔºö IO - ÂØπË±°Â∫èÂàóÂåñ","categories":[{"name":"JavaÂü∫Á°Ä","slug":"JavaÂü∫Á°Ä","permalink":"https://equnee.github.io/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://equnee.github.io/tags/Java/"},{"name":"I/O","slug":"I-O","permalink":"https://equnee.github.io/tags/I-O/"}]},{"title":"IO - File„ÄÅFileFilter Âíå FilenameFilter","slug":"note/Basics/IO/IO_File","date":"2023-05-08T12:02:52.578Z","updated":"2023-05-11T18:59:06.683Z","comments":true,"path":"note/Basics/IO/IO_File/","link":"","permalink":"https://equnee.github.io/note/Basics/IO/IO_File/","excerpt":"","text":"java.io - ÁõÆÂΩï Ê†áÂáÜËÆæÂ§áËæìÂÖ•/ËæìÂá∫ Ê†áÂáÜËÆæÂ§áËæìÂÖ•/ËæìÂá∫ÔºöSystem ÊéßÂà∂Âè∞ËØªÂÜôÁ±ªÔºöConsole Êñá‰ª∂Âü∫Êú¨Â§ÑÁêÜ Êñá‰ª∂Êìç‰ΩúÁ±ªÔºöFile Êñá‰ª∂ÊêúÁ¥¢Á±ªÔºöFileFilter„ÄÅFilenameFilter Êñá‰ª∂‰ªªÊÑèËØªÂÜôÁ±ªÔºöRandomAccessFile ËæìÂÖ•/ËæìÂá∫ÊµÅ ËæìÂÖ•/ËæìÂá∫ÊµÅ - ÂàÜÁ±ª ËæìÂÖ•/ËæìÂá∫ÊµÅ - ÂÆûÁé∞Á±ª ÂØπË±°Â∫èÂàóÂåñ Ôºà‰∏ÄÔºâFile - Êñá‰ª∂ÂØπÊñá‰ª∂ÂíåÁõÆÂΩïËøõË°åÂ¢ûÂà†ÊîπÊü•Êìç‰Ωú %%{ init: { 'themeVariables': { 'fontSize': '12px' } } }%% graph TD T([\"File Êñá‰ª∂ÂØπË±°\"]):::p T --> A(\"FileÁ±ªËÉΩÊìç‰ΩúÊñá‰ª∂Êú¨Ë∫´ÁöÑÂ±ûÊÄß\"):::p T -.-x B(\"FileÂØπË±°‰∏çËÉΩÊìç‰ΩúÊñá‰ª∂‰∏≠ÁöÑÂÜÖÂÆπ\"):::g A --> a(\"* Êü•ÁúãÊñá‰ª∂Â±ûÊÄß#12288;#12288;#12288;* ÂàõÂª∫Êñ∞Êñá‰ª∂„ÄÅÊñá‰ª∂Â§π* Êü•ÁúãÁà∂Á∫ßÁõÆÂΩï#12288;#12288;#12288;* ÈÅçÂéÜ„ÄÅÂà†Èô§Êñá‰ª∂Â§π#12288;\"):::lp B -.-> b(\"ÈúÄË¶ÅÈÄöËøá I/O ÁöÑÊñπÂºèÊù•ÂÆåÊàê\"):::lg info(\"fileÂØπË±°‰∏çÊòØÁúüÊ≠£ÁöÑÊñá‰ª∂ÔºåËÄåÊòØÂ†ÜÂÜÖÂ≠ò‰∏≠ÂàõÂª∫Âá∫Êù•ÁöÑ‰∏Ä‰∏™ÂØπË±°Á©∫Èó¥\"):::info classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#a6ccc3 classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#5a5a5f,stroke-dasharray: 3 3, stroke-width: 1px click b \"https://equnee.github.io/note/Basics/IO/IO_IO/\" ‚ë† ÂÆûÁé∞ÁöÑÊé•Âè£SerializableÔºå Comparable ‚ë° ÊûÑÈÄ†ÊñπÊ≥ïÂú®ËÉΩÂ§üÊìç‰ΩúÁõÆÂΩïÊàñÊñá‰ª∂‰πãÂâçÔºåË¶ÅÂÖàÂàõÂª∫‰∏Ä‰∏™Êñá‰ª∂ÂØπË±°ÔºåÊåáÂêëÁõÆÂΩïÊàñÊñá‰ª∂„ÄÇ ÊûÑÈÄ†ÊñπÊ≥ï ËØ¥Êòé ÔºàÊ≤°ÊúâÊó†ÂèÇÊûÑÈÄ†ÊñπÊ≥ïÔºâ File(String pathname) ÈÄöËøáÂ∞ÜÁªôÂÆöË∑ØÂæÑÂêçÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫ÊäΩË±°Ë∑ØÂæÑÂêçÊù•ÂàõÂª∫‰∏Ä‰∏™Êñ∞FileÂÆû‰æã„ÄÇ File(File parent, String child) Ê†πÊçÆparentÊäΩË±°Ë∑ØÂæÑÂêçÂíåchildË∑ØÂæÑÂêçÂ≠óÁ¨¶‰∏≤ÂàõÂª∫‰∏Ä‰∏™Êñ∞FileÂÆû‰æã„ÄÇ File(String parent, String child) Ê†πÊçÆparentË∑ØÂæÑÂêçÂ≠óÁ¨¶‰∏≤ÂíåchildË∑ØÂæÑÂêçÂ≠óÁ¨¶‰∏≤ÂàõÂª∫‰∏Ä‰∏™Êñ∞FileÂÆû‰æã„ÄÇ File(URI uri) ÈÄöËøáÂ∞ÜÁªôÂÆöÁöÑ file:URI ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™ÊäΩË±°Ë∑ØÂæÑÂêçÊù•ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑFileÂÆû‰æã„ÄÇ ‚ë¢ Â∏∏Áî®ÊñπÊ≥ï Êñá‰ª∂Âü∫Êú¨Â±ûÊÄß Â∏∏Áî®ÊñπÊ≥ï ËØ¥Êòé canExecute() ÂèØÊâßË°å canRead() ÂèØËØª canWrite() ÂèØÂÜô exists() Êñá‰ª∂ÂêçÊàñË∑ØÂæÑÊòØÂê¶Â≠òÂú® isHidden() ÊòØÂê¶ÈöêËóè isFile() Âà§Êñ≠ÂΩìÂâçfileÊòØÂê¶ÊòØ‰∏Ä‰∏™Êñá‰ª∂ isDirectory() Âà§Êñ≠ÂΩìÂâçfileÊòØÂê¶ÊòØ‰∏Ä‰∏™ÁõÆÂΩï isAbsolute() Âà§Êñ≠FileÂØπË±°ÊâÄÂØπÂ∫îÁöÑÊñá‰ª∂ÊàñÁõÆÂΩïÊòØÂê¶ÊòØÁªùÂØπË∑ØÂæÑ length() Ëé∑ÂèñÊñá‰ª∂‰∏≠Â≠óËäÇÁöÑ‰∏™Êï∞ lastModified() Ëé∑ÂèñÊñá‰ª∂ÊúÄÂêéÁöÑ‰øÆÊîπÊó∂Èó¥ÔºàlongÁ±ªÂûãÔºöÊØ´ÁßíÂÄºÔºâ Êñá‰ª∂Âêç Â∏∏Áî®ÊñπÊ≥ï ËØ¥Êòé ËøîÂõûÂÄºÁ±ªÂûã getName() Ëé∑ÂèñÊñá‰ª∂ÂêçÂ≠óÔºàTest.txtÔºâ String name getAbsolutePath() Ëé∑ÂèñÊñá‰ª∂ÁöÑÁªùÂØπË∑ØÂæÑÔºàD://test//Test.txtÔºâ String path getPath() Ëé∑ÂèñÊñá‰ª∂ÁöÑÂÆåÊï¥Ë∑ØÂæÑ String path renameTo(File dest) ÈáçÂëΩÂêçÔºåÂëΩÂêçÊàêÂäüËøîÂõûtrue Boolean true ÂàõÂª∫ Â∏∏Áî®ÊñπÊ≥ï ËØ¥Êòé ËøîÂõûÂÄºÁ±ªÂûã createNewFile() ÂàõÂª∫‰∏Ä‰∏™Êñá‰ª∂ÔºàÈúÄË¶ÅÊçïÊçâIOExceptionÔºâ boolean mkdir() ÂàõÂª∫‰∏Ä‰∏™ÁõÆÂΩï boolean mkdirs() ÂàõÂª∫ÊâÄÊúâÁõÆÂΩïÔºàÂêåÊó∂ÂàõÂª∫Â§öÂ±ÇÁõÆÂΩïÔºâ boolean createTempFile(String prefix, String suffix, File directory) Âú®ÊåáÂÆöÁõÆÂΩï‰∏≠ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ©∫Êñá‰ª∂Ôºå‰ΩøÁî®ÁªôÂÆöÁöÑÂâçÁºÄÂíåÂêéÁºÄÂ≠óÁ¨¶‰∏≤ÁîüÊàêÂÖ∂ÂêçÁß∞„ÄÇ File Ëé∑ÂèñÂØπË±° Â∏∏Áî®ÊñπÊ≥ï ËØ¥Êòé ËøîÂõûÂÄºÁ±ªÂûã getParent() Ëé∑ÂèñÂΩìÂâçFileÁöÑÁà∂ÁõÆÂΩïÁöÑÂÆåÊï¥Ë∑ØÂæÑ String name getParentFile() Ëé∑ÂèñÂΩìÂâçFileÁöÑÁà∂‰∫≤fileÂØπË±° File file getAbsoluteFile() ËøîÂõûÊ≠§FileÂØπË±°ÊâÄÂØπÂ∫îÁöÑÁªùÂØπË∑ØÂæÑÊâÄÂØπÂ∫îÁöÑFileÂØπË±° File file list() Ëé∑ÂèñÂΩìÂâçFileÂØπË±°ÁöÑÊâÄÊúâÂÑøÂ≠êÂêçÂ≠ó String[] names listFiles() Ëé∑ÂèñÂΩìÂâçFileÂØπË±°ÁöÑÊâÄÊúâÂ≠êÂØπË±°ÔºàÁõÆÂΩïÊàñÊñá‰ª∂Ôºâ File[] files static listRoots() ÂàóÂá∫Á≥ªÁªüÊâÄÊúâÁöÑÊ†πË∑ØÂæÑ„ÄÇ File[] files Âà†Èô§ Â∏∏Áî®ÊñπÊ≥ï ËØ¥Êòé ËøîÂõûÂÄºÁ±ªÂûã delete() ÂΩªÂ∫ïÂà†Èô§Êñá‰ª∂ÊàñÁ©∫ÁõÆÂΩïÔºåÊó†Ê≥ïÂà†Èô§Â∏¶ÂÖÉÁ¥†ÁöÑÊñá‰ª∂Â§π boolean deleteOnExit() Âà†Èô§Êñá‰ª∂ÊàñÁõÆÂΩïÂπ∂ÂÖ≥Èó≠ÊµÅÊìç‰Ωú boolean - Demopackage com.equne;import java.io.File;import java.io.IOException;public class FileTest&#123; public static void main(String[] args) throws IOException &#123; // ‰ª•ÂΩìÂâçË∑ØÂæÑÊù•ÂàõÂª∫‰∏Ä‰∏™FileÂØπË±° File file=new File(&quot;.&quot;); // Áõ¥Êé•Ëé∑ÂèñÊñá‰ª∂ÂêçÔºåËæìÂá∫‰∏ÄÁÇπ System.out.println(file.getName()); // Ëé∑ÂèñÁõ∏ÂØπË∑ØÂæÑÁöÑÁà∂Ë∑ØÂæÑÂèØËÉΩÂá∫ÈîôÔºå‰∏ãÈù¢‰ª£Á†ÅËæìÂá∫null System.out.println(file.getParent()); // Ëé∑ÂèñÁªùÂØπË∑ØÂæÑ System.out.println(file.getAbsoluteFile()); // Ëé∑Âèñ‰∏ä‰∏ÄÁ∫ßË∑ØÂæÑ System.out.println(file.getAbsoluteFile().getParent()); // Âú®ÂΩìÂâçË∑ØÂæÑ‰∏ãÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂Êñá‰ª∂ File tmpFile=File.createTempFile(&quot;aaa&quot;, &quot;.txt&quot;, file); // ÊåáÂÆöÂΩìJVMÈÄÄÂá∫Êó∂Âà†Èô§ËØ•Êñá‰ª∂ tmpFile.deleteOnExit(); // ‰ª•Á≥ªÁªüÂΩìÂâçÊó∂Èó¥‰Ωú‰∏∫Êñ∞Êñá‰ª∂ÂêçÊù•ÂàõÂª∫Êñ∞Êñá‰ª∂ File newFile=new File(System.currentTimeMillis() + &quot;&quot;); System.out.println(&quot;newFileÂØπË±°ÊòØÂê¶Â≠òÂú®Ôºö&quot; + newFile.exists()); // ‰ª•ÊåáÂÆönewFileÂØπË±°Êù•ÂàõÂª∫‰∏Ä‰∏™Êñá‰ª∂ newFile.createNewFile(); // ‰ª•newFileÂØπË±°Êù•ÂàõÂª∫‰∏Ä‰∏™ÁõÆÂΩïÔºåÂõ†‰∏∫newFileÂ∑≤ÁªèÂ≠òÂú® // ÊâÄ‰ª•‰∏ãÈù¢ÊñπÊ≥ïËøîÂõûfalseÔºåÂç≥Êó†Ê≥ïÂàõÂª∫ËØ•ÁõÆÂΩï newFile.mkdir(); // ‰ΩøÁî®list()ÊñπÊ≥ïÂàóÂá∫ÂΩìÂâçË∑ØÂæÑ‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂ÂíåË∑ØÂæÑ String[] fileList=file.list(); System.out.println(&quot;====ÂΩìÂâçË∑ØÂæÑ‰∏ãÊâÄÊúâÊñá‰ª∂ÂíåË∑ØÂæÑÂ¶Ç‰∏ã====&quot;); for (String fileName : fileList) &#123; System.out.println(fileName); &#125; // listRoots()ÈùôÊÄÅÊñπÊ≥ïÂàóÂá∫ÊâÄÊúâÁöÑÁ£ÅÁõòÊ†πË∑ØÂæÑ File[] roots=File.listRoots(); System.out.println(&quot;====Á≥ªÁªüÊâÄÊúâÊ†πË∑ØÂæÑÂ¶Ç‰∏ã====&quot;); for (File root : roots) &#123; System.out.println(root); &#125; &#125;&#125;/** * . * null * /Users/equne/Desktop/testJava/Test2/. * /Users/equne/Desktop/testJava/Test2 * newFileÂØπË±°ÊòØÂê¶Â≠òÂú®Ôºöfalse * ====ÂΩìÂâçË∑ØÂæÑ‰∏ãÊâÄÊúâÊñá‰ª∂ÂíåË∑ØÂæÑÂ¶Ç‰∏ã==== * Test2.iml * out * 1679734377738 * aaa5603141847215609264.txt * .idea * src * ====Á≥ªÁªüÊâÄÊúâÊ†πË∑ØÂæÑÂ¶Ç‰∏ã==== * / * */ (ÊëòËá™„ÄäÁñØÁãÇJavaËÆ≤‰πâ„Äã) Ôºà‰∫åÔºâFileFilter Âíå FilenameFilterÊé•Âè£ÔºöÂø´ÈÄüÂú∞ÊåâÁÖßÁâπÂÆöË¶ÅÊ±ÇÊâæÂá∫ÊâÄÊúâÊñá‰ª∂ FileFilter ‰∏é FilenameFilter Áî®‰∫éÊ£ÄÊµãÊñá‰ª∂ÊòØÂê¶Â≠òÂú®„ÄÇÂÆÉ‰ª¨ÈÉΩÊòØÊé•Âè£ÔºåÂè™ÈúÄÁºñÂÜôÁöÑÂÆûÁé∞Á±ªÂÆûÁé∞ÂÆÉ‰ª¨ÁöÑÂáΩÊï∞ accept() Âç≥ÂèØ „ÄÇ Êé•Âè£ Âå∫Âà´ ÊñπÊ≥ï FileFilter Êèê‰æõÊñá‰ª∂ÂØπË±°ÁöÑËÆøÈóÆÊñπÊ≥ï boolean accept(File file); FilenameFilter ÊåâÁÖßÁõÆÂΩïÂíåÊñá‰ª∂ÂêçÁöÑÊñπÂºèËøõË°å boolean accept(File directory, String name); ‚ë† FileFilterDemoÔºöÊêúÁ¥¢ÁâπÂÆöÁöÑÊñá‰ª∂Êâ©Â±ïÂêç ExtensionFilter /** * Êâ©Â±ïÂêçËøáÊª§Âô® */public class ExtensionFilter implements FileFilter &#123;// üî¥ ‰∏Ä„ÄÅÂÆö‰πâ‰∏Ä‰∏™Êâ©Â±ïÂêçËøáÊª§Âô®Á±ªÔºöÂÆûÁé∞Êé•Âè£ FileFilter private String extension; // Êâ©Â±ïÂêç // üî¥ ‰∫å„ÄÅÊûÑÈÄ†ÂáΩÊï∞‰∏≠ÂàùÂßãÂåñÂèòÈáèextensionÔºöÂæÖÂåπÈÖçÁöÑÊñá‰ª∂Êâ©Â±ïÂêç public ExtensionFilter(String extension) &#123; this.extension = extension; &#125; // üî¥ ‰∫å„ÄÅÊé•Âè£ÂáΩÊï∞ÔºöÂÆûÁé∞Êâ©Â±ïÂêçËøáÊª§ public boolean accept(File file) &#123; // üîπ Ëã•‰∏∫ÁõÆÂΩïÔºöËøîÂõûfalse if (file.isDirectory()) &#123; return false; &#125; // ÂèñÂæóÊñá‰ª∂Âêç String name = file.getName(); // ÂèñÂæóÊâ©Â±ïÂêçÂâçÁöÑÁ¨¶Âè∑‚Äú.‚ÄùÁöÑ‰∏ãÊ†á‰ΩçÁΩÆ int index = name.lastIndexOf(&quot;.&quot;); // üîπ Âà§Êñ≠Êâ©Â±ïÂêç if(index == -1)&#123; // Ëã•Ê≤°ÊúâÊâ©Â±ïÂêçÔºöËøîÂõûfalse return false; &#125; else if(index == name.length() - 1)&#123; // Ëã•‰ª•ÁÇπÂè∑ÁªìÂ∞æÔºöËøîÂõûfalse return false; &#125; else&#123; // Ëã•Êâ©Â±ïÂêçÁõ∏ÂêåÔºöËøîÂõûtrue return this.extension.equals(name.substring(index + 1)); &#125; &#125;&#125; TestFile /** * ÊµãËØïÁ±ªÔºö‰ΩøÁî®‰∏äËø∞ÁöÑExtensionFilterÁ±ªÊù•Êü•Êâæ D:/demo ÁõÆÂΩï‰∏ã„ÄÅÊâ©Â±ïÂêç‰∏∫txtÁöÑÊñá‰ª∂ÂàóË°®„ÄÇ */public class TestFile &#123; public static void main(String[] args) &#123; File file = new File(&quot;D:/demo&quot;); // ÂàõÂª∫‰∏Ä‰∏™txtËøáÊª§Âô® ExtensionFilter txtFilter = new ExtensionFilter(&quot;txt&quot;); // ‰ΩøÁî®ËøáÊª§Âô®Êü•ÊâætxtÊñá‰ª∂ File[] files = file.listFiles(txtFilter); // ËæìÂá∫Êü•ÊâæÁöÑÊñá‰ª∂ÂàóË°® for (int i = 0; i Ôºú files.length; i++) &#123; System.out.println(files[i].getAbsolutePath()); &#125; &#125; &#125;// D:\\demo\\test.txt// D:\\demo\\test2.txt Ëã•‰ΩøÁî® FilenameFilterÔºåÁªìÊûú‰ºöËÆ©‰Ω†ÂæàÈöæÂà§Êñ≠Âà∞Â∫ïÊòØÁõÆÂΩïËøòÊòØÊñá‰ª∂„ÄÇ ‚ë° FilenameFilterFilenameFilter ÁöÑËøáÊª§ÂáΩÊï∞ accept() Áõ¥Êé•Ê†πÊçÆÁõÆÂΩïÂíåÊñá‰ª∂ÂêçËøõË°åËøáÊª§Ôºå‰∏é FileFilter Áõ∏ÊØîÔºåÂ§ö‰∫Ü‰∏Ä‰∏™Êñá‰ª∂ÂêçÂèÇÊï∞„ÄÇÈÄöÂ∏∏Êàë‰ª¨ÈÉΩÂª∫ËÆÆ‰ΩøÁî® FilenameFilter Á±ªËøõË°åÊñá‰ª∂ËøáÊª§„ÄÇ DemoÔºöÂõæÁâáËøáÊª§Âô® ImageFilter /** * ÂõæÁâáËøáÊª§Âô®ÔºöËøáÊª§Êâ©Â±ïÂêç‰∏∫.gif,.jpg,.pngÁöÑÊñá‰ª∂ */public class ImageFilter implements FilenameFilter &#123; // üîπ gifÁ±ªÂûãÊñá‰ª∂ public boolean isGif(String filename) &#123; if (filename.toLowerCase().endsWith(&quot;.gif&quot;)) &#123; return true; &#125; else &#123; return false; &#125; &#125; // üîπ jpgÁ±ªÂûãÊñá‰ª∂ public boolean isJpg(String filename) &#123; if (filename.toLowerCase().endsWith(&quot;.jpg&quot;)) &#123; return true; &#125; else &#123; return false; &#125; &#125; // üîπ pngÁ±ªÂûãÊñá‰ª∂ public boolean isPng(String filename) &#123; if (filename.toLowerCase().endsWith(&quot;.png&quot;)) &#123; return true; &#125; else &#123; return false; &#125; &#125; // üî¥ Êé•Âè£ÂáΩÊï∞ÔºöÂÆûÁé∞Êâ©Â±ïÂêçËøáÊª§ public boolean accept(File dir, String filename) &#123; return (isGif(filename) || isJpg(filename) || isPng(filename)); &#125;&#125; TestFile public class TestFile &#123; public static void main(String[] args) &#123; // ÁõÆÂΩïÂÆû‰æã File file = new File(&quot;D:/demo&quot;); // ---------- FileFilter ------------ // ÂàõÂª∫‰∏Ä‰∏™txtËøáÊª§Âô® ExtensionFilter txtFilter = new ExtensionFilter(&quot;txt&quot;); // ‰ΩøÁî®ËøáÊª§Âô®Êü•ÊâætxtÊñá‰ª∂ File[] files = file.listFiles(txtFilter); // ËæìÂá∫Êü•ÊâæÁöÑÊñá‰ª∂ÂàóË°® for (int i = 0; i Ôºú files.length; i++) &#123; System.out.println(files[i].getAbsolutePath()); &#125; // --------- FilenameFilter ----------- // ÂàõÂª∫‰∏Ä‰∏™ÂõæÁâáËøáÊª§Âô® ImageFilter imageFilter = new ImageFilter(); // ‰ΩøÁî®ËøáÊª§Âô®Êü•ÊâæÂõæÁâáÊñá‰ª∂ File[] images = file.listFiles(imageFilter); // ËæìÂá∫Êü•ÊâæÁöÑÊñá‰ª∂ÂàóË°® for (int i = 0; i Ôºú images.length; i++)&#123; System.out.println(images[i].getAbsolutePath()); &#125; &#125;&#125;// D:\\demo\\a.jpg// D:\\demo\\b.gif ÔºàÊëòËá™Ôºö„ÄäJavaÈ´òÊâãÁúüÁªèÔºàÁºñÁ®ãÂü∫Á°ÄÂç∑Ôºâ„ÄãÔºâ Ôºà‰∏âÔºâ*ÈÄíÂΩí - ÈÅçÂéÜÊñá‰ª∂Â§π‚ë† ÈÄíÂΩí Êú¨Ë¥®ÔºöÊñπÊ≥ïÁöÑË∞ÉÁî® ÔºàÂç≥Ëá™Â∑±Ë∞ÉÁî®Ëá™Â∑±Ôºå‰∏îÊØèÊ¨°‰º†ÁöÑÂèÇÊï∞ÈÉΩ‰∏ç‰∏ÄÊ†∑Ôºâ public class newTestFile&#123; public void buildTower(int floor)&#123; // ËÆæËÆ°‰∏Ä‰∏™ÊñπÊ≥ïÔºåÊèèËø∞ÁõñÂÆùÂ°î if(floor&gt;1)&#123; this.buildTower(floor-1); &#125; System.out.println(&quot;ÊîπÂà∞Á¨¨&quot;+ floor + &quot;Â±ÇÂï¶&quot;); // Ëá™Â∑±ÊâßË°å &#125;&#125; ÂÜÖÂ≠òÁªìÊûÑÂõæÔºö ‚ë° ÈÅçÂéÜÊñá‰ª∂Â§π/* * ÈÅçÂéÜÊñá‰ª∂Â§π„ÄÇÂèÇÊï∞ÔºöfileÔºà‰ª£Ë°®Êñá‰ª∂ÊàñÊñá‰ª∂Â§πÔºâ */import java.io.File;public class newTestFile&#123; public void showFile(File file)&#123; File[] files = File.listFiles(); // Â¶ÇÊûúÂú®Ë∞ÉÁî®ÂâçËæìÂá∫ÔºåÂàôÁõ∏ÂèçËæìÂá∫ if (files != null &amp;&amp; files.length != 0)&#123; // üîπ ÈùûÊñá‰ª∂ &amp;&amp; ÈùûÁ©∫Êñá‰ª∂Â§π for(File f : files)&#123; // ÈÅçÂéÜ this.showFile(); // üîπ ÈÄíÂΩí &#125; &#125; System.out.println(file.getAbsolutePath()); &#125;&#125; Âà†Èô§Êñá‰ª∂Â§πÔºöfile.delete(); // Â∞Ü‰∏äÈù¢ÁöÑ‰æãÂ≠êÊõøÊç¢ - end -","categories":[{"name":"JavaÂü∫Á°Ä","slug":"JavaÂü∫Á°Ä","permalink":"https://equnee.github.io/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://equnee.github.io/tags/Java/"},{"name":"I/O","slug":"I-O","permalink":"https://equnee.github.io/tags/I-O/"}]},{"title":"IO - Ê†áÂáÜËÆæÂ§áËæìÂÖ•/ËæìÂá∫","slug":"note/Basics/IO/IO_StandardIO","date":"2023-05-06T15:10:06.697Z","updated":"2023-05-10T08:31:38.065Z","comments":true,"path":"note/Basics/IO/IO_StandardIO/","link":"","permalink":"https://equnee.github.io/note/Basics/IO/IO_StandardIO/","excerpt":"","text":"java.io - ÁõÆÂΩï Ê†áÂáÜËÆæÂ§áËæìÂÖ•/ËæìÂá∫ Ê†áÂáÜËÆæÂ§áËæìÂÖ•/ËæìÂá∫ÔºöSystem ÊéßÂà∂Âè∞ËØªÂÜôÁ±ªÔºöConsole Êñá‰ª∂Âü∫Êú¨Â§ÑÁêÜ Êñá‰ª∂Êìç‰ΩúÁ±ªÔºöFile Êñá‰ª∂ÊêúÁ¥¢Á±ªÔºöFileFilter„ÄÅFilenameFilter Êñá‰ª∂‰ªªÊÑèËØªÂÜôÁ±ªÔºöRandomAccessFile ËæìÂÖ•/ËæìÂá∫ÊµÅ ËæìÂÖ•/ËæìÂá∫ÊµÅ - ÂàÜÁ±ª ËæìÂÖ•/ËæìÂá∫ÊµÅ - ÂÆûÁé∞Á±ª ÂØπË±°Â∫èÂàóÂåñ ‰∏Ä„ÄÅÊ†áÂáÜËÆæÂ§áËæìÂÖ•/ËæìÂá∫Á±ª - SystemSystemÊòØJavaÁ≥ªÁªü‰∏≠‰∏Ä‰∏™ÊúÄÂ∏∏‰ΩøÁî®ÁöÑÁ±ªÔºöJavaÁöÑÁ≥ªÁªüÁ±ª„ÄÇ %%{ init: { 'themeVariables': { 'fontSize': '13px' } } }%% graph LR t((\"SystemÔºàÁ≥ªÁªüÁ±ªÔºâ\")):::p --> T subgraph ÈùôÊÄÅÊñπÊ≥ï T([ÈùôÊÄÅÊñπÊ≥ï]):::p T --> 1(\"Ê†áÂáÜËæìÂá∫ out Ê†áÂáÜËæìÂÖ• in Ê†áÂáÜÈîôËØØËæìÂá∫ err\"):::lp T -.- 2(\"ËÆøÈóÆÂ§ñÈÉ®ÂÆö‰πâÁöÑÂ±ûÊÄßÂíåÁéØÂ¢ÉÂèòÈáè\"):::info T -.- 3(\"Âä†ËΩΩÊñá‰ª∂ÂíåÂ∫ì\"):::info T -.- 4(\"Âø´ÈÄüÂ§çÂà∂Êï∞ÁªÑ\"):::info T -.- 5(\"ÂèñÂæóÁ≥ªÁªüÊó∂Èó¥ÔºöSystem.currentTimeMillis()\"):::info T -.- 6(\"Á≥ªÁªüÈÄÄÂá∫ÂëΩ‰ª§ÔºöSystem.exit()\"):::info end t --> T2([\"ÈùôÊÄÅÊàêÂëòÂèòÈáè\"]):::b subgraph \"ÈùôÊÄÅÊàêÂëòÂèòÈáè(Áî®‰∫éËøûÊé•Âà∞Ê†áÂáÜËæìÂÖ•/ËæìÂá∫ÊéßÂà∂ËÆæÂ§áÔºàÈîÆÁõòÂíåÊéßÂà∂Âè∞Ôºâ)\" T2 --> 7(\"Ê†áÂáÜËæìÂá∫ÊµÅÔºöstatic PrintStream out\"):::lb T2 --> 8(\"Ê†áÂáÜÈîôËØØËæìÂá∫ÊµÅÔºöstatic PrintStream err\"):::lb T2 --> 9(\"Ê†áÂáÜËæìÂÖ•ÊµÅÔºöstatic PrintStream in\"):::lb end 7 -.- 7t(\"System.out.print()System.out.println()\"):::lg 8 -.- 8t(\"System.err.print()\"):::lg 9 -.- 9t(\"System.in.read()System.in.read(b)\"):::lg classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info color:#4e4e52,stroke-dasharray: 3 3, stroke-width: 2px ‚ë† out Ê†áÂáÜËæìÂá∫ÊµÅËæìÂá∫Ê∂àÊÅØÂà∞ÊéßÂà∂Âè∞ // ------ * ÁºñÂÜô‰∏ÄË°åËæìÂá∫Êï∞ÊçÆ ----------------------------------System.out.println(data);// ------ ËæìÂá∫ÂêÑÁßçÁ±ªÂûãÁöÑÊï∞ÂÄº -----------------------------------void print(boolean b); // ÊâìÂç∞booleanÂÄºvoid print(char c); // ÊâìÂç∞Â≠óÁ¨¶void print(char[]s); // ÊâìÂç∞Â≠óÁ¨¶Êï∞ÁªÑvoid print(double d); // ÊâìÂç∞ÂèåÁ≤æÂ∫¶ÊµÆÁÇπÊï∞void print(float f); // ÊâìÂç∞ÊµÆÁÇπÊï∞void print(int i); // ÊâìÂç∞Êï¥Êï∞void print(long l); // ÊâìÂç∞longÊï¥Êï∞void print(Object obj); // ÊâìÂç∞ÂØπË±°void print(String s); // ÊâìÂç∞Â≠óÁ¨¶‰∏≤// ------ ËæìÂá∫ÂêÑÁßçÁ±ªÂûãÁöÑÊï∞ÂÄº + Êç¢Ë°å -------------------------------void println(boolean x); // ÊâìÂç∞booleanÂÄºÔºåÁÑ∂ÂêéÁªàÊ≠¢Ë°åvoid println(char x); // ÊâìÂç∞Â≠óÁ¨¶ÔºåÁÑ∂ÂêéÁªàÊ≠¢ËØ•Ë°åvoid println(char[]x); // ÊâìÂç∞Â≠óÁ¨¶Êï∞ÁªÑÔºåÁÑ∂ÂêéÁªàÊ≠¢ËØ•Ë°åvoid println(double x); // ÊâìÂç∞doubleÔºåÁÑ∂ÂêéÁªàÊ≠¢ËØ•Ë°åvoid println(float x); // ÊâìÂç∞floatÔºåÁÑ∂ÂêéÁªàÊ≠¢ËØ•Ë°åvoid println(int x); // ÊâìÂç∞Êï¥Êï∞ÔºåÁÑ∂ÂêéÁªàÊ≠¢ËØ•Ë°åvoid println(long x); // ÊâìÂç∞longÔºåÁÑ∂ÂêéÁªàÊ≠¢ËØ•Ë°åvoid println(Object x); // ÊâìÂç∞ObjectÔºåÁÑ∂ÂêéÁªàÊ≠¢ËØ•Ë°åvoid println(String x); // ÊâìÂç∞StringÔºåÁÑ∂ÂêéÁªàÊ≠¢ËØ•Ë°å // ------ Áõ¥Êé•ËæìÂá∫Â≠óËäÇÊï∞ÊçÆÔºàÂ≠óËäÇÊµÅÔºâ --------------------------------void write(int b); // Â∞ÜÊåáÂÆöÁöÑÂ≠óËäÇÂÜôÂÖ•Ê≠§ÊµÅvoid write(byte[] buf, int off, int len); // Â∞ÜlenÂ≠óËäÇ‰ªéÊåáÂÆöÁöÑÂàùÂßãÂÅèÁßªÈáè‰∏∫offÁöÑbyteÊï∞ÁªÑÂÜôÂÖ•Ê≠§ÊµÅ ‚ë° err Ê†áÂáÜÈîôËØØËæìÂá∫ÊµÅËæìÂá∫ÈîôËØØÊ∂àÊÅØÂà∞ÊéßÂà∂Âè∞ System.err.println(data); /* Ê≠§ËæìÂá∫ÊµÅÁî®‰∫éÊòæÁ§∫ÈîôËØØÊ∂àÊÅØÔºåÊàñËÄÖÊòæÁ§∫ÈÇ£‰∫õÂç≥‰ΩøÁî®Êà∑ËæìÂá∫ÊµÅÔºàÂèòÈáèoutÁöÑÂÄºÔºâÂ∑≤ÁªèÈáçÂÆöÂêëÂà∞ÈÄöÂ∏∏‰∏çË¢´ËøûÁª≠ÁõëËßÜÁöÑÊüê‰∏ÄÊñá‰ª∂ÊàñÂÖ∂‰ªñÁõÆÊ†áÔºå‰πüÂ∫îËØ•Á´ãÂàªÂºïËµ∑Áî®Êà∑Ê≥®ÊÑèÁöÑÂÖ∂‰ªñ‰ø°ÊÅØ„ÄÇ */ ‚ë¢ in Ê†áÂáÜËæìÂÖ•ÊµÅÊé•Êî∂ÈîÆÁõòËæìÂÖ• read() // ËØªÂèñ‰∏Ä‰∏™Â≠óËäÇread(byte[] b) // ËØªÂèñ‰∏Ä‰∏™Â≠óËäÇÊï∞ÁªÑ 1. read()public class TestSystemInRead &#123; public static void main(String args[]) &#123; try &#123; int c; while((c=System.in.read())!=0)&#123; // ‰ªéÊéßÂà∂Âè∞ËØªÂÖ•‰∏Ä‰∏™Â≠óËäÇÔºà8bitÔºâ System.out.write(c); // ËæìÂá∫‰∏Ä‰∏™Â≠óËäÇ &#125; &#125; catch (Exception e) &#123; &#125; &#125;&#125;// ËøêË°åËØ•Á®ãÂ∫èÔºåÂú®ÊéßÂà∂Âè∞ËæìÂÖ•‰∏ÄÊÆµÂ≠óÁ¨¶ÂêéÊåâÂõûËΩ¶ÈîÆÔºåÂ∞±‰ºöË∞ÉÁî®read()ÂáΩÊï∞ÁöÑÂæ™ÁéØÔºå// ÊØèËØªÂà∞‰∏Ä‰∏™Â≠óËäÇÂ∞±‰ºöËæìÂá∫‰∏Ä‰∏™Â≠óËäÇÔºåÂõ†Ê≠§ÂõûËΩ¶ÂâçËæìÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤Â∞±‰ºöÂéüÊ†∑ËæìÂá∫„ÄÇ 2. read(byte[] b)/** * È¶ñÂÖàÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫100ÁöÑÂ≠óËäÇÊï∞ÁªÑÔºåË°®Á§∫‰∏ÄÊ¨°ÂèØ‰ª•ËØªÂèñ100‰∏™Â≠óËäÇ„ÄÇ * ÁÑ∂Âêé‰ΩøÁî®read(byte[] b)ËØªÂèñ100‰∏™Â≠óËäÇÂà∞byte‰∏≠ÔºåÂÜçË∞ÉÁî®write()ÂáΩÊï∞ËæìÂá∫Ëøô‰∏™Â≠óËäÇÊï∞ÁªÑÂà∞ÊéßÂà∂Âè∞‰∏≠„ÄÇ */public class TestSystemInReadByte &#123; public static void main(String args[]) &#123; try &#123; byte[]b=new byte[100]; // ÂàõÂª∫Â≠óËäÇÊï∞ÁªÑ System.in.read(b); // ËØªÂèñÂà∞Êï∞ÁªÑ‰∏≠ System.out.write(b,0,100); // ËæìÂá∫Â≠óËäÇÊï∞ÁªÑ &#125; catch (Exception e) &#123; &#125; &#125;&#125;// ËøêË°åËØ•Á®ãÂ∫èÔºåËæìÂÖ•‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂõûËΩ¶ÂêéÂ∞±‰ºöËæìÂá∫ÂõûËΩ¶ÂâçÂ≠óÁ¨¶‰∏≤ÁöÑÂâç100‰∏™Â≠óÁ¨¶„ÄÇ// Â¶ÇÊûú‰Ω†ËæìÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶Â∞è‰∫é100ÔºåÈÇ£‰πà‰∏∫‰∫ÜË°•ÂÖ®100‰∏™Â≠óËäÇÔºåÂâ©‰ΩôÁöÑÂ≠óËäÇÂ∞Ü‰ºö‰ΩøÁî®ÊñπÊ°Ü‚Äú‚ñ°‚ÄùË°®Á§∫ÔºåÂÆûÈôÖ‰∏äÊòØËøô‰∏™Â≠óËäÇÊ≤°ÊúâÊï∞ÊçÆ„ÄÇ// Â¶ÇÊûúËæìÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶Â§ß‰∫é100ÔºåÂ§ö‰ΩôÁöÑÂ≠óËäÇÂ∞±‰ºöË¢´ÊäõÂºÉ„ÄÇ ‰∫å„ÄÅÊéßÂà∂Âè∞ËØªÂÜôÁ±ª - Console ConsoleÁ±ª‰ºòÁÇπÔºö %%{ init: { 'themeVariables': { 'fontSize': '13px' } } }%% graph LR A([\"System Áº∫ÁÇπ\"]):::g B([\"Console ‰ºòÁÇπ\"]):::p A -.- 1(\"ËØªÂÖ•ÁöÑÂ≠óËäÇÊï∞ÁªÑÈïøÂ∫¶Êúâ100ÁöÑÈôêÂà∂ÔºöËã•Â≠óÁ¨¶‰∏≤ÈïøÂ∫¶Â∞è‰∫é100Â∞Ü‰ºö‰ΩøÁî®ÊñπÊ°Ü‰ª£ÊõøÔºåËã•Â§ß‰∫é100Â∞Ü‰ºöË¢´ÊäõÂºÉ„ÄÇ\"):::lg B -.- 2(\"‰∏çÈúÄË¶ÅÊçïÊçâÂºÇÂ∏∏ÔºåËØ•ÂáΩÊï∞Ê≤°ÊúâÊäõÂá∫ÂºÇÂ∏∏\"):::lp B -.- 3(\"‰∏çÈúÄË¶ÅÂ∞ÜÂ≠óËäÇÊï∞ÁªÑËΩ¨Âåñ‰∏∫Â≠óÁ¨¶‰∏≤ÔºåÁõ¥Êé•ËØªÂÖ•Âç≥Â≠óÁ¨¶‰∏≤\"):::lp B -.- 4(\"ÂèØ‰ª•ÂÆåÊï¥ËØªÂèñ‰∏ÄË°åËæìÂÖ•Âπ∂ÂÆåÊï¥ËæìÂá∫ÔºåÊ≤°ÊúâÊäõÂºÉÂíåÂ°´ÂÖÖ\"):::lp classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#737379,stroke-dasharray: 3 3, stroke-width: 2px ConsoleÁ±ªÊñπÊ≥ïÂèØËÆøÈóÆ‰∏éÂΩìÂâçJavaËôöÊãüÊú∫ÂÖ≥ËÅîÁöÑÂü∫‰∫éÂ≠óÁ¨¶ÁöÑÊéßÂà∂Âè∞ËÆæÂ§á(Ëã•Êúâ)ÔºåÂ∏∏ÊåáÈîÆÁõò„ÄÇ ËôöÊãüÊú∫ÊòØÂê¶ÂÖ∑ÊúâÊéßÂà∂Âè∞ÂèñÂÜ≥‰∫éÂ∫ïÂ±ÇÂπ≥Âè∞ÔºåËøòÂèñÂÜ≥‰∫éË∞ÉÁî®ËôöÊãüÊú∫ÁöÑÊñπÂºèÔºö %%{ init: { 'themeVariables': { 'fontSize': '14px' } } }%% graph T([\"ËÆøÈóÆ‰∏éËôöÊãüÊú∫ÂÖ≥ËÅîÁöÑÊéßÂà∂Âè∞ËÆæÂ§á\"]):::p T --> A(\"‚ë† ËôöÊãüÊú∫‰ªé‰∫§‰∫íÂºèÂëΩ‰ª§Ë°åÂêØÂä®Ôºå‰∏îÊ≤°ÊúâÈáçÂÆöÂêëÊ†áÂáÜËæìÂÖ•ÂíåËæìÂá∫ÊµÅ\"):::lp T --> B(\"‚ë° ËôöÊãüÊú∫Ëá™Âä®ÂêØÂä® ÔºàÂ¶ÇÔºåÁî±ÂêéÂè∞‰Ωú‰∏öË∞ÉÂ∫¶Á®ãÂ∫èÂêØÂä®Ôºâ\"):::lg A -.- a([\"ÊéßÂà∂Âè∞Â≠òÂú®\"]):::p B -.- b([\"Êó†ÊéßÂà∂Âè∞\"]):::g a -.- |\"ËøûÊé•Âà∞ËÆæÂ§áÔºàÈîÆÁõòÔºâ\"|1(\"Áî±Ê≠§Á±ªÂîØ‰∏ÄÁöÑÂÆû‰æãË°®Á§∫ÔºàË∞ÉÁî® System.console() Ëé∑ÂæóÔºâ\"):::lp a -.- |\"Êó†ÂèØÁî®ËÆæÂ§á\"|2(\"ÂØπËØ•ÊñπÊ≥ïÁöÑË∞ÉÁî®ËøîÂõûnull\"):::info %% Â∞ÜÁî±Ê≠§Á±ªÂîØ‰∏ÄÁöÑÂÆû‰æãË°®Á§∫ÔºàÂèØÈÄöËøáË∞ÉÁî® System.console() Ëé∑ÂæóÔºâ\") classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#737379,stroke-dasharray: 3 3, stroke-width: 2px ‚ë† ËØªÂèñ‰ø°ÊÅØ readLine()‰ªéÊéßÂà∂Âè∞ËØªÂèñËæìÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤ System.console().readLine(); /** * ‰ΩøÁî®‰∫ÜSystem.console()ÂáΩÊï∞ÂèñÂæó‰∫ÜConsoleÂØπË±°Ôºå * ÁÑ∂Âêé‰ΩøÁî®readLine()ÂáΩÊï∞Âç≥ÂèØËØªÂèñ‰∏ÄË°åÂ≠óÁ¨¶‰∏≤ÁöÑËæìÂÖ•„ÄÇËØ•ÂáΩÊï∞Âú®Áî®Êà∑ÊâßË°åÂõûËΩ¶Êó∂Ë∞ÉÁî®„ÄÇ */public class TestConsole &#123; public static void main(String args[]) &#123; while (true) &#123; String str = System.console().readLine(); // ÂèñÂæóËæìÂÖ•Â≠óÁ¨¶‰∏≤ System.out.println(str); // ËæìÂá∫Â≠óÁ¨¶‰∏≤ &#125; &#125;&#125; ‚ë° ËæìÂá∫‰ø°ÊÅØ printf()‰ªéÊéßÂà∂Âè∞ËæìÂá∫Ê∂àÊÅØ System.console().printf(str); Ê≥®ÔºöÂÖ∂ËØªÂÜôÊìç‰ΩúÊòØÂêåÊ≠•ÁöÑÔºå‰ª•‰øùËØÅÂÖ≥ÈîÆÊìç‰ΩúËÉΩÂÆåÊï¥ÂÆåÊàê„ÄÇÂõ†Ê≠§Ë∞ÉÁî®readLine()„ÄÅprintf()Êó∂ÂèØËÉΩÈòªÂ°û„ÄÇ ‚ë¢ ËØªÂèñÂØÜÁ†Å readPassword() Â∫îÁî®Á®ãÂ∫èÈúÄË¶ÅËØªÂèñÂØÜÁ†ÅÊàñÂÖ∂‰ªñÂÆâÂÖ®Êï∞ÊçÆÔºåÂàôÂ∫î‰ΩøÁî® readPassword() Êàñ readPassword(String, Object‚Ä¶)ÔºåÂπ∂Âú®ÊâßË°åÂêéÊâãÂ∑•Â∞ÜËøîÂõûÁöÑÂ≠óÁ¨¶Êï∞ÁªÑÂΩíÈõ∂Ôºå‰ª•ÊúÄÂ§ßÈôêÂ∫¶Âú∞Áº©Áü≠ÂÜÖÂ≠ò‰∏≠ÊïèÊÑüÊï∞ÊçÆÁöÑÁîüÂ≠òÊúü„ÄÇ ËØªÂèñÂØÜÁ†Å System.console().readPassword() public class TestConsolePassword &#123; public static void main(String args[]) &#123; while (true) &#123; char password[] = System.console().readPassword(); // ÂèñÂæóÂØÜÁ†Å System.out.println(password); // ËæìÂá∫Â≠óÁ¨¶‰∏≤ &#125; &#125;&#125;// ÂÆÉÁõ¥Êé•ÁõëÊéßÈîÆÁõòÁöÑËæìÂÖ•ÔºåÂõûËΩ¶ÂêéÂç≥ÂèØÂèñÂæóÂØÜÁ†ÅÂ≠óÁ¨¶‰∏≤„ÄÇ ËØªÂèñÂØÜÁ†ÅÊó∂Ê∑ªÂä†ÊèêÁ§∫‰ø°ÊÅØ System.console().readPassword(&quot;[%s]&quot;, &quot;ËØ∑ËæìÂÖ•ÂØÜÁ†ÅÔºö&quot;);// Â≠óÁ¨¶‰∏≤‚ÄúËØ∑ËæìÂÖ•ÂØÜÁ†ÅÔºö‚ÄùÂ∞Ü‰Ωú‰∏∫ÊèêÁ§∫‰ø°ÊÅØÊòæÁ§∫Âú®ÊéßÂà∂Âè∞Á™óÂè£‰∏≠„ÄÇ - end - üîñ Á¨îËÆ∞Êù•Ëá™Ôºö„ÄäJavaÈ´òÊâãÁúüÁªèÔºàÁºñÁ®ãÂü∫Á°ÄÂç∑Ôºâ„Äã","categories":[{"name":"JavaÂü∫Á°Ä","slug":"JavaÂü∫Á°Ä","permalink":"https://equnee.github.io/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://equnee.github.io/tags/Java/"},{"name":"I/O","slug":"I-O","permalink":"https://equnee.github.io/tags/I-O/"}]},{"title":"IO - ÂØπË±°Â∫èÂàóÂåñ","slug":"note/Basics/IO/IO_Object_serialization","date":"2023-05-05T12:22:20.301Z","updated":"2023-05-11T19:14:00.651Z","comments":true,"path":"note/Basics/IO/IO_Object_serialization/","link":"","permalink":"https://equnee.github.io/note/Basics/IO/IO_Object_serialization/","excerpt":"","text":"%%{ init: { 'themeVariables': { 'fontSize': '14px' } } }%% graph LR subgraph \"Â∫îÁî®Â±Ç1\" A(\"ÁªìÊûÑ‰Ωì„ÄÅÂØπË±°ÔºàÂ≠óËäÇÊï∞ÁªÑÔºâ\"):::lb end subgraph \"Â∫îÁî®Â±Ç2\" B(\"ÁªìÊûÑ‰Ωì„ÄÅÂØπË±°ÔºàÂ≠óËäÇÊï∞ÁªÑÔºâ\"):::lb end subgraph ÁΩëÁªúÂçèËÆÆ C(\"‰∫åËøõÂà∂ÊµÅ\"):::p A -.-> |\"[ËΩ¨Êç¢]\"|C -.-> |\"[ËøòÂéü]\"|B end style ÁΩëÁªúÂçèËÆÆ fill:#f4e4e9, stroke-dasharray: 3 3, stroke-width: 2px classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#737379,stroke-dasharray: 3 3, stroke-width: 2px","categories":[{"name":"JavaÂü∫Á°Ä","slug":"JavaÂü∫Á°Ä","permalink":"https://equnee.github.io/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://equnee.github.io/tags/Java/"},{"name":"I/O","slug":"I-O","permalink":"https://equnee.github.io/tags/I-O/"}]},{"title":"IO - RandomAccessFile ‰ªªÊÑèËÆøÈóÆÊñá‰ª∂","slug":"note/Basics/IO/IO_RandomAccessFile","date":"2023-05-04T09:09:58.497Z","updated":"2023-05-10T08:32:18.498Z","comments":true,"path":"note/Basics/IO/IO_RandomAccessFile/","link":"","permalink":"https://equnee.github.io/note/Basics/IO/IO_RandomAccessFile/","excerpt":"","text":"java.io - ÁõÆÂΩï Ê†áÂáÜËÆæÂ§áËæìÂÖ•/ËæìÂá∫ Ê†áÂáÜËÆæÂ§áËæìÂÖ•/ËæìÂá∫ÔºöSystem ÊéßÂà∂Âè∞ËØªÂÜôÁ±ªÔºöConsole Êñá‰ª∂Âü∫Êú¨Â§ÑÁêÜ Êñá‰ª∂Êìç‰ΩúÁ±ªÔºöFile Êñá‰ª∂ÊêúÁ¥¢Á±ªÔºöFileFilter„ÄÅFilenameFilter Êñá‰ª∂‰ªªÊÑèËØªÂÜôÁ±ªÔºöRandomAccessFile ËæìÂÖ•/ËæìÂá∫ÊµÅ ËæìÂÖ•/ËæìÂá∫ÊµÅ - ÂàÜÁ±ª ËæìÂÖ•/ËæìÂá∫ÊµÅ - ÂÆûÁé∞Á±ª ÂØπË±°Â∫èÂàóÂåñ ‰∏Ä„ÄÅ‰ΩøÁî®Âú∫ÊôØ üìå RandomAccessFile Êó¢ÂèØ‰ª•ËØªÂèñÊñá‰ª∂ÂÜÖÂÆπÔºå‰πüÂèØ‰ª•ÂêëÊñá‰ª∂ËæìÂá∫Êï∞ÊçÆÔºåÊòØ‰∏Ä‰∏™Êõ¥Êé•Ëøë‰∫éÊìç‰ΩúÁ≥ªÁªüAPIÁöÑÂ∞ÅË£ÖÁ±ª„ÄÇ ‰∏éÊôÆÈÄöÁöÑËæìÂÖ•/ËæìÂá∫ÊµÅ‰∏çÂêåÁöÑÊòØÔºå ÂÆÉÊîØÊåÅ‚ÄúÈöèÊú∫ËÆøÈóÆ‚ÄùÁöÑÊñπÂºèÔºåÁ®ãÂ∫èÂèØ‰ª•Áõ¥Êé•Ë∑≥ËΩ¨Âà∞Êñá‰ª∂ÁöÑ‰ªªÊÑèÂú∞ÊñπÊù•ËØªÂÜôÊï∞ÊçÆ„ÄÇÔºà‰∏éInputStream„ÄÅReaderÈúÄË¶Å‰æùÊ¨°ÂêëÂêéËØªÂèñÁõ∏Âå∫ÂàÜÔºâ ÂÆÉÂ∞ÜÊñá‰ª∂ÂÜÖÂÆπÂ≠òÂÇ®Âú®‰∏Ä‰∏™Â§ßÂûãbyteÊï∞ÁªÑ‰∏≠„ÄÇÂÆÉÂ≠òÂú®ÁùÄÊåáÂêëËØ•ÈöêÂê´byteÊï∞ÁªÑÁöÑÂÖâÊ†áÊàñÁ¥¢ÂºïÔºåÁß∞‰∏∫Êñá‰ª∂ÊåáÈíàÔºåËØ•ÊåáÈíà‰ΩçÁΩÆÂèØ‰ª•ÈÄöËøáseekÊñπÊ≥ïËÆæÁΩÆ ‰ΩøÁî®Âú∫ÊôØÔºö %%{ init: { 'themeVariables': { 'fontSize': '13px' } } }%% graph LR T([\"RandomAccessFile ÁöÑ‰ΩøÁî®Âú∫ÊôØ\"]):::p T --> A(\"‰ªÖËÆøÈóÆÊñá‰ª∂ÈÉ®ÂàÜÂÜÖÂÆπ\"):::lp T --> B(\"ÂêëÂ∑≤Â≠òÂú®ÁöÑÊñá‰ª∂ÂêéËøΩÂä†ÂÜÖÂÆπ\"):::lp classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#737379,stroke-dasharray: 3 3, stroke-width: 2px Âè™ËÆøÈóÆÊñá‰ª∂ÈÉ®ÂàÜÂÜÖÂÆπÔºåËÄå‰∏çÊòØÊääÊñá‰ª∂‰ªéÂ§¥ËØªÂà∞Â∞æÔºå‰ΩøÁî®RandomAccessFileÊõ¥Â•Ω„ÄÇ ÂêëÂ∑≤Â≠òÂú®ÁöÑÊñá‰ª∂ÂêéËøΩÂä†ÂÜÖÂÆπÔºö‰∏éOutputStream„ÄÅWriterÁ≠âËæìÂá∫ÊµÅ‰∏çÂêåÁöÑÊòØÔºåRandomAccessFileÂÖÅËÆ∏Ëá™Áî±ÂÆö‰ΩçÊñá‰ª∂ËÆ∞ÂΩïÊåáÈíàÔºåÊâÄ‰ª•RandomAccessFileÂèØ‰ª•‰∏ç‰ªéÂºÄÂßãÁöÑÂú∞ÊñπÂºÄÂßãËæìÂá∫ÔºåÊâÄ‰ª•RandomAccessFileÂèØ‰ª•ÂêëÂ∑≤Â≠òÂú®ÁöÑÊñá‰ª∂ÂêéËøΩÂä†ÂÜÖÂÆπ„ÄÇ ‰∫å„ÄÅÊñπÊ≥ïjava.io.RandomAccessFile ‚ë† ÊûÑÈÄ†ÊñπÊ≥ï ÊñπÊ≥ï ËØ¥Êòé RandomAccessFile(File file, String mode) ‰ΩøÁî®FileÂèÇÊï∞Êù•ÊåáÂÆöÊñá‰ª∂Êú¨Ë∫´ÔºàÊâìÂºÄÊñá‰ª∂Ôºâ RandomAccessFile(String name, String mode) ‰ΩøÁî®StringÂèÇÊï∞Êù•ÊåáÂÆöÊñá‰ª∂ÂêçÔºàÊâìÂºÄÊñá‰ª∂Ôºâ RandomAccessFileÁöÑ4ÁßçËÆøÈóÆÊ®°ÂºèÔºö ÂèÇÊï∞ÂÄº ËØ¥Êòé r ‰ª•Âè™ËØªÊñπÂºèÊâìÂºÄÊåáÂÆöÊñá‰ª∂„ÄÇËã•ËØïÂõæÂØπËØ•RamdomAceessFileÊâßË°åÂÜôÂÖ•ÊñπÊ≥ïÔºåÈÉΩÂ∞ÜÊâßË°åIOExceptionÂºÇÂ∏∏ rw ‰ª•ËØª„ÄÅÂÜôÊñπÂºèÊâìÂºÄÊåáÂÆöÊñá‰ª∂„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∞ö‰∏çÂ≠òÂú®ÔºåÂàôÂ∞ùËØïÂàõÂª∫ËØ•Êñá‰ª∂„ÄÇ rws ‰ª•ËØª„ÄÅÂÜôÊñπÂºèÊâìÂºÄÊåáÂÆöÊñá‰ª∂„ÄÇÁõ∏ÂØπ‰∫é‚Äùrw‚ÄùÊ®°ÂºèÔºåËøòË¶ÅÊ±ÇÂØπÊñá‰ª∂ÁöÑÂÜÖÂÆπÊàñÂÖÉÊï∞ÊçÆÁöÑÊØè‰∏™Êõ¥Êñ∞ÈÉΩÂêåÊ≠•ÂÜôÂÖ•Âà∞Â∫ïÂ±ÇÂ≠òÂÇ®ËÆæÂ§á„ÄÇ rwd ‰ª•ËØª„ÄÅÂÜôÊñπÂºèÊâìÂºÄÊåáÂÆöÊñá‰ª∂„ÄÇÁõ∏ÂØπ‰∫é‚Äùrw‚ÄùÊ®°ÂºèÔºåËøòË¶ÅÊ±ÇÂØπÊñá‰ª∂ÂÜÖÂÆπÁöÑÊØè‰∏™Êõ¥Êñ∞ÈÉΩÂêåÊ≠•ÂÜôÂÖ•Âà∞Â∫ïÂ±ÇÂ≠òÂÇ®ËÆæÂ§á„ÄÇ* rwdÊ®°ÂºèÂèØÁî®‰∫éÂáèÂ∞ëÊâßË°åÁöÑI/OÊìç‰ΩúÊï∞Èáè„ÄÇ ‚ë° Êìç‰ΩúÊñá‰ª∂ÊåáÈíàRandomAccessFileÂØπË±°ÁöÑËÆ∞ÂΩïÊåáÈíàÔºöÊåáÂêëÂΩìÂâçËØªÂÜôÁöÑ‰ΩçÁΩÆÔºåÂêÑÁßçread/writeÊìç‰ΩúÈÉΩ‰ºöËá™Âä®Êõ¥Êñ∞ËØ•ÊåáÈíàÔºàÁßªÂä®Âçï‰ΩçÔºöÂ≠óËäÇÔºâ„ÄÇ ÊñπÊ≥ï ËØ¥Êòé long getFilePointer() ËøîÂõûÊñá‰ª∂ËÆ∞ÂΩïÊåáÈíàÁöÑÂΩìÂâç‰ΩçÁΩÆ„ÄÇ void seek(long pos) Â∞ÜÊñá‰ª∂ËÆ∞ÂΩïÊåáÈíàÂÆö‰ΩçÂà∞pos‰ΩçÁΩÆ„ÄÇ void skipBytes(int n) ‰ΩøÊñá‰ª∂ÊåáÈíàÂêëÂâçÁßªÂä®ÊåáÂÆöÁöÑn‰∏™Â≠óËäÇ„ÄÇ * ÂΩìÁ®ãÂ∫èÊñ∞ÂàõÂª∫‰∏Ä‰∏™RandomAccessFileÂØπË±°Êó∂ÔºåËØ•ÂØπË±°ÁöÑÊñá‰ª∂ËÆ∞ÂΩïÊåáÈíà‰Ωç‰∫éÊñá‰ª∂Â§¥Ôºà‰πüÂ∞±ÊòØ0Â§ÑÔºâÔºåÂΩìËØª/ÂÜô‰∫Ün‰∏™Â≠óËäÇÂêéÔºåÊñá‰ª∂ËÆ∞ÂΩïÊåáÈíàÂ∞Ü‰ºöÂêëÂêéÁßªÂä®n‰∏™Â≠óËäÇ„ÄÇ ‚ë¢ ËØªÂÜôÊñπÊ≥ïRandomAccessFileÂÆûÁé∞‰∫ÜDataInput/DataOutputÊé•Âè£Ôºö * ËØªÂèñÔºö// ------ Âü∫Êú¨ËØªÂèñ --------------------------------------------int read(); // ‰ªéËØ•Êñá‰ª∂ËØªÂèñ‰∏Ä‰∏™Â≠óËäÇÁöÑÊï∞ÊçÆ„ÄÇint read(byte[] b); // ‰ªéÊñá‰ª∂‰∏≠ÊúÄÂ§öËØªÂèñb.length‰∏™Â≠óËäÇÁöÑÊï∞ÊçÆÔºåÂπ∂Â∞ÜÂÖ∂Â≠òÂÇ®Âú®Â≠óËäÇÊï∞ÁªÑb‰∏≠„ÄÇint read(byte[] b, int off, int len); // ‰ªéÊåáÂÆöÁöÑoff‰ΩçÁΩÆÂºÄÂßãÔºå‰ªéÊñá‰ª∂‰∏≠ÊúÄÂ§öËØªÂèñlen‰∏™Â≠óËäÇÁöÑÊï∞ÊçÆ„ÄÇ// ------ ËØªÂèñÊåáÂÆöÁ±ªÂûãÁöÑÊï∞ÂÄº -----------------------------------boolean readBoolean(); // ËØªÂèñ‰∏Ä‰∏™booleanbyte readByte(); // ËØªÂèñ‰∏Ä‰∏™ÊúâÁ¨¶Âè∑ÁöÑ8‰ΩçÂÄºchar readChar(); // ËØªÂèñ‰∏Ä‰∏™Â≠óÁ¨¶double readDouble(); // ËØªÂèñ‰∏Ä‰∏™doublefloat readFloat(); // ËØªÂèñ‰∏Ä‰∏™floatint readInt(); // ËØªÂèñ‰∏Ä‰∏™ÊúâÁ¨¶Âè∑ÁöÑ32‰ΩçÊï¥Êï∞long readLong(); // ËØªÂèñ‰∏Ä‰∏™ÊúâÁ¨¶Âè∑ÁöÑ64‰ΩçÊï¥Êï∞short readShort(); // ËØªÂèñ‰∏Ä‰∏™ÊúâÁ¨¶Âè∑ÁöÑ16‰ΩçÊï∞int readUnsignedByte(); // ËØªÂèñ‰∏Ä‰∏™Êó†Á¨¶Âè∑ÁöÑ8‰ΩçÊï∞int readUnsignedShort(); // ËØªÂèñ‰∏Ä‰∏™Êó†Á¨¶Âè∑ÁöÑ16‰ΩçÊï∞// ------ ËØªÂèñ‰∏ÄË°åÂ≠óÁ¨¶‰∏≤ ---------------------------------------String readLine() // ------ ËØªÂèñ‰∏≠ÊñáÂ≠óÁ¨¶‰∏≤ ---------------------------------------String readUTF() // ‰ª•‰∏äÂáΩÊï∞ÂùáÊåâÁÖßÂ≠óËäÇÁ†ÅËØªÂèñÁöÑÔºåËã•Êúâ‰∏≠ÊñáÂá∫Áé∞ÔºåreadLine()‰ºöÊòæÁ§∫‰π±Á†ÅÔºåÂèØ‰ΩøÁî®readUTF()ËØªÂèñ„ÄÇ // ÂÆÉ‰ªéÂΩìÂâçÊñá‰ª∂ÊåáÈíàÂºÄÂßãËØªÂèñÂâç‰∏§‰∏™Â≠óËäÇÔºåÁ±ª‰ºº‰∫é‰ΩøÁî®readUnsignedShort„ÄÇ * ÂÜôÂÖ•Ôºö// ------ Âü∫Êú¨ËØªÂèñ --------------------------------------------void write() // Âú®ËØ•Êñá‰ª∂ÁöÑÂΩìÂâçÊåáÈíà‰ΩçÁΩÆÂÜôÂÖ•‰∏Ä‰∏™Â≠óËäÇÔºåÂπ∂Ë¶ÜÁõñÂéüÊúâÁöÑÂ≠óËäÇ„ÄÇvoid write(byte[] b) // Â∞Üb.lengthÂ≠óËäÇ‰ªéÊåáÂÆöÁöÑÂ≠óËäÇÊï∞ÁªÑÂÜôÂÖ•Êñá‰ª∂Ôºà‰ªéÂΩìÂâçÊñá‰ª∂ÊåáÈíàÂºÄÂßãÔºâvoid write(byte[] b, int off, int len) // ‰ªéÂèÇÊï∞offÊåáÂÆöÁöÑËµ∑Âßã‰ΩçÁΩÆÔºåÂ∞ÜÊåáÂÆöÂ≠óËäÇÊï∞ÁªÑ‰∏≠ÁöÑlen‰∏™Â≠óËäÇÂÜôÂÖ•Êñá‰ª∂„ÄÇ // ------ ÂÜôÂÖ•Âõ∫ÂÆöÁ±ªÂûãÁöÑÊï∞ÂÄº -----------------------------------void writeBoolean(boolean v); // ÊåâÂçïÂ≠óËäÇÂÄºÂ∞ÜbooleanÂÜôÂÖ•ËØ•Êñá‰ª∂void writeByte(int v); // ÊåâÂçïÂ≠óËäÇÂÄºÂ∞ÜbyteÂÜôÂÖ•ËØ•Êñá‰ª∂void writeBytes(String s); // ÊåâÂ≠óËäÇÂ∫èÂàóÂ∞ÜËØ•Â≠óÁ¨¶‰∏≤ÂÜôÂÖ•ËØ•Êñá‰ª∂void writeChar(int v); // ÊåâÂèåÂ≠óËäÇÂÄºÂ∞ÜcharÂÜôÂÖ•ËØ•Êñá‰ª∂ÔºåÂÖàÂÜôÈ´òÂ≠óËäÇvoid writeChars(String s); // ÊåâÂ≠óÁ¨¶Â∫èÂàóÂ∞Ü‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂÜôÂÖ•ËØ•Êñá‰ª∂void writeDouble(double v); /* ‰ΩøÁî®DoubleÁ±ª‰∏≠ÁöÑdoubleToLongBitsÊñπÊ≥ïÂ∞ÜÂèåÁ≤æÂ∫¶ÂèÇÊï∞ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™longÔºå ÁÑ∂ÂêéÊåâ8Â≠óËäÇÊï∞ÈáèÂ∞ÜËØ•longÂÄºÂÜôÂÖ•ËØ•Êñá‰ª∂ÔºåÂÖàÂÜôÈ´òÂ≠óËäÇ */void writeFloat(float v); /* ‰ΩøÁî®FloatÁ±ª‰∏≠ÁöÑfloatToIntBitsÊñπÊ≥ïÂ∞ÜÊµÆÁÇπÂèÇÊï∞ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™intÔºå ÁÑ∂ÂêéÊåâ4Â≠óËäÇÊï∞ÈáèÂ∞ÜËØ•intÂÄºÂÜôÂÖ•ËØ•Êñá‰ª∂ÔºåÂÖàÂÜôÈ´òÂ≠óËäÇ */void writeInt(int v); // Êåâ4‰∏™Â≠óËäÇÂ∞ÜintÂÜôÂÖ•ËØ•Êñá‰ª∂ÔºåÂÖàÂÜôÈ´òÂ≠óËäÇvoid writeLong(long v); // Êåâ8‰∏™Â≠óËäÇÂ∞ÜlongÂÜôÂÖ•ËØ•Êñá‰ª∂ÔºåÂÖàÂÜôÈ´òÂ≠óËäÇvoid writeShort(int v); // Êåâ2‰∏™Â≠óËäÇÂ∞ÜshortÂÜôÂÖ•ËØ•Êñá‰ª∂ÔºåÂÖàÂÜôÈ´òÂ≠óËäÇ// ------ ÂÜôÂÖ•‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºàÊåâÂ≠óËäÇÂÜôÂÖ•ÔºåËã•‰∏≠Êñá‰ºö‰π±Á†ÅÔºâ----------------writeBytes() writeChars() // ÊåâÁÖßÂèåÂ≠óËäÇÂÜôÂÖ•ÔºåÂç≥‰∏Ä‰∏™Â≠óÁ¨¶Âç†Áî®2‰∏™Â≠óËäÇ„ÄÇ // ------ ÂÜôÂÖ•‰∏≠ÊñáÂ≠óÁ¨¶‰∏≤ ---------------------------------------String writeUTF() /* ÂÆÉÊää2‰∏™Â≠óËäÇ‰ªéÊñá‰ª∂ÁöÑÂΩìÂâçÊñá‰ª∂ÊåáÈíàÂÜôÂÖ•Âà∞Ê≠§Êñá‰ª∂ÔºåÁ±ª‰ºº‰∫é‰ΩøÁî®writeShortÊñπÊ≥ï Âπ∂ÁªôÂÆöË¶ÅË∑üÈöèÁöÑÂ≠óËäÇÊï∞„ÄÇÊ≠§ÂÄºÊòØÂÆûÈôÖÂÜôÂá∫ÁöÑÂ≠óËäÇÊï∞ÔºåËÄå‰∏çÊòØËØ•Â≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶„ÄÇ */ ‰∏â„ÄÅÂÆû‰æã‚ë† ËÆøÈóÆÊåáÂÆöÁöÑ‰∏≠Èó¥ÈÉ®ÂàÜÊï∞ÊçÆpublic class RandomAccessFileTest &#123; public static void main(String[] args) &#123; try( RandomAccessFile raf = new RandomAccessFile( &quot;RandomAccessFileTest.java&quot; , &quot;r&quot;)) // ‰ª•Âè™ËØªÊñπÂºèÊâìÂºÄÔºåÂè™ËÉΩËØªÂèñ &#123; // üîπ Ëé∑ÂèñRandomAccessFileÂØπË±°Êñá‰ª∂ÊåáÈíàÁöÑ‰ΩçÁΩÆÔºåÂàùÂßã‰ΩçÁΩÆÊòØ0 System.out.println(&quot;RandomAccessFileÁöÑÊñá‰ª∂ÊåáÈíàÁöÑÂàùÂßã‰ΩçÁΩÆÔºö&quot; + raf.getFilePointer()); // üîπ ÁßªÂä®rafÁöÑÊñá‰ª∂ËÆ∞ÂΩïÊåáÈíàÁöÑ‰ΩçÁΩÆÔºàÂ∞Ü‰ªé300Â≠óËäÇÂ§ÑÂºÄÂßãËØª„ÄÅÂÜôÔºâ raf.seek(300); byte[] bbuf = new byte[1024]; // Áî®‰∫é‰øùÂ≠òÂÆûÈôÖËØªÂèñÁöÑÂ≠óËäÇÊï∞ int hasRead = 0; // üîπ ‰ΩøÁî®Âæ™ÁéØÊù•ÈáçÂ§ç‚ÄúÂèñÊ∞¥‚ÄùËøáÁ®ã while ((hasRead = raf.read(bbuf)) &gt; 0 ) &#123; // ÂèñÂá∫‚ÄúÁ´πÁ≠í‚Äù‰∏≠ÁöÑÊ∞¥Êª¥ÔºàÂ≠óËäÇÔºâÔºåÂ∞ÜÂ≠óËäÇÊï∞ÁªÑËΩ¨Êç¢ÊàêÂ≠óÁ¨¶‰∏≤ËæìÂÖ• System.out.print(new String(bbuf , 0 , hasRead )); &#125; &#125; catch (IOException ex) &#123; ex.printStackTrace(); &#125; &#125;&#125;// ËøêË°å‰∏äÈù¢Á®ãÂ∫èÔºåÂ∞ÜÁúãÂà∞Á®ãÂ∫èÂè™ËØªÂèñÂêéÈù¢ÈÉ®ÂàÜÁöÑÊïàÊûú„ÄÇ ‚ë° ÂêëÊåáÂÆöÊñá‰ª∂ÂêéËøΩÂä†ÂÜÖÂÆπpublic class AppendContent &#123; public static void main(String[] args) &#123; try( // üîπ ‰ª•ËØª„ÄÅÂÜôÊñπÂºèÊâìÂºÄ‰∏Ä‰∏™ RandomAccessFile ÂØπË±° RandomAccessFile raf=new RandomAccessFile(&quot;out.txt&quot; , &quot;rw&quot;)) &#123; // üîπ Â∞Ü RandomAccessFile ÂØπË±°ÁöÑËÆ∞ÂΩïÊåáÈíà ÁßªÂä®Âà∞out.txtÊñá‰ª∂ÁöÑÊúÄÂêé raf.seek(raf.length()); // üîπ ‰ΩøÁî® RandomAccessFile ÊâßË°åËæìÂá∫ raf.write(&quot;ËøΩÂä†ÁöÑÂÜÖÂÆπÔºÅ\\r\\n&quot;.getBytes()); &#125; catch (IOException ex) &#123; ex.printStackTrace(); &#125; &#125;&#125;// ÊØèËøêË°å‰∏äÈù¢Á®ãÂ∫è‰∏ÄÊ¨°ÔºåÈÉΩÂèØ‰ª•ÁúãÂà∞out.txtÊñá‰ª∂‰∏≠Â§ö‰∏ÄË°å‚ÄúËøΩÂä†ÁöÑÂÜÖÂÆπÔºÅ‚ÄùÂ≠óÁ¨¶‰∏≤„ÄÇ ‚ë¢ ÂêëÊåáÂÆöÊñá‰ª∂„ÄÅÊåáÂÆö‰ΩçÁΩÆÊèíÂÖ•ÂÜÖÂÆπ/** * Á®ãÂ∫èÂÖàÂ∞ÜÊñá‰ª∂‰∏≠ÊèíÂÖ•ÁÇπÂêéÁöÑÂÜÖÂÆπËØªÂÖ•‰∏¥Êó∂Êñá‰ª∂‰∏≠ÔºåÁÑ∂ÂêéÈáçÊñ∞ÂÆö‰ΩçÂà∞ÊèíÂÖ•ÁÇπÔºåÂ∞ÜÈúÄË¶ÅÊèíÂÖ•ÁöÑÂÜÖÂÆπÊ∑ªÂä†Âà∞Êñá‰ª∂ÂêéÈù¢Ôºå * ÊúÄÂêéÂ∞Ü‰∏¥Êó∂Êñá‰ª∂ÁöÑÂÜÖÂÆπÊ∑ªÂä†Âà∞Êñá‰ª∂ÂêéÈù¢ÔºåÈÄöËøáËøô‰∏™ËøáÁ®ãÂ∞±ÂèØ‰ª•ÂêëÊåáÂÆöÊñá‰ª∂„ÄÅÊåáÂÆö‰ΩçÁΩÆÊèíÂÖ•ÂÜÖÂÆπ„ÄÇ */public class InsertContent &#123; public static void insert(String fileName, long pos, String insertContent) throws IOException &#123; // üîπ ÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂Êñá‰ª∂Êù•‰øùÂ≠òÊèíÂÖ•ÁÇπÂêéÁöÑÊï∞ÊçÆÔºàËØ•‰∏¥Êó∂Êñá‰ª∂Â∞ÜÂú®JVMÈÄÄÂá∫Êó∂Ë¢´Âà†Èô§Ôºâ File tmp = File.createTempFile(&quot;tmp&quot; , null); tmp.deleteOnExit(); try( RandomAccessFile raf = new RandomAccessFile(fileName , &quot;rw&quot;); FileOutputStream tmpOut=new FileOutputStream(tmp); FileInputStream tmpIn=new FileInputStream(tmp)) &#123; raf.seek(pos); // ------üîπ ‰∏ãÈù¢‰ª£Á†ÅÂ∞ÜÊèíÂÖ•ÁÇπÂêéÁöÑÂÜÖÂÆπËØªÂÖ•‰∏¥Êó∂Êñá‰ª∂‰∏≠‰øùÂ≠ò------ byte[] bbuf=new byte[64]; // Áî®‰∫é‰øùÂ≠òÂÆûÈôÖËØªÂèñÁöÑÂ≠óËäÇÊï∞ int hasRead=0; // ‰ΩøÁî®Âæ™ÁéØÊñπÂºèËØªÂèñÊèíÂÖ•ÁÇπÂêéÁöÑÊï∞ÊçÆ while ((hasRead=raf.read(bbuf)) &gt; 0 )&#123; // Â∞ÜËØªÂèñÁöÑÊï∞ÊçÆÂÜôÂÖ•‰∏¥Êó∂Êñá‰ª∂ tmpOut.write(bbuf , 0 , hasRead); &#125; // ----------üîπ ‰∏ãÈù¢‰ª£Á†ÅÁî®‰∫éÊèíÂÖ•ÂÜÖÂÆπ---------- // ÊääÊñá‰ª∂ËÆ∞ÂΩïÊåáÈíàÈáçÊñ∞ÂÆö‰ΩçÂà∞pos‰ΩçÁΩÆ raf.seek(pos); // ËøΩÂä†ÈúÄË¶ÅÊèíÂÖ•ÁöÑÂÜÖÂÆπ raf.write(insertContent.getBytes()); // ËøΩÂä†‰∏¥Êó∂Êñá‰ª∂‰∏≠ÁöÑÂÜÖÂÆπ while ((hasRead=tmpIn.read(bbuf)) &gt; 0 )&#123; raf.write(bbuf , 0 , hasRead); &#125; &#125; &#125; public static void main(String[] args) throws IOException &#123; insert(&quot;InsertContent.java&quot; , 45 , &quot;ÊèíÂÖ•ÁöÑÂÜÖÂÆπ\\r\\n&quot;); &#125;&#125;// ÊØèÊ¨°ËøêË°å‰∏äÈù¢Á®ãÂ∫èÔºåÈÉΩ‰ºöÁúãÂà∞ÂêëInsertContent.java‰∏≠ÊèíÂÖ•‰∫Ü‰∏ÄË°åÂ≠óÁ¨¶‰∏≤ Âõõ„ÄÅÂ∫îÁî® Â§öÁ∫øÁ®ãÊñ≠ÁÇπÁöÑÁΩëÁªú‰∏ãËΩΩÂ∑•ÂÖ∑ÔºàÂ¶ÇFlashGetÁ≠âÔºâÂ∞±ÂèØÈÄöËøáRandomAccessFileÁ±ªÊù•ÂÆûÁé∞Ôºö %%{ init: { 'themeVariables': { 'fontSize': '13px' } } }%% graph LR subgraph \"[ Â§öÁ∫øÁ®ãÊñ≠ÁÇπÁöÑÁΩëÁªú‰∏ãËΩΩÂ∑•ÂÖ∑ ]\" A[[\"‰∏éË¢´‰∏ãËΩΩÊñá‰ª∂Â§ßÂ∞èÁõ∏ÂêåÁöÑÁ©∫Êñá‰ª∂\"]]:::lp B[[\"ËÆ∞ÂΩïÊñá‰ª∂ÊåáÈíàÁöÑ‰ΩçÁΩÆÊñá‰ª∂\"]]:::lb end net(\"ÁΩëÁªúÊï∞ÊçÆ\"):::info -.->|\"ÂÜôÂÖ•\"| A A --> |\"ÊØèÂÜô‰∏Ä‰∫õÊï∞ÊçÆÔºöËÆ∞‰∏ãÊñá‰ª∂ÊåáÈíà‰ΩçÁΩÆ\"|B B -.-> |\"Êñ≠ÁΩëÂêéÂÜçÊ¨°‰∏ãËΩΩÔºöÊ†πÊçÆËÆ∞ÂΩïÁöÑ‰ΩçÁΩÆÁªßÁª≠Âêë‰∏ãÂÜôÊï∞ÊçÆ\"|A classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,stroke-dasharray: 3 3, stroke-width: 2px, stroke: #676666 ‰∏ãËΩΩÂ∑•ÂÖ∑Áî®Â§öÊù°Á∫øÁ®ãÂêØÂä®ËæìÂÖ•ÊµÅÊù•ËØªÂèñÁΩëÁªúÊï∞ÊçÆÔºåÂπ∂‰ΩøÁî®RandomAccessFileÂ∞Ü‰ªéÁΩëÁªú‰∏äËØªÂèñÁöÑÊï∞ÊçÆÂÜôÂÖ•ÂâçÈù¢Âª∫Á´ãÁöÑÁ©∫Êñá‰ª∂‰∏≠ÔºåÊØèÂÜô‰∏Ä‰∫õÊï∞ÊçÆÂêéÔºåËÆ∞ÂΩïÊñá‰ª∂ÊåáÈíàÁöÑÊñá‰ª∂Â∞±ÂàÜÂà´ËÆ∞‰∏ãÊØè‰∏™RandomAccessFileÂΩìÂâçÁöÑÊñá‰ª∂ÊåáÈíà‰ΩçÁΩÆ„ÄÇ - end - üîñ Á¨îËÆ∞Êù•Ëá™Ôºö „ÄäJavaÁºñÁ®ãÁöÑÈÄªËæë„Äã „ÄäÁñØÁãÇJavaËÆ≤‰πâ„Äã „ÄäJavaÈ´òÊâãÁúüÁªèÔºàÁºñÁ®ãÂü∫Á°ÄÂç∑Ôºâ„Äã","categories":[{"name":"JavaÂü∫Á°Ä","slug":"JavaÂü∫Á°Ä","permalink":"https://equnee.github.io/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://equnee.github.io/tags/Java/"},{"name":"I/O","slug":"I-O","permalink":"https://equnee.github.io/tags/I-O/"}]},{"title":"ü¶ã HashMap ÂéüÁêÜÂèäÊ∫êÁ†ÅÂàÜÊûê","slug":"note/Data-Structure/data-structure_HashMap","date":"2023-03-09T15:11:32.969Z","updated":"2023-05-04T09:28:31.248Z","comments":true,"path":"note/Data-Structure/data-structure_HashMap/","link":"","permalink":"https://equnee.github.io/note/Data-Structure/data-structure_HashMap/","excerpt":"","text":"ÔºàÊú¨ÊñáÁºñËæë‰∏≠Ôºâ Ê≥®ÔºöÊú¨ÊñáÂà∂‰ΩúÁöÑÊµÅÁ®ãÂõæ‰ªÖ‰∏∫‰∏™‰∫∫ÁêÜËß£Ôºå‰ªÖ‰æõÂèÇËÄÉ„ÄÇ ‰∏Ä„ÄÅHashMap‰ªãÁªç1. ÂéüÁêÜÔºà1ÔºâHashMapÊÄé‰πàÂ≠òÂèñ%%{ init: { 'themeVariables': { 'fontSize': '13px' } } }%% graph TD T((\"HashMapÊÄé‰πàÂ≠òÂèñÂÄº\")):::p T --> |\"Êï∞ÊçÆ‰ª•ÈîÆÂÄºÂØπÂΩ¢ÂºèÂ≠òÂÇ®\"| A[\"key ‚Äî value\"] A --> |\"ÂåÖË£Ö‰∏∫NodeÊï∞ÁªÑÂØπË±°\"| B[\"Node { key, value }\"] B --> |\"ÈÄöËøánodeÊï∞ÁªÑ‰∏ãÊ†á‰øùÂ≠òÂØπÂ∫îÊï∞ÊçÆ\"| C[\"node[0] = new Node { key, value }node[1] = new Node { key, value }node[2] = new Node { key, value } ...\"] C -.-> |\"[ ‰øùÂ≠ò ] ÈÅçÂéÜÊï∞ÁªÑÔºåÂØπÂ∫îkeyÂíåvalue\"| D[\"for (Node node : nodes)\"] C --> |\"[ Ëé∑Âèñ ] ÈÄöËøá Êï∞ÁªÑÁ¥¢Âºï Ëé∑ÂèñÔºàkeyÁöÑhashÂÄºÔºâ\"|E[\"node[ hash(key) ] = value\"]:::lb classDef p fill:#ddaebd style E fill:#d9dfeb, stroke:#657eae,stroke-width:2px,stroke-dasharray: 3 3 ‰ΩøÁî®NodeÊï∞ÁªÑ‰øùÂ≠ò„ÄÅÈÄöËøáNodeÊï∞ÁªÑÁ¥¢ÂºïËé∑Âèñ„ÄÇ Ôºà2ÔºâHashÁÆóÊ≥ïÊÄé‰πàÂÜô%%{ init: { 'themeVariables': { 'fontSize': '13px', 'clusterBorder': 'none', 'clusterBkg': '#f0f2f7' } } }%% graph TD T((\"HashÁÆóÊ≥ïÊÄé‰πàÂÜôÔºü\")):::p T --> |\"Â¶Ç‰ΩïËÆ°ÁÆóÂá∫Êï∞ÁªÑÁ¥¢ÂºïÔºühash(key)\"| A[\"* Âõ†‰∏∫NodeÊï∞ÁªÑÊúâÂõ∫ÂÆöÁöÑÂàùÂßãÂåñÈªòËÆ§ÈïøÂ∫¶ÔºàlengthÔºâ* Á¥¢ÂºïÂÄºÈúÄÈôêÂÆöÂú®Êï∞ÁªÑÈïøÂ∫¶ËåÉÂõ¥ÂÜÖÔºà0ÔΩûlength-1Ôºâ* Á¥¢ÂºïÂÄºËøòË¶ÅÂ∞ΩÂèØËÉΩÂπ≥Ë°°„ÄÅÂàÜÂ∏ÉÂùáÂåÄ\"] A --> B([\"ÂèñÊ®°ËøêÁÆóÔºöhash % length\"]) B ==> |\"ÔºàÊõ¥Â•ΩÁöÑÊñπÊ°àÔºö‰ΩøÁî®‰ΩçËøêÁÆóÊïàÁéáÊõ¥È´òÔºâ\"| C([\"‰ΩçËøêÁÆóÔºöhash & (length - 1)\"]) C -.- c(\"lengthÂøÖÈ°ªÊòØ2ÁöÑnÊ¨°ÂπÇ\"):::b subgraph \"ÂâçÁΩÆÊù°‰ª∂\" c -.- c2[\"ÂÅáÂ¶Ç key = 20, length = 16, hash & (length-1):0001 0100 // 20 0000 1111 // 150000 0100 // =4\"]:::c2 end classDef p fill:#ddaebd classDef b fill:#d2d9e7, stroke-width: 0px style c2 color: #86868b, fill:#ebedf3, stroke-dasharray: 3 3 %% ÂèñÊ®°ËøêÁÆó style B fill: #f4e4e9 %% \"‰ΩçËøêÁÆó\" style C fill:#b8c3d9, stroke:#657eae,stroke-width:2px ‰∏∫‰∫ÜËß£ÂÜ≥ÂèñÊ®°ÁöÑÊïàÁéáÈóÆÈ¢òÔºåÈááÁî®‰∫Ü‰ΩçËøêÁÆóÁöÑÊñπÊ≥ïÔºöindex = hashÂÄº &amp; (length -1)Ê≠§Êó∂ÈúÄË¶Å‰∏Ä‰∏™ÂâçÁΩÆÊù°‰ª∂ÔºölengthÁöÑÈïøÂ∫¶ÂøÖÈ°ªÊòØ2ÁöÑnÊ¨°ÂπÇ„ÄÇÂΩìlengthÁöÑÈïøÂ∫¶ÊòØ2nÊó∂ÔºåÊúâ‰ª•‰∏ãÂÖ¨ÂºèÊàêÁ´ãÔºö num%2n = num&amp;(2n-1) „ÄÇ ü¶ã Âõ†‰∏∫Â∞±ÂÉèÂçÅËøõÂà∂Âèñ‰ΩôÊï∞‰∏ÄÊ†∑ÔºåËã•Èô§‰ª•10Êàñ10ÁöÑÊï¥Ê¨°ÂπÇÊï∞Ôºå‰ΩôÊï∞ÂàöÂ•ΩÊòØÂèñ‰Ωé‰Ωç‰∏äÁöÑÊï∞Â≠ó„ÄÇÂêåÁêÜÔºå‰∫åËøõÂà∂Âèñ‰ΩôÊï∞Âè™Ë¶ÅÈô§‰ª•2ÁöÑnÊ¨°ÂπÇÊï∞Ôºå‰Ωé‰Ωç‰∏äÁöÑÊï∞Â≠óÂ∞±ÊòØÊàë‰ª¨ÈúÄË¶ÅÁöÑ‰ΩôÊï∞„ÄÇËÄå(2n - 1)ÁöÑ‰∫åËøõÂà∂ÊúâÊïà‰ΩçÈÉΩÊòØ1ÔºåÂíån‰ΩçÁöÑ1‰Ωú‰∏éËøêÁÆóÁõ∏ÂΩì‰∫éÂèñ‰Ωén‰ΩçÁöÑÂÄº„ÄÇ lengthÁöÑÈïøÂ∫¶ÂàöÂ•ΩÊòØ2ÁöÑnÊ¨°ÂπÇÔºåÊâ©ÂÆπ‰πüÊòØÊåâÂéüÊù•ÁöÑ2ÂÄçÂÆπÈáèËøõË°åÊâ©ÂÆπÔºåÂèØ‰ª•Âä†Âø´hashËÆ°ÁÆó„ÄÅÂáèÂ∞ëhashÂÜ≤Á™Å„ÄÇ ü¶ã Âä†Âø´hashËÆ°ÁÆóÔºö ‰∏§ÂÄçÊâ©ÂÆπÊú∫Âà∂‰ΩøÂÆπÈáè‰∏ÄÁõ¥‰øùÊåÅÂú®2ÁöÑnÊ¨°ÂπÇÊï∞ÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî®‰ΩçËøêÁÆó‰ª£ÊõøÂèñÊ®°ËøêÁÆóÔºåÊèêÂçáhashËÆ°ÁÆóÊïàÁéá„ÄÇ ÂΩìÂÆπÈáè‰øùÊåÅ‰∏∫2ÁöÑnÊ¨°ÂπÇÊó∂ÔºåÊØèÊ¨°Êâ©ÂÆπÊó∂‰ΩçËøêÁÆóËÆ°ÁÆóÂæóÂá∫ÁöÑ‰ΩôÊï∞‰∏çÂèòÔºåÊï∞ÊçÆÂ≠òÊîæÁöÑÁ¥¢Âºï‰ΩçÁΩÆ‰πü‰øùÊåÅ‰∏çÂèò„ÄÇËÄå‰ΩøÁî®%ËÆ°ÁÆóÊó∂ÔºåÁªìÊûú‰ºöÂõ†‰∏∫ÂÆπÈáèÁöÑÂèòÂåñËÄåÊîπÂèòÔºàÊ®°ËøêÁÆó‰ºö‰∫ßÁîüÂ∞èÊï∞ÁÇπÔºâÔºåÊØèÊ¨°Êâ©ÂÆπÊó∂Êï∞ÊçÆÂú®Êï∞ÁªÑ‰∏≠Â≠òÊîæÁöÑ‰ΩçÁΩÆ‰ºöÂèëÁîüÊîπÂèòÔºàÊï∞ÊçÆÊºÇÁßªÔºâÔºåÂΩ±ÂìçÊÄßËÉΩ„ÄÇ ü¶ã ÂáèÂ∞ëhashÂÜ≤Á™ÅÔºö Â∞ÜÂÆπÈáè‰øùÊåÅ‰∏∫ÂÅ∂Êï∞ËøõË°åhashËÆ°ÁÆóÊó∂ÔºåÁªèËøá(length-1)ÂêéÔºåËÆ°ÁÆóÂá∫ÁöÑÁ¥¢ÂºïÂÄº‰∏∫Â•áÊï∞ÂíåÂÅ∂Êï∞ÁöÑÊ¶ÇÁéáÁõ∏ÂêåÔºàÂèñÂÜ≥‰∫éÈöèÊú∫ÁîüÊàêÁöÑhashÂÄºÔºâÔºõ ËÄå‰ΩøÁî®Â•áÊï∞ÂÆπÈáèËøõË°åhashËÆ°ÁÆóÊó∂ÔºåÁªèËøá(length-1)ÂêéÔºåÊúÄÁªàÁªìÊûúÂùá‰∏∫ÂÅ∂Êï∞ÔºåËøôÊ†∑‰ªª‰Ωï hash ÂÄºÈÉΩÂè™‰ºöË¢´Êï£ÂàóÂà∞Êï∞ÁªÑÁöÑÂÅ∂Êï∞‰∏ãÊ†á‰ΩçÁΩÆ‰∏äÔºåËøôÊµ™Ë¥π‰∫ÜËøë‰∏ÄÂçäÁöÑÁ©∫Èó¥„ÄÇ Âõ†Ê≠§2ÁöÑnÊ¨°ÂπÇÂÆπÈáè„ÄÅÂèåÂÄçÊâ©ÂÆπÊú∫Âà∂ÂèØ‰ª•‰ΩøÂÆπÈáè‰øùÊåÅÂú®ÂÅ∂Êï∞ÂÄºÔºåÂèØ‰ª•‰ΩøÊ∑ªÂä†ÁöÑÂÖÉÁ¥†Âú®HashMapÁöÑÊï∞ÁªÑ‰∏≠ÂùáÂåÄÂàÜÂ∏ÉÔºåÂáèÂ∞ëhashÁ¢∞Êíû„ÄÇ Ôºà3ÔºâHashÂÜ≤Á™ÅÊÄé‰πàÂäû%%{ init: { 'themeVariables': { 'fontSize': '13px', 'edgeLabelBackground': '#ddebe6' } } }%% graph TD T((\"1. HashÂÜ≤Á™ÅÊÄé‰πà‰ºòÂåñ\")):::p --> T1(\"hashË°®ÈáåÂèØ‰ª•Â≠òÂÇ®ÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆË¢´Áß∞‰∏∫‚ÄúÊ°∂ÔºàbucketÔºâ‚Äù\") T1 --> |\"ÈÄöÂ∏∏ÊÉÖÂÜµ\"| A(\"Âçï‰∏™‚ÄúÊ°∂‚ÄùÈáåÂ≠òÂÇ®‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÊ≠§Êó∂ÊÄßËÉΩÊúÄ‰Ω≥\"):::g A -.-> |\"O(1)\"| a[\"hashÁÆóÊ≥ïÂèØ‰ª•Ê†πÊçÆhashCodeÂÄºËÆ°ÁÆóÂá∫‚ÄúÊ°∂‚ÄùÁöÑÂ≠òÂÇ®‰ΩçÁΩÆÔºåÊé•ÁùÄ‰ªé‚ÄúÊ°∂‚Äù‰∏≠ÂèñÂá∫ÂÖÉÁ¥†„ÄÇ\"] T1 --> |\"ÂìàÂ∏åÂÜ≤Á™ÅÁöÑÊÉÖÂÜµ\"| B(\"Âçï‰∏™Ê°∂‰ºöÂ≠òÂÇ®Â§ö‰∏™ÂÖÉÁ¥†ÔºàhashÂÄºÁõ∏ÂêåÔºâ\"):::g B -.-> |\"O(n)\"|b([\"Â§ö‰∏™ÂÖÉÁ¥†‰ª• ÈìæË°® ÂΩ¢ÂºèÂ≠òÂÇ®\"]):::B b --> 2T((\"2. HashÂÜ≤Á™ÅÂæàÂ§ßÊÄé‰πà‰ºòÂåñ\")):::p subgraph \"ÔºàÈìæË°®ÂøÖÈ°ªÊåâÈ°∫Â∫èÊêúÁ¥¢ÔºåÂ≠òÂèñÊÄßËÉΩÂ∑ÆÔºâ\" 2T --> C([\"Â∞ÜÈìæË°®ÁªìÊûÑËΩ¨‰∏∫Á∫¢ÈªëÊ†ë\"]):::B C -.- |\"O(logn)\"|c[\"‰ª•Ê†ëÁöÑÈ´òÂ∫¶‰∏∫ÊúÄÂ∑ÆÊü•ËØ¢ÊÄßËÉΩÔºåÊ∞∏Ëøú‰∏ç‰ºöÂá∫Áé∞O(n)ÁöÑÊÉÖÂÜµ„ÄÇ\"]:::info end classDef p fill:#ddaebd classDef g fill:#f4e4e9 classDef B fill:#d9dfeb, stroke:#657eae,stroke-width:2px classDef info fill:#f6f6f7,color:#737379, stroke-width: 2px, stroke-dasharray: 3 3 HashÂÜ≤Á™ÅÁ§∫ÊÑèÂõæ %%{ init: { 'themeVariables': { 'clusterBorder': 'none', 'clusterBkg': '#ececee' } } }%% %% ÈìæË°®Ë∂ÖËøá8Êó∂Ê†ëÂåñÊàêÁ∫¢ÈªëÊ†ë graph TD subgraph \"Node[]\" Entry0[\"Node0NodeÔºúK,V>\"] -.- Node1 -.- Node2 -.- Node3 -.- Node4 -.- Node5 -.- Node6 end subgraph ÈìæË°® Node1 --> A[Node] --> B[Node] --> C[Node] --> D[Node] --> E[Node] --> F[Node] end subgraph Á∫¢ÈªëÊ†ë Node4 --> a[Node] a[Node] --> b[Node] b --> b1[Node] b --> b2[Node] a --> c[Node] c --> c1[Node] c --> c2[Node] b1 --> d[Node] b1 --> d2[Node] end style ÈìæË°® fill:#ddebe6 style Á∫¢ÈªëÊ†ë fill:#f4e4e9 Ôºà4ÔºâÂÜÖÂ≠òÁªìÊûÑÁ§∫ÊÑèÂõæ ÂàõÂª∫ÂØπË±°ÔºåÂÜÖÂ≠òÁªìÊûÑÁ§∫ÊÑèÂõæÔºö Map&lt;String, Integer&gt; countMap = new HashMap&lt;&gt;();countMap.put(&quot;hello&quot;, 1);countMap.put(&quot;world&quot;, 3);countMap.put(&quot;position&quot;, 4); ‰øùÂ≠òÈîÆÂÄºÂØπ ‚Äúhello‚ÄùÁöÑhashÂÄº‰∏∫96207088ÔºåÊ®°16ÁöÑÁªìÊûú‰∏∫0ÔºåÊâÄ‰ª•ÊèíÂÖ•table[0]ÊåáÂêëÁöÑÈìæË°®Â§¥ÈÉ®ÔºåÂÜÖÂ≠òÁªìÊûÑÂèò‰∏∫Ôºö ‚Äúworld‚ÄùÁöÑhashÂÄº‰∏∫111207038ÔºåÊ®°16ÁªìÊûú‰∏∫14ÔºåÊâÄ‰ª•‰øùÂ≠òÂÆå‚Äúworld‚ÄùÂêéÔºåÂÜÖÂ≠òÁªìÊûÑÔºö ‚Äúposition‚ÄùÁöÑhashÂÄº‰∏∫771782464ÔºåÊ®°16ÁªìÊûú‰πü‰∏∫0, table[0]Â∑≤ÁªèÊúâËäÇÁÇπ‰∫ÜÔºåÊñ∞ËäÇÁÇπ‰ºöÊèíÂà∞ÈìæË°®Â§¥ÈÉ®ÔºåÂÜÖÂ≠òÁªìÊûÑÂèò‰∏∫Â¶ÇÂõæÔºö 2. ‰ΩøÁî®Ôºà1ÔºâÂü∫Êú¨‰ΩøÁî®Printer.printHashMapStructures(map); // ÊâìÂç∞Ê†ëÁªìÊûÑgetMapFromStringParam(); Ôºà2ÔºâÂ¶Ç‰ΩïÈÅçÂéÜgraph LR T((\"ÈÅçÂéÜHashMapÁöÑ5ÁßçÊñπÊ≥ï\")):::p T --> A([\"entrySet\"]):::lp T --> B([\"keySet\"]):::lp T --> C([\"forEach\"]):::lp T --> |\"ÊµÅÊìç‰Ωú\"|D([\"StreamApi.forEach\"]):::lp T -.-> E([\"values\"]) A -.-> a(\"Ôºà1ÔºâentrySet\") A -.-> a2(\"Ôºà2ÔºâentrySet + Ëø≠‰ª£Âô®\") B -.-> |\"ÔºàÊïàÁéá‰ΩéÔºâ\"| b(\"Ôºà3ÔºâkeySet + get()\") C -.-> c(\"Ôºà4ÔºâforEach + Lambda\") D -.-> d(\"Ôºà5ÔºâStream().forEachÔºàÂçïÁ∫øÁ®ãÔºâ\") D -.-> d2(\"Ôºà6ÔºâStream().forEachÔºàÂ§öÁ∫øÁ®ãÔºâ\") E -.-> e(\"Ôºà7Ôºâ‰ªÖÈÅçÂéÜvalue\") classDef p fill:#ddaebd classDef lp fill:#f4e4e9 classDef B fill:#d9dfeb, stroke:#657eae,stroke-width:2px ÈÅçÂéÜHashMap‰ª£Á†ÅÔºö package com.equne;import java.util.HashMap;import java.util.Iterator;import java.util.Map;public class Main &#123; /** Ôºà1ÔºâentrySet */ public static void traverse1(Map&lt;String, String&gt; map) &#123; for (Map.Entry&lt;String, String&gt; entry : map.entrySet())&#123; System.out.println(entry.getKey() + &quot;, &quot; + entry.getValue()); &#125; &#125; /** Ôºà2ÔºâËø≠‰ª£Âô®ÔºàentrySetÔºâ */ public static void traverse2(Map&lt;String, String&gt; map) &#123; Iterator&lt;Map.Entry&lt;String, String&gt;&gt; iterator = map.entrySet().iterator(); while (iterator.hasNext())&#123; Map.Entry&lt;String, String&gt; entry = iterator.next(); System.out.println(entry.getKey() + &quot;, &quot; + entry.getValue()); &#125; &#125; /** Ôºà3ÔºâkeySet + get() */ public static void traverse3(Map&lt;String, String&gt; map) &#123; for (String key : map.keySet())&#123; System.out.println(key + &quot;, &quot; + map.get(key)); &#125; &#125; /** Ôºà4ÔºâforEach + Lambda */ public static void traverse4(Map&lt;String, String&gt; map) &#123; map.forEach((key, value) -&gt; &#123; System.out.println(key + &quot;, &quot; + value); &#125;); &#125; /** Ôºà5ÔºâStreamApiÔºàÂçïÁ∫øÁ®ãÔºâ */ public static void traverse5(Map&lt;String, String&gt; map) &#123; map.entrySet().stream().forEach((entry) -&gt; &#123; System.out.println(entry.getKey() + &quot;, &quot; +entry.getValue()); &#125;); &#125; /** Ôºà6ÔºâStreamApiÔºàÂ§öÁ∫øÁ®ãÔºâ */ public static void traverse6(Map&lt;String, String&gt; map) &#123; map.entrySet().stream().parallel().forEach((entry) -&gt; &#123; System.out.println(entry.getKey() + &quot;, &quot; +entry.getValue()); &#125;); &#125; /** Ôºà7Ôºâ‰ªÖÈÅçÂéÜvalue */ public static void traverse7(Map&lt;String, String&gt; map) &#123; for (String v : map.values())&#123; System.out.println(v); &#125; &#125; public static void main(String[] args) &#123; Map&lt;String, String&gt; map = new HashMap&lt;&gt;(); map.put(&quot;key1&quot;, &quot;value1&quot;); map.put(&quot;key2&quot;, &quot;value2&quot;); traverse1(map); traverse2(map); traverse3(map); traverse4(map); traverse5(map); traverse6(map); traverse7(map); &#125;&#125; entrySet Âíå keySet Map.entrySet Ëø≠‰ª£Âô®‰ºöÁîüÊàê EntryIteratorÔºåÂÖ∂ËøîÂõûÁöÑÂÆû‰æãÊòØ‰∏Ä‰∏™ÂåÖÂê´ key/value ÈîÆÂÄºÂØπÁöÑÂØπË±°„ÄÇ ËÄå keySet ‰∏≠Ëø≠‰ª£Âô®ËøîÂõûÁöÑÂè™ÊòØ key ÂØπË±°ÔºåËøòÈúÄË¶ÅÂà∞ map ‰∏≠‰∫åÊ¨°ÂèñÂÄºÔºàÂ§ö‰∏Ä‰∏™getÊñπÊ≥ïÁöÑË∞ÉÁî®Ôºâ„ÄÇÊïÖ entrySet Ë¶ÅÊØî keySet Âø´‰∏ÄÂÄçÂ∑¶Âè≥„ÄÇÔºàkeySetÈÄÇÂêà‰ªÖÈúÄË¶ÅÊìç‰ΩúkeyÊó∂‰ΩøÁî®Ôºâüîó ÊëòËá™Ôºö„ÄäJava‰øÆÁÇºÊåáÂçóÔºöÈ´òÈ¢ëÊ∫êÁ†ÅËß£Êûê„Äã foreach + Lambda Ë°®ËææÂºèÔºàJava8 ÁöÑÊñ∞ÁâπÊÄßÔºâ forEach()ÔºöÁî®‰∫éÈÅçÂéÜÂä®ÊÄÅÊï∞ÁªÑ‰∏≠ÊØè‰∏Ä‰∏™ÂÖÉÁ¥†Âπ∂ÊâßË°åÁâπÂÆöÊìç‰Ωú„ÄÇ Lambda Ë°®ËææÂºèÔºöÁÆ≠Â§¥Á¨¶Âè∑ -&gt;ÔºåÂÖ∂‰∏§ËæπËøûÊé•ÁùÄËæìÂÖ•ÂèÇÊï∞ÂíåÂáΩÊï∞‰Ωì„ÄÇ Stream() ÂÖ∂ÂÆûÁî®IterableÊú¨Ë∫´ÁöÑforEachÊñπÊ≥ïÂç≥ÂèØÔºåÊ≤°ÊúâÂøÖË¶ÅÁî®ÊµÅÂºèÊìç‰Ωú„ÄÇStreamApiÈÄÇÂêàÂú®ÂØπÈõÜÂêàËøõË°åÂÖ∂‰ªñÊµÅÂºèÊìç‰Ωú‰πãÂêé‰ΩøÁî®„ÄÇ Ë°•ÂÖÖÔºöÁî®ÊµÅËé∑ÂèñÊò†Â∞ÑÂÄºÁöÑÊûÅÁ´ØÊ°à‰æãÔºöOptional&lt;String&gt; value = map .entrySet() .stream() .filter(entry -&gt; entry.getKey().equals(key)) .map(Entry::getValue) // ÂèåÂÜíÂè∑ÔºöÂºïÁî®ÊñπÊ≥ï .findFirst(); üîó ÊëòËá™Ôºö„ÄäÂ•Ω‰ª£Á†ÅÔºåÂùè‰ª£Á†Å„Äã . ‰∫å„ÄÅHashMapÊ∫êÁ†Å Ê≥®ÔºöÊú¨ÊñáÊ∫êÁ†ÅÁâàÊú¨Âùá‰∏∫ÔºöJDK 8 1. Â±ûÊÄß// üîπ Â∏∏Èáè// ÈªòËÆ§ÁöÑÂàùÂßãÂÆπÈáèÂÄºÔºà16Ôºâ- ÂøÖÈ°ªÊòØ2ÁöÑnÊ¨°ÂπÇstatic final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4;// ÊúÄÂ§ßÂÆπÈáè‰∏äÈôêÔºà2ÁöÑ30Ê¨°ÊñπÔºâstatic final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30;// ÈªòËÆ§ÁöÑË¥üËΩΩÂõ†Êï∞Ôºà0.75Ôºâstatic final float DEFAULT_LOAD_FACTOR = 0.75f;// Ê†ëÂåñÈòàÂÄºÔºöÂΩì‰∏Ä‰∏™Ê°∂‰∏≠ÁöÑÂÖÉÁ¥†‰∏™Êï∞Â§ß‰∫éÁ≠â‰∫é8Êó∂ËøõË°åÊ†ëÂåñstatic final int TREEIFY_THRESHOLD = 8;// Ê†ëÈôçÁ∫ß‰∏∫ÈìæË°®ÁöÑ‰ªì‰ΩçËÆ°Êï∞ÈòàÂÄºÔºåÂΩì‰∏Ä‰∏™Ê°∂‰∏≠ÁöÑÂÖÉÁ¥†‰∏™Êï∞Â∞è‰∫éÁ≠â‰∫é6Êó∂ÊääÊ†ëËΩ¨Âåñ‰∏∫ÈìæË°®„ÄÇstatic final int UNTREEIFY_THRESHOLD = 6;// Â∞ÜtableÊ†ëÂåñÁöÑÊúÄÂ∞èÂÆπÈáèÂÄºÔºà64ÔºâÔºöÂΩìÊ°∂ÁöÑ‰∏™Êï∞ËææÂà∞64ÁöÑÊó∂ÂÄôÊâçËøõË°åÊ†ëÂåñÔºàËá≥Â∞ëÂ∫î‰∏∫4*TREEIFY_THRESHOLDÔºå‰ª•ÈÅøÂÖçË∞ÉÊï¥Â§ßÂ∞èÂíåÊ†ëÂåñÈòàÂÄº‰πãÈó¥ÁöÑÂÜ≤Á™Å„ÄÇÔºâstatic final int MIN_TREEIFY_CAPACITY = 64;// üîπ ÂèòÈáè// NodeÊï∞ÁªÑÔºåÂèàÂè´‰ΩúÊ°∂ÔºàbucketÔºâtransient Node&lt;K,V&gt;[] table;// ‰Ωú‰∏∫entrySet()ÁöÑÁºìÂ≠òtransient Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet;// ÂÖÉÁ¥†ÁöÑÊï∞Èáètransient int size;// ËÆ∞ÂΩïhashMapÁöÑ‰øÆÊîπÊ¨°Êï∞ÔºàÊØèÊ¨°Êâ©ÂÆπÂíåÊõ¥Êîπ map ÁªìÊûÑÁöÑËÆ°Êï∞Âô®Ôºâtransient int modCount;// Êâ©ÂÆπÈòàÂÄº = table.length * loadFactorÔºàÂΩìsizeÂ§ß‰∫éÈòàÂÄºÊó∂Êâ©ÂÆπÔºâint threshold;// Ë¥üËΩΩÂõ†Êï∞ÔºöË°®Á§∫Êï¥‰Ωì‰∏ätableË¢´Âç†Áî®ÁöÑÁ®ãÂ∫¶final float loadFactor; 2. ÊûÑÈÄ†ÊñπÊ≥ïgraph LR T((\"HashMapÊûÑÈÄ†ÊñπÊ≥ï\")):::p T --> A([\"HashMap map1 = new HashMap();\"]):::lp T --> B([\"HashMap map2 = new HashMap(30);\"]):::lp T --> C([\"HashMap map3 = new HashMap(30, 0.5f);\"]):::lp T --> D([\"HashMap map4 = new HashMap(map);\"]):::lp A --- |\"Êó†ÂèÇÊûÑÈÄ†ÊñπÊ≥ï\"|a(\"‰∏çÊåáÂÆöÂÆπÈáèÔºåÈªòËÆ§:16\") B --- |\"initialCapacoty\"| b(\"ÊåáÂÆöÂàùÂßãÂåñÂÆπÈáèÔºö30\") C --- |\"initialCapacotyloadFactor\"| c(\"ÊåáÂÆöÂàùÂßãÂåñÂÆπÈáè„ÄÅË¥üËΩΩÂõ†Êï∞\") D --- |\"Map map\"| d(\"‰ª•ÊåáÂÆömapÊûÑÈÄ†Êñ∞map\") D -.- ci(\"* Ê≥®ÊÑèÔºö‰∏é‰∏äËø∞‰ªÖÂàõÂª∫Á©∫HashMap‰∏çÂêåÔºåÊ≠§ÊñπÊ≥ïÂÜÖÈÉ®Ë∞ÉÁî®‰∫Üput()Â≠òÂÄºtableÊâçÁúüÊ≠£ËøõË°å‰∫ÜÂàùÂßãÂåñ„ÄÇ\"):::info classDef p fill:#ddaebd classDef lp fill: #f4e4e9 classDef info fill:#f6f6f7,color:#737379,stroke-dasharray: 3 3, stroke-width: 2px Ôºà1ÔºâHashMap() Êó†ÂèÇÊï∞ÁöÑÊûÑÈÄ†ÊñπÊ≥ï/** * Constructs an empty HashMap with the default initial capacity(16) and the default load factor (0.75). * ‰ª•ÈªòËÆ§ÂàùÂßãÂÆπÈáè(16)ÂíåÈªòËÆ§Ë¥üËΩΩÂõ†Êï∞(0.75)ÔºåÊûÑÈÄ†‰∏Ä‰∏™Á©∫ÁöÑHashMap„ÄÇ */public HashMap() &#123; // üîª Â∞ÜË¥üËΩΩÂõ†Êï∞Ëµã‰∏∫ÈªòËÆ§ÂÄº„ÄÇ this.loadFactor = DEFAULT_LOAD_FACTOR; // all other fields defaulted&#125; Ôºà2ÔºâHashMap(20) Â∏¶ÂàùÂßãÂÆπÈáèÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºö/** * Constructs an empty HashMap with the specified initial capacity and the default load factor (0.75). * ‰ª•ÁâπÂÆöÁöÑÂàùÂßãÂÆπÈáèÂíåÈªòËÆ§ÁöÑË¥üËΩΩÂõ†Êï∞(0.75)ÔºåÊûÑÈÄ†‰∏Ä‰∏™Á©∫ÁöÑHashMap * * @param initialCapacity ÂàùÂßãÂÆπÈáè * @throws IllegalArgumentException ÂàùÂßãÂÆπÈáè‰∏∫Ë¥üÂÄºÊó∂ÊäõÂá∫ÈùûÊ≥ïÊï∞ÊçÆÂºÇÂ∏∏„ÄÇ */ public HashMap(int initialCapacity) &#123; // üîª Ë∞ÉÁî®‰∫ÜÂ∏¶ÂàùÂßãÂÆπÈáè„ÄÅË¥üËΩΩÂõ†Êï∞ÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºàËØ¶ËßÅ‰∏ãÊñá(3)Ôºâ this(initialCapacity, DEFAULT_LOAD_FACTOR); &#125; Ôºà3ÔºâHashMap(20, 0.5f) Â∏¶ÂàùÂßãÂÆπÈáè„ÄÅË¥üËΩΩÂõ†Êï∞ÁöÑÊûÑÈÄ†ÊñπÊ≥ï/** * Constructs an empty HashMap with the specified initial capacity and load factor. * ‰ª•ÁâπÂÆöÁöÑÂàùÂßãÂÆπÈáèÂíåË¥üËΩΩÂõ†Êï∞ÊûÑÈÄ†‰∏Ä‰∏™Á©∫ÁöÑHashMap„ÄÇ * * @param initialCapacity ÂàùÂßãÂåñÂÆπÈáè * @param loadFactor Ë¥üËΩΩÂõ†Êï∞ * @throws IllegalArgumentException if the initial capacity is negative * or the load factor is nonpositive * ÂΩìÂàùÂßãÂÆπÈáè‰∏∫Ë¥üÂÄº„ÄÅÊàñË¥üËΩΩÂõ†Êï∞‰∏∫ÈùûÊ≠£Êó∂ÊäõÂá∫ÈùûÊ≥ïÊï∞ÊçÆÂºÇÂ∏∏„ÄÇ */public HashMap(int initialCapacity, float loadFactor) &#123; // üî¥ ‰∏Ä„ÄÅÂà§Êñ≠‰º†ÂÖ•ÂèÇÊï∞ÁöÑÂêàÊ≥ïÊÄß // üîπ ÂàùÂßãÂÆπÈáèÂÄºÈùûË¥üÊï∞ if (initialCapacity &lt; 0) throw new IllegalArgumentException(&quot;Illegal initial capacity: &quot; + initialCapacity); // üîπ ÂàùÂßãÂÆπÈáèÂÄº‰∏çË∂ÖËøáÊúÄÂ§ßÂÆπÈáè if (initialCapacity &gt; MAXIMUM_CAPACITY) initialCapacity = MAXIMUM_CAPACITY; // üîπ Ë¥üËΩΩÂõ†Êï∞Â§ß‰∫é0‰∏î‰∏∫Êï∞Â≠ó if (loadFactor &lt;= 0 || Float.isNaN(loadFactor)) throw new IllegalArgumentException(&quot;Illegal load factor: &quot; + loadFactor); // üî¥ ‰∫å„ÄÅ‰∏∫ÈÖçÁΩÆÂèÇÊï∞ËµãÂÄº // üîπ ‰∏∫Ë¥üËΩΩÂõ†Êï∞ËµãÂÄº this.loadFactor = loadFactor; // üîπ ‰∏∫Êâ©ÂÆπÈòàÂÄºËµãÂÄºÔºö‰ΩøÁî®tableSizeFor()Â∞ÜÁªôÂÆöÊï∞ÂÄºË∞ÉÊï¥‰∏∫2ÁöÑÊ¨°ÂπÇÊï∞„ÄÇ this.threshold = tableSizeFor(initialCapacity);&#125; Ôºà4ÔºâHashMap(map)- HashMap() Â∏¶mapÁöÑÊûÑÈÄ†ÊñπÊ≥ï /** * Constructs a new HashMap with the same mappings as the specified Map. * The HashMap is created with default load factor (0.75) and an initial capacity sufficient to hold the mappings in the specified Map. * ‰ΩøÁî®‰∏éÊåáÂÆöMapÁõ∏ÂêåÁöÑÊò†Â∞ÑÊûÑÈÄ†Êñ∞ÁöÑHashMap„ÄÇ * Ê≠§HashMapÁî±ÔºöÈªòËÆ§Ë¥üËΩΩÂõ†Êï∞(0.75)„ÄÅË∂≥Â§üÁöÑÂàùÂßãÂÆπÈáèÔºàË∂≥‰ª•Â≠ò‰∏ãÊåáÂÆöMapÔºâÂàõÂª∫„ÄÇ * * @param m the map whose mappings are to be placed in this map * @ÂèÇÊï∞Ôºö mÔºåÂéümap * @throws NullPointerException if the specified map is null * @ÂºÇÂ∏∏Ôºö ÂΩìÂéümap‰∏∫Á©∫Êó∂ÊäõÂá∫Á©∫ÊåáÈíàÂºÇÂ∏∏„ÄÇ */public HashMap(Map&lt;? extends K, ? extends V&gt; m) &#123; // üîª Â∞ÜË¥üËΩΩÂõ†Êï∞Ëµã‰∏∫ÈªòËÆ§ÂÄº„ÄÇ this.loadFactor = DEFAULT_LOAD_FACTOR; // üîª Ë∞ÉÁî®putMapEntries()ÔºåÂ∞ÜÂéüÊúâmapÂ≠òÂÖ•Êñ∞map„ÄÇ putMapEntries(m, false);&#125; - putMapEntries() ËµãÂÄºÂπ∂ÂàùÂßãÂåñÂáΩÊï∞/** * Implements Map.putAll and Map constructor. * ËµãÂÄºÂπ∂ÊûÑÈÄ†ÂáΩÊï∞„ÄÇ * * @param m the map * @ÂèÇÊï∞Ôºö mÔºå‰º†ÂÖ•ÁöÑmap * @param evict false when initially constructing this map, else true (relayed to method afterNodeInsertion). * @ÂèÇÊï∞Ôºö evictÔºåÈ¶ñÊ¨°ÂàõÂª∫Ê≠§mapÊó∂ËøîÂõûfalseÔºåÈùûÈ¶ñÊ¨°ÂàõÂª∫ËøîÂõûtrue„ÄÇ */final void putMapEntries(Map&lt;? extends K, ? extends V&gt; m, boolean evict) &#123; int s = m.size(); // mÁöÑÂÖÉÁ¥†‰∏™Êï∞ // üî¥ ‰∏Ä„ÄÅËã•m‰∏≠ÊúâÂÖÉÁ¥†ÔºåÈúÄË¶ÅÊ†πÊçÆÊñ∞MapÁöÑÂàùÂßãÂåñÊÉÖÂÜµ‰∏∫ÂÖ∂Êâ©ÂÆπÈòàÂÄºËµãÂÄº„ÄÇ ÔºàËã•mÊó†ÂÖÉÁ¥†ÂàôÊó†ÈúÄËµãÂÄºÔºåÁõ¥Êé•‰ΩøÁî®ÁªôÂÆöÁöÑË¥üËΩΩÂõ†Êï∞ÂíåÊâ©ÂÆπÈòàÂÄº(lf*cap)ÂÆåÊàêÊûÑÈÄ†„ÄÇÔºâ if (s &gt; 0) &#123; // üîπ Ëã•Êï∞ÁªÑÊú™ÂàùÂßãÂåñÔºöÊ†πÊçÆm‰∏≠ÂÖÉÁ¥†Êï∞ÈáèÂíåË¥üËΩΩÂõ†Êï∞ËÆ°ÁÆóÊñ∞MapÁöÑÊâ©ÂÆπÈòàÂÄº„ÄÇ if (table == null) &#123; // pre-size // mÁöÑÊâ©ÂÆπÈòàÂÄº = ÂÖÉÁ¥†Êï∞Èáè / Ë¥üËΩΩÂõ†Êï∞Ôºàüî∏+1.0FÔºöÂØπÂ∞èÊï∞ÂÅöÂêë‰∏äÂèñÊï¥‰ª•Â∞ΩÂèØËÉΩ‰øùËØÅÊõ¥Â§ßÂÆπÈáèÔºâ float ft = ((float)s / loadFactor) + 1.0F; // Â∞ÜmÊâ©ÂÆπÈòàÂÄºÁöÑÊï∞ÊçÆÁ±ªÂûãËΩ¨‰∏∫Êï¥ÂûãÔºåÂπ∂ÈôêÂÆöÂú®ÈªòËÆ§ÂÆπÈáè‰∏äÈôêÂÜÖ int t = ((ft &lt; (float)MAXIMUM_CAPACITY) ? (int)ft : MAXIMUM_CAPACITY); // Ëã•ËÆ°ÁÆóÂá∫mÁöÑÊâ©ÂÆπÈòàÂÄº &gt; Êñ∞MapÊâ©ÂÆπÈòàÂÄºÔºåË∞ÉÁî®tableSizeForÊñπÊ≥ïÔºåÂ∞ÜÊñ∞MapÊâ©ÂÆπÈòàÂÄºËÆæÁΩÆ‰∏∫ÔºöËØ•ÂÄºÊúÄÊé•ËøëÂÆπÈáèÁöÑ2Ê¨°ÂπÇÊï∞„ÄÇ if (t &gt; threshold) threshold = tableSizeFor(t); &#125; // üîπ Ëã•Êï∞ÁªÑÂ∑≤ÂàùÂßãÂåñ„ÄÅ‰∏îMap‰∏≠ÁöÑÂÖÉÁ¥†Êï∞ÈáèË∂ÖËøá‰∫ÜÂÖ∂Êâ©ÂÆπÈòàÂÄºÔºöÊâ©ÂÆπ„ÄÇ else if (s &gt; threshold) resize(); // üî¥ ‰∫å„ÄÅËµãÂÄºÔºöÈÅçÂéÜmÁöÑentryÔºåÈÄê‰∏™ËµãÂÄºÂà∞Êñ∞Map‰∏ä„ÄÇ for (Map.Entry&lt;? extends K, ? extends V&gt; e : m.entrySet()) &#123; K key = e.getKey(); V value = e.getValue(); // üîπ Ë∞ÉÁî®putVal()‰∏∫ÊØè‰∏™ËäÇÁÇπËµãÂÄºÔºàÊ≠§Êó∂Êñ∞MapÊâçÁúüÊ≠£ÂàùÂßãÂåñÂÆåÊàêÔºâ putVal(hash(key), key, value, false, evict); &#125; &#125;&#125; ((float)s / loadFactor) + 1.0F + 1.0FÔºö‰∏∫‰∫ÜËÆ©ÊµÆÁÇπÊï∞ËøõË°åÈô§Ê≥ïËÆ°ÁÆóÂêéÂêë‰∏äÂèñÊï¥Ôºå‰ª•Â∞ΩÂèØËÉΩ‰øùËØÅË∂≥Â§üÂÆπÈáè„ÄÇ 3. ÈùôÊÄÅÂÆûÁî®Á®ãÂ∫è- hash() ËÆ°ÁÆókey.hashCode()/* ---------------- Static utilities -------------- *//** * Computes key.hashCode() and spreads (XORs) higher bits of hash to lower. * ËÆ°ÁÆókey.hashCode()Âπ∂Â∞ÜÂìàÂ∏åÁöÑÈ´ò‰ΩçÊâ©Â±ïÔºàÂºÇÊàñËøêÁÆóÔºâÂà∞‰Ωé‰Ωç„ÄÇ */static final int hash(Object key) &#123; int h; return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);&#125; (h=key.hashCode()) ^ (h &gt;&gt;&gt;16) hash(Object) ÊñπÊ≥ïÈÄöËøá‰ª•‰∏äË°®ËææÂºèÂæóÂà∞ÊåáÂÆöÂØπË±°ÁöÑHashÂÄº„ÄÇËøôÈáåÊòØÂèñÂæóÂΩìÂâçÂØπË±°ÁöÑHashÂÄºÔºåÈ¶ñÂÖàËøõË°åÂ∏¶Á¨¶Âè∑‰ΩçÁöÑÂè≥Áßª16‰ΩçÊìç‰ΩúÔºàËøôÊó∂ÂÄôÂØπË±°HashÂÄºÁöÑÈ´ò‰ΩçÊÆµÂ∞±ÂèòÊàê‰∫Ü‰Ωé‰ΩçÊÆµÔºâÔºåÁÑ∂Âêé‰∏éÂØπË±°ÂéüÊù•ÁöÑHashÂÄºËøõË°åÂºÇÊàñËøêÁÆó„ÄÇ ÂºÇÊàñÁöÑÂéüÂõ†Ôºö Âõ†‰∏∫Êï∞ÁªÑÂÆπÈáèÊÄªÊòØ2ÁöÑnÊ¨°ÂπÇÊï∞ÔºåËÆ°ÁÆóÁ¥¢Âºï‰ΩçÁΩÆÊó∂ÔºåÊï£ÂàóÁúüÊ≠£ÁîüÊïàÁöÑÂè™ÊòØ‰ΩénbitÁöÑÊúâÊïà‰ΩçÔºåÂæàÂÆπÊòìÂèëÁîüÁ¢∞Êíû„ÄÇÂõ†Ê≠§ÔºåÊääÈ´ò16bitÂíå‰Ωé16bitÂºÇÊàñ‰∏Ä‰∏ãÔºåÊó¢ÂáèÂ∞ë‰∫ÜÁ≥ªÁªüÁöÑÂºÄÈîÄÔºå‰πü‰∏ç‰ºöÈÄ†ÊàêÂõ†‰∏∫È´ò‰ΩçÊ≤°ÊúâÂèÇ‰∏é‰∏ãÊ†áÁöÑËÆ°ÁÆó(tableÈïøÂ∫¶ÊØîËæÉÂ∞è)Êó∂ÔºåÂºïËµ∑Á¢∞Êíû„ÄÇ - tableSizeFor() ËøîÂõûÊúÄÊé•ËøëÁªôÂÆöÁõÆÊ†áÂÆπÈáèÁöÑ‰∫åÊ¨°ÂπÇÊï∞ÂÄº/** * Returns a power of two size for the given target capacity. * ËøîÂõûÁªôÂÆöÁõÆÊ†áÂÆπÈáèÁöÑ‰∫åÊ¨°ÂπÇÊï∞„ÄÇ */static final int tableSizeFor(int cap) &#123; int n = cap - 1; n |= n &gt;&gt;&gt; 1; n |= n &gt;&gt;&gt; 2; n |= n &gt;&gt;&gt; 4; n |= n &gt;&gt;&gt; 8; n |= n &gt;&gt;&gt; 16; return (n &lt; 0) ? 1 : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;&#125;/* ‰ª•‰∏ã‰∏∫Â§áÊ≥®Ôºö ------------------------------------------------- * ËØ•‰ΩçËøêÁÆóÁî®‰∫éÊ±ÇÂá∫È´ò‰Ωç1‰πãÂêéÊØè‰ΩçÈÉΩ‰∏∫1ÁöÑÁªìÊûú„ÄÇ Âõ†‰∏∫Â∞ÜÊØè‰ΩçÂèò‰∏∫1ÔºåÂàôÂä†‰∏ä1ÂêéÂàöÂ•ΩÊòØ‰∏Ä‰∏™‰∫åÊ¨°ÂπÇÊï∞„ÄÇ Â¶Ç(0000 1000)Ôºå‰ΩøÂÖ∂Á¨¨‰∏Ä‰Ωç1ÂêéÈù¢ÈÉΩ‰∏∫1ÔºåÂç≥(0000 1111) ------------------------------------------------- */ // Â¶ÇÔºåinitialCapacity = 9 // üî¥ Â∞Ü n - 1 int n = cap -1; // n = 8 // üî¥ ‰Ωú‰ΩçËøêÁÆóÔºö1. Êó†Á¨¶Âè∑‰ΩçÁßª 2. ‰∏én‰ΩúÊàñÁöÑ‰ΩçËøêÁÆó„ÄÇ n |= n &gt;&gt;&gt; 1; n = 0000 1000 n = 0000 0100 n = 0000 1100 n |= n &gt;&gt;&gt; 2; n = 0000 1100 n = 0000 0011 n = 0000 1111 // =15 n |= n &gt;&gt;&gt; 4; n = 0000 1111 n = 0000 0000 n = 0000 1111 n |= n &gt;&gt;&gt; 8; n = 0000 1111 n = 0000 0000 n = 0000 1111 n |= n &gt;&gt;&gt; 16; // üî∏ Âõ†‰∏∫intÊòØ32‰ΩçÁöÑÔºåÊâÄ‰ª•ÊâßË°åÂà∞16Âç≥ÂèØ. // üî¥ ËøîÂõû‰ΩçÁßªÁªìÊûún + 1 return (n &lt; 0) ? 1 : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUN_CAPACITY : n + 1; n &lt; 0, ÂàôËøîÂõû n = 1 n &gt;= 0, ‰∏î n &gt;= ÊúÄÂ§ßÂÆπÈáè, ÂàôËøîÂõûÊúÄÂ§ßÂÆπÈáè n &gt;= 0, ‰∏î n &lt; ÊúÄÂ§ßÂÆπÈáè, ÂàôËøîÂõû n + 1 Ôºà=16Ôºâ ‰∏∫‰ªÄ‰πàÂÖàËøõË°ån-1Êìç‰ΩúÔºö‰∏∫‰∫ÜÂ§ÑÁêÜnÂàöÂ•ΩÊòØ‰∫åÊ¨°ÂπÇÊï∞ÁöÑÊÉÖÂÜµ„ÄÇ ü¶ã Ëã•nÂ∑≤ÁªèÊòØ2ÁöÑnÊ¨°ÂπÇ‰∫ÜÔºåÊåâÁÖßÈÄªËæëÂèò1‰πãÂêéÂÜçÂä†1ÔºåÁªìÊûúÂ∞±‰ºöÂèòÊàênÁöÑ2ÂÄç‰∫ÜÔºå‰∏éÂ∫îÊúâÁöÑÁªìÊûú‰∏ç‰∏ÄËá¥„ÄÇÂ¶ÇÔºån=16Ôºà0001 0000ÔºâÔºå‰ΩçËøêÁÆóÂêé n=31Ôºà0001 1111Ôºâ„ÄÇ - Comparable /** * Returns x&#x27;s Class if it is of the form &quot;class C implements * Comparable&lt;C&gt;&quot;, else null. */static Class&lt;?&gt; comparableClassFor(Object x) &#123; if (x instanceof Comparable) &#123; Class&lt;?&gt; c; Type[] ts, as; Type t; ParameterizedType p; if ((c = x.getClass()) == String.class) // bypass checks return c; if ((ts = c.getGenericInterfaces()) != null) &#123; for (int i = 0; i &lt; ts.length; ++i) &#123; if (((t = ts[i]) instanceof ParameterizedType) &amp;&amp; ((p = (ParameterizedType)t).getRawType() == Comparable.class) &amp;&amp; (as = p.getActualTypeArguments()) != null &amp;&amp; as.length == 1 &amp;&amp; as[0] == c) // type arg is c return c; &#125; &#125; &#125; return null;&#125;/** * Returns k.compareTo(x) if x matches kc (k&#x27;s screened comparable * class), else 0. */@SuppressWarnings(&#123;&quot;rawtypes&quot;,&quot;unchecked&quot;&#125;) // for cast to Comparablestatic int compareComparables(Class&lt;?&gt; kc, Object k, Object x) &#123; return (x == null || x.getClass() != kc ? 0 : ((Comparable)k).compareTo(x));&#125; 4. ÂÆûÁé∞ÊñπÊ≥ïÔºà1ÔºâGet() - Ëé∑Âèñ%%{ init: { 'themeVariables': { 'fontSize': '13px' } } }%% graph TD T([\"Â¶Ç‰Ωï‰ªéHashMapËé∑ÂèñÂÖÉÁ¥†Ôºü\"]):::p T --> B(\"ÂÖàÊ†πÊçÆkeyÊâæÂà∞Ê°∂‰Ωç\") B --> A([\"Âà§Êñ≠ÂΩìÂâç‰ΩçÁΩÆÁöÑÂÖÉÁ¥†ÊòØÂê¶Â∞±Ë¶ÅÊâæÁöÑÂÄº\"]):::lp A --> |\"ÊòØ\"| C2[\"Ê†∏ÂØπk-vÂÄºÂêéËøîÂõû\"]:::b A --> |\"Âê¶ÔºàÊúâhashÂÜ≤Á™ÅÔºâ\"| C([\"Âà§Êñ≠‰∏∫ÈìæË°®ÊàñÁ∫¢ÈªëÊ†ë\"]):::lp C -.-> |\"ÈìæË°®\"|a[\"ÈÅçÂéÜÈìæË°®„ÄÅÊ†∏ÂØπk-vÂÄºÂêéËøîÂõû\"]:::b C -.-> |\"Á∫¢ÈªëÊ†ë\"|b[\"‰ªéÊ†ëÁöÑÊ†πËäÇÁÇπÊü•Êâæ„ÄÅÊ†∏ÂØπk-vÂÄºÂêéËøîÂõû\"]:::b classDef p fill:#ddaebd classDef b fill:#d9dfeb classDef lp fill: #f4e4e9 - get() ÈÄöËøákeyËé∑Âèñvalue/** * Returns the value to which the specified key is mapped, * or null if this map contains no mapping for the key. * ËøîÂõûÊåáÂÆökeyÊâÄÊò†Â∞ÑÁöÑvalueÂÄº„ÄÇËã•Êâæ‰∏çÂà∞ÂØπÂ∫îvalueÊó∂ËøîÂõûnull„ÄÇ * * ‰ΩÜËøîÂõûnull‰∏ç‰∏ÄÂÆö‰ª£Ë°®‰∏çÂ≠òÂú®ËØ•keyÊò†Â∞ÑÁöÑÂÄºÔºåÊúâÂèØËÉΩÊòØËØ•key‰øùÂ≠òÁöÑvalueÂÄºÊ≠£ÊòØ&quot;null&quot;„ÄÇ * ÂèØ‰ª•‰ΩøÁî®containsKey()Êù•ËØÜÂà´„ÄÇ */public V get(Object key) &#123; // Node Node&lt;K,V&gt; e; // üîª ‰ΩøÁî®keyÂíåÂÖ∂hashÂÄºË∞ÉÁî®getNode()ÊñπÊ≥ïÔºåËøîÂõûNodeÁöÑvalueÂÄº„ÄÇ return (e = getNode(hash(key), key)) == null ? null : e.value;&#125; null ? null : e.valueÔºöËã•ËØ•ÂÄº‰∏∫nullÔºåËøîÂõûnullÔºõËã•ËØ•ÂÄº‰∏ç‰∏∫nullÔºåËøîÂõûe.value - getNode() Ëé∑ÂèñNode/** * Implements Map.get and related methods. * ÂÆûÁé∞‰∫ÜMap.get()ÂíåÁõ∏ÂÖ≥ÊñπÊ≥ï * * @param hash keyÁöÑhashÂÄº * @param key key * @return ËøîÂõûËØ•keyÂØπÂ∫îÁöÑNodeÔºåËã•Êó†ËøîÂõûnull */final Node&lt;K,V&gt; getNode(int hash, Object key) &#123; Node&lt;K,V&gt;[] tab; // NodeÊï∞ÁªÑ Node&lt;K,V&gt; first, e; // Node int n; // Êï∞ÁªÑÈïøÂ∫¶ K k; // key // üîª Âà§Êñ≠ËØ•Êï∞ÁªÑÈùûÁ©∫ // Âπ∂Ê†πÊçÆ‰º†ÂÖ•keyÁöÑhashÂÄºËÆ°ÁÆóÂá∫ËØ•hashÂÄºÂØπÂ∫îÁöÑNodeÁöÑ‰∏ãÊ†áÔºåÂ∞ÜËØ•Êï∞ÁªÑ‰∏ãÊ†áÂØπÂ∫îÁöÑÂÄºËµãÂÄºÁªôfirst-NodeÔºàÊÑè‰∏∫hashÂÜ≤Á™ÅÊó∂Á¨¨‰∏Ä‰∏™ËäÇÁÇπÔºâ if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp; (first = tab[(n - 1) &amp; hash]) != null) &#123; // üîπ ÂÖàÂà§Êñ≠Ëã•firstÂàöÂ•ΩÊòØÊàë‰ª¨Ë¶ÅÊâæÁöÑNodeÊó∂ÔºöÁõ¥Êé•ËøîÂõûfirst if (first.hash == hash &amp;&amp; // always check first node ((k = first.key) == key || (key != null &amp;&amp; key.equals(k)))) return first; // üîπ ÂΩìfirstÂ∞æÈÉ®ËøòÊúâÂÖÉÁ¥†ÔºàÂç≥ÊúâhashÂÜ≤Á™ÅÔºâÊó∂ÔºåÊ†πÊçÆNodeÁöÑÁªìÊûÑÂèñÂÄº„ÄÇ if ((e = first.next) != null) &#123; // üî∏ Á∫¢ÈªëÊ†ëÔºöÂ∞ÜNodeËΩ¨‰∏∫TreeNodeÁ±ªÂûãÔºåÂπ∂Ë∞ÉÁî®getTreeNode()ÂèñÂÄº„ÄÇ if (first instanceof TreeNode) return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key); // üî∏ ÈìæË°®ÔºöÈÅçÂéÜÂèñÂÄº„ÄÇ do &#123; if (e.hash == hash &amp;&amp; // Âà§Êñ≠hashÂÄºÂíåkeyÂÄºÈÉΩÁõ∏Âêå ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) return e; &#125; while ((e = e.next) != null); &#125; &#125; // üîª Êï∞ÁªÑ‰∏∫Á©∫ÔºåËøîÂõûnull return null;&#125; Ôºà2ÔºâRemove() - Âà†Èô§%%{ init: { 'themeVariables': { 'fontSize': '13px' } } }%% graph TD T([\"Â¶Ç‰Ωï‰ªéHashMapÂà†Èô§ÂÖÉÁ¥†Ôºü\"]):::p T --> B(\"ÂÖàÊ†πÊçÆkeyÊâæÂà∞Ê°∂‰Ωç\") B --> A([\"Âà§Êñ≠ÂΩìÂâç‰ΩçÁΩÆÁöÑÂÖÉÁ¥†ÊòØÂê¶Â∞±Ë¶ÅÂà†Èô§ÁöÑÂÄº\"]):::lp A --> |\"ÊòØ\"| C2[\"Áõ¥Êé•Âà†Èô§ËØ•ÂÖÉÁ¥†\"]:::b A --> |\"Âê¶ÔºàÊúâhashÂÜ≤Á™ÅÔºâ\"| C([\"Âà§Êñ≠‰∏∫ÈìæË°®ÊàñÁ∫¢ÈªëÊ†ë\"]):::lp C --> |\"ÈìæË°®\"|a[\"Â∞Ü‰∏ä‰∏™‰ΩçÁΩÆÁöÑÊåáÈíàÔºàË∑≥ËøáËØ•ÂÄºÔºâÊåáÂêë‰∏ã‰∏™‰ΩçÁΩÆ\"]:::b C --> |\"Á∫¢ÈªëÊ†ë\"|b[\"ÂéªÊéâÂΩìÂâçËäÇÁÇπÂêéËá™Âπ≥Ë°°\"]:::b b -.- bt[\"ÔºàÊ†ëÈïøÂ∫¶Â∞è‰∫é6Êó∂ËΩ¨‰∏∫ÈìæË°®Ôºâ\"]:::info classDef info fill:#f6f6f7,color:#737379stroke-width: 3px, stroke-dasharray: 3 3 classDef p fill:#ddaebd classDef b fill:#d9dfeb classDef lp fill: #f4e4e9 - remove() Âà†Èô§ÂÖÉÁ¥† /** * Removes the mapping for the specified key from this map if present. * Ê†πÊçÆÊåáÂÆökeyÂà†Èô§Êò†Â∞Ñ„ÄÇ * * @param key Ë¶Å‰ªémap‰∏≠Âà†Èô§Êò†Â∞ÑÁöÑÈîÆ * @return ËøîÂõû‰∏éÈîÆÂÖ≥ËÅîÁöÑÂâçÂÄºÔºåËã•ÂâçÂÄº‰∏∫Á©∫ËøîÂõûnull */public V remove(Object key) &#123; Node&lt;K,V&gt; e; // üîª Ë∞ÉÁî®removeNode()Âà†Èô§ËØ•ÈîÆÊò†Â∞ÑÔºåËã•ÂâçÂÄº‰∏∫Á©∫ËøîÂõûnullÔºåËã•ÂâçÂÄºÈùûÁ©∫ËøîÂõûÂâçÂÄº„ÄÇ return (e = removeNode(hash(key), key, null, false, true)) == null ? null : e.value;&#125; - removeNode() Âà†Èô§Node /** * Implements Map.remove and related methods. * ÂÆûÁé∞Âà†Èô§ÂíåÁõ∏ÂÖ≥ÊñπÊ≥ï„ÄÇ * * @param hash keyÁöÑhashÂÄº * @param key key * @param value Ëã•ÊúâÂÄºÊó∂ÂåπÈÖçËØ•ÂÄº * @param matchValue Ëã•‰∏∫ÁúüÔºö‰ªÖÂÄºÁõ∏Á≠âÊó∂Âà†Èô§ * @param movable ‰∏∫false:Âà†Èô§Êó∂‰∏çÁßªÂä®ÂÖ∂‰ªñÂÄº * @return ËøîÂõûNodeÔºåËã•Êó†ËØ•NodeËøîÂõûnull */final Node&lt;K,V&gt; removeNode(int hash, Object key, Object value, boolean matchValue, boolean movable) &#123; Node&lt;K,V&gt;[] tab; // NodeÊï∞ÁªÑÔºàÂºïÁî®ÂΩìÂâçhashMapÁöÑÊï£ÂàóË°®Ôºâ Node&lt;K,V&gt; p; // ÂΩìÂâçNodeÂÖÉÁ¥†Ôºöp int n, index; // nÔºöÊï∞ÁªÑÈïøÂ∫¶ÔºåindexÔºöÊï∞ÁªÑ‰∏ãÊ†á // Êï∞ÁªÑÈùûÁ©∫„ÄÅÂΩìÂâçÁ¥¢Âºï‰ΩçÁΩÆÁöÑNodeÂÖÉÁ¥†pÈùûÁ©∫ if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp; (p = tab[index = (n - 1) &amp; hash]) != null) &#123; Node&lt;K,V&gt; node = null, e; // Ë¶ÅÂà†Èô§ÁöÑNodeÂÖÉÁ¥†ÔºönodeÔºõÂΩìÂâçËäÇÁÇπÁöÑ‰∏ã‰∏™ËäÇÁÇπÔºöe(=p.next) K k; V v; // ÂΩìÂâçÂÖÉÁ¥†pÁöÑkeyÂíåvalueÂÄº // üîπ Á¨¨‰∏Ä‰∏™‰ΩçÁΩÆÂàöÂ•ΩÊòØË¶ÅÂà†Èô§ÁöÑÂÖÉÁ¥†ÔºöËµãÂÄºÁªônodeÔºåÊâßË°å‰∏ãÊñπ‰øÆÊîπÊåáÈíàÁöÑ‰ª£Á†Å if (p.hash == hash &amp;&amp; ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) node = p; // üîπ Â≠òÂú®ÂìàÂ∏åÂÜ≤Á™ÅÊó∂ÔºöÊ†πÊçÆÈìæË°®ÊàñÁ∫¢ÈªëÊ†ëÁªìÊûÑËé∑ÂèñË¶ÅÂà†Èô§ÁöÑÂÖÉÁ¥†node else if ((e = p.next) != null) &#123; // üî∏ Á∫¢ÈªëÊ†ëÔºö‰ΩøÁî®getTreeNode()Ëé∑ÂèñÂÖÉÁ¥†ÔºåËµãÂÄºÁªônode„ÄÇ if (p instanceof TreeNode) node = ((TreeNode&lt;K,V&gt;)p).getTreeNode(hash, key); // üî∏ ÈìæË°®ÔºöÁî®hashÂÄºÂíåÈîÆÂÄºÂØπÈÅçÂéÜÔºöËµãÂÄºÁªônode„ÄÇ else &#123; do &#123; if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) &#123; node = e; break; &#125; p = e; &#125; while ((e = e.next) != null); &#125; &#125; // üî¥ Ê†πÊçÆÂÖÉÁ¥†(node)ÁöÑÁªìÊûÑÂà†Èô§ if (node != null &amp;&amp; (!matchValue || (v = node.value) == value || (value != null &amp;&amp; value.equals(v)))) &#123; // üîπ Ëã•Ë¶ÅÂà†Èô§Ê†ëÁªìÊûÑËäÇÁÇπÔºö‰ΩøÁî®removeTreeNode()ÁßªÈô§Ê†ëËäÇÁÇπ if (node instanceof TreeNode) ((TreeNode&lt;K,V&gt;)node).removeTreeNode(this, tab, movable); // üîπ Ëã•Ë¶ÅÂà†Èô§NodeËäÇÁÇπ‰∏äÁöÑÂÖÉÁ¥†ÔºàÂàöÂ•ΩÊòØÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºâÔºöÂ∞ÜËØ•ËäÇÁÇπËµãÂÄº‰∏∫‰∏ã‰∏™ÂÖÉÁ¥† else if (node == p) tab[index] = node.next; // üîπ Ëã•Ë¶ÅÂà†Èô§ÈìæË°®ËäÇÁÇπÔºöÊåáÂêëÂÖ∂‰∏ã‰∏™ÂÖÉÁ¥†ÁöÑnextÔºåÂ∞ÜÈìæË°®ÈìæÊé•Ëµ∑Êù•„ÄÇ else p.next = node.next; ++modCount; // ËÆ∞ÂΩï‰øÆÊîπÊ¨°Êï∞ÔºàÂèØ‰ª•Âà§Êñ≠ÊòØÂê¶‰øÆÊîπÊàêÂäüÔºâ --size; // Êï∞ÁªÑÈïøÂ∫¶Ëá™Âáè afterNodeRemoval(node); return node; &#125; &#125; return null;&#125; Ôºà3ÔºâPut() - Ê∑ªÂä†%%{ init: { 'themeVariables': { 'fontSize': '13px' } } }%% graph TD T([\"Â¶Ç‰ΩïÂêëHashMapÊ∑ªÂä†ÂÖÉÁ¥†Ôºü\"]):::p T --> B(\"ÂÖàÊ†πÊçÆkeyÊâæÂà∞Ê°∂‰Ωç\") B --> A([\"Âà§Êñ≠ÂΩìÂâçÁ¥¢ÂºïÊòØÂê¶Â∞±ÊòØË¶ÅÊ∑ªÂä†ÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆ\"]):::lp A --> |\"Êó†ÂÖÉÁ¥†\"| C2[\"Áõ¥Êé•Â∞ÜÂÖÉÁ¥†Ê∑ªÂä†Âà∞ËØ•‰ΩçÁΩÆ\"]:::b A --> |\"ÊúâÂÖÉÁ¥†ÔºàÊúâhashÂÜ≤Á™ÅÔºâ\"| C([\"Âà§Êñ≠‰∏∫ÈìæË°®ÊàñÁ∫¢ÈªëÊ†ë\"]):::lp C --> |\"ÈìæË°®\"|a[\"Â∞ÜÂÖÉÁ¥†Ê∑ªÂä†Âà∞ÈìæË°®Â∞æÈÉ®\"]:::b C --> |\"Á∫¢ÈªëÊ†ë\"|b[\"Â∞ÜÂÖÉÁ¥†Ê∑ªÂä†Âà∞Ê†ëÂ∞æÈÉ®\"]:::b a -.- at[\"ÈìæË°®ÈïøÂ∫¶Ë∂ÖËøá8„ÄÅ‰∏îÊ°∂Êï∞ÈáèÂ§ß‰∫é64Êó∂ËΩ¨‰∏∫Ê†ëÔºà*Ê°∂Êï∞Â∞è‰∫é64Êó∂‰∏ç‰ºöÊ†ëÂåñÔºåÂè™‰ºöÊâ©ÂÆπÔºâ\"]:::info classDef info fill:#f6f6f7,color:#737379stroke-width: 3px, stroke-dasharray: 3 3 classDef p fill:#ddaebd classDef b fill:#d9dfeb classDef lp fill: #f4e4e9 + put() Ê∑ªÂä†ÂÖÉÁ¥†/** * Associates the specified value with the specified key in this map. If the map previously contained a mapping for the key, the old value is replaced. * Â≠òÂÄºÔºöÂ∞ÜÊåáÂÆöÂÄº‰∏éÊ≠§Êò†Â∞Ñ‰∏≠ÁöÑÊåáÂÆöÈîÆÁõ∏ÂÖ≥ËÅî„ÄÇÂ¶ÇÊûúÊò†Â∞ÑÂÖàÂâçÂåÖÂê´ÈîÆÁöÑÊò†Â∞ÑÔºåÂàôÂ∞ÜÊõøÊç¢ÊóßÂÄº„ÄÇ * * @param key * @param value * @return ËøîÂõûË¢´ÊõøÊç¢ÁöÑÂéüÂÄº */public V put(K key, V value) &#123; // Ë∞ÉÁî®putVal()ÊñπÊ≥ïÂ≠òÂÄº return putVal(hash(key), key, value, false, true);&#125; - putVal() ËµãÂÄºÊñπÊ≥ïÔºàËã•keyÂ∑≤ÊúâÂÄºÊó∂ÈªòËÆ§ÊõøÊç¢Ôºâ/** * Implements Map.put and related methods. * ÂÆûÁé∞‰∫ÜMapËµãÂÄº‰ª•ÂèäÁõ∏ÂÖ≥ÊñπÊ≥ï„ÄÇ * * @param hash keyÁöÑhashÂÄº * @param key keyÂÄº * @param value ÈúÄË¶ÅËµãÁöÑÂÄº * @param onlyIfAbsent ÊòØÂê¶‰øùÁïôÂéüÂÄºÔºàÈªòËÆ§‰∏∫falseÔºö‰ºöÊõøÊç¢ÂéüÂÄºÔºâ * @param evict false:Ë°®Â§Ñ‰∫éÂàõÂª∫Áä∂ÊÄÅ * @return ËøîÂõûÂâçÂÄºÔºåÂ¶ÇÊûúÊ≤°ÊúâÂàô‰∏∫Á©∫ */final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) &#123; Node&lt;K,V&gt;[] tab; // NodeÊï∞ÁªÑ Node&lt;K,V&gt; p; // Node int n, i; // nÔºöÊï∞ÁªÑÈïøÂ∫¶Ôºå iÔºöÊï∞ÁªÑÁ¥¢Âºï // üî¥ ‰∏Ä„ÄÅËã•Á©∫Êï∞ÁªÑÔºöÂàùÂßãÂåñ // ÂΩìÊï∞ÁªÑ‰∏∫Á©∫„ÄÅÈïøÂ∫¶‰∏∫0Êó∂ÔºöÊâ©ÂÆπÔºåÂπ∂Ëé∑ÂæóNodeÊï∞ÁªÑÈïøÂ∫¶nÔºàÂÆπÈáèÔºâ if ((tab = table) == null || (n = tab.length) == 0) n = (tab = resize()).length; // üî¥ ‰∫å„ÄÅËã•Á©∫Á¥¢ÂºïÔºöÁõ¥Êé•Â≠ò // Ëã•‰º†ÂÖ•ÁöÑkeyËÆ°ÁÆóÂá∫ÁöÑÁ¥¢Âºï‰ΩçÁΩÆÊó†ÂÖÉÁ¥†ÔºåÂàô‰ΩøÁî®ÈîÆÂÄºÂØπÂú®ËØ•‰ΩçÁΩÆ‰∏äÂàõÂª∫NodeÔºåputVal()ÂÆåÊàê„ÄÇ if ((p = tab[i = (n - 1) &amp; hash]) == null) tab[i] = newNode(hash, key, value, null); // üî¥ ‰∏â„ÄÅËã•Á¥¢ÂºïÈùûÁ©∫ÔºöÊ†πÊçÆÊÉÖÂÜµÂ≠òÂÄº // ÂèØËÉΩÊúâhashÂÜ≤Á™ÅÔºåÂà§Êñ≠ËØ•NodeÊòØÂê¶‰∏∫ÈìæË°®ÊàñÁ∫¢ÈªëÊ†ëËøõË°åÂ≠òÂÄº„ÄÇ else &#123; Node&lt;K,V&gt; e; // node K k; // key // üîπ Ëã•pÂàöÂ•ΩÂú®ÂΩìÂâçÁ¥¢Âºï‰ΩçÁΩÆÁöÑÁ¨¨‰∏Ä‰∏™ËäÇÁÇπ‰∏äÔºàÊú™Ê∂âÂèäÂà∞ÈìæË°®ÊàñÁ∫¢ÈªëÊ†ëÔºâÔºåÂ∞ÜËØ•NodeËµãÂÄºÁªôe‰ª•Â§áÂ≠òÂÄºÔºàÂΩìÂâçNodeÁöÑkeyÂÄºÂíå‰º†ÂÖ•ÁöÑkeyÂÄºÁõ∏Á≠âÔºâ if (p.hash == hash &amp;&amp; ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) e = p; // üîπ TreeNodeÁ±ªÂûãÔºöÈÄöËøáputTreeVal()ÊñπÊ≥ïÂú®Á∫¢ÈªëÊ†ë‰∏äÊèíÂÖ•ÈîÆÂÄºÂØπÔºåËµãÂÄºÁªôe‰ª•Â§áÂ≠òÂÄº„ÄÇ else if (p instanceof TreeNode) e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value); // üîπ ÈìæË°®Á±ªÂûãÔºöÂæ™ÁéØÁõ¥Âà∞Â∞ÜÂÖÉÁ¥†ÊèíÂÖ•ÈìæË°®Â∞æÈÉ®ÔºåËµãÂÄºÁªôe‰ª•Â§áÂ≠òÂÄº„ÄÇ else &#123; for (int binCount = 0; ; ++binCount) &#123; // binCountÔºöÈìæË°®ËäÇÁÇπ‰∏™Êï∞ // üî∏ Ëã•Â∑≤ÈÅçÂéÜÂà∞ÈìæË°®Â∞æÈÉ®Ôºö‰ΩøÁî®newNode()Âú®Â∞æÈÉ®ÂÜçÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ËäÇÁÇπÂπ∂Â≠òÂÄº„ÄÇ if ((e = p.next) == null) &#123; p.next = newNode(hash, key, value, null); // * Ëã•Ê∑ªÂä†ËäÇÁÇπÂêéÈìæË°®ÁöÑÈïøÂ∫¶Ë∂ÖËøáÊ†ëÂåñÈòàÂÄºÔºö // ÈÄöËøátreeifyBin()Â∞ÜÈìæË°®ËΩ¨Âåñ‰∏∫Á∫¢ÈªëÊ†ëÔºåË∑≥Âá∫Âæ™ÁéØÔºåputVal()ÂÆåÊàê„ÄÇ if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st treeifyBin(tab, hash); break; &#125; // üî∏ Ëã•ËøòÊú™ÈÅçÂéÜÂà∞Â∞æÈÉ®„ÄÅ‰∏îËØ•ËäÇÁÇπÁöÑkeyÂÄº‰∏é‰º†ÂÖ•keyÂÄºÁõ∏Á≠âÔºö // ÂàôË∑≥Âá∫Âæ™ÁéØÔºåÊâßË°å‰∏ãÊñπÊõøÊç¢ÂéüÂÄºÁöÑÂà§Êñ≠„ÄÇ if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) break; // üî∏ ÁªßÁª≠Âæ™ÁéØÈÅçÂéÜÈìæË°® p = e; &#125; &#125; // üîª ÊõøÊç¢Âπ∂ËæìÂá∫ÂéüÂÄºÔºàkeyÂ∑≤ÊúâÂÄºÊó∂Ôºâ if (e != null) &#123; // existing mapping for key V oldValue = e.value; // Ëã•ËÆæÁΩÆ‰∫ÜÊõøÊç¢ÂéüÂÄº„ÄÅÊàñÂéüÂÄº‰∏∫Á©∫Êó∂ÔºöÂ≠òÂÄº if (!onlyIfAbsent || oldValue == null) e.value = value; afterNodeAccess(e); // ËÆøÈóÆÂêéÂõûË∞ÉÔºà‚ùì return oldValue; &#125; &#125; ++modCount; // ËÆ∞ÂΩï‰øÆÊîπÊ¨°Êï∞ÔºàÊñπ‰æøÂú®Ëø≠‰ª£‰∏≠Ê£ÄÊµãÁªìÊûÑÊÄßÂèòÂåñÔºâ // üîª Ëã•Â≠òÂÄºÂêéÂÖÉÁ¥†Êï∞ÈáèÂ§ß‰∫éÊâ©ÂÆπÈòàÂÄºÔºåÂàôÊâ©ÂÆπ„ÄÇ if (++size &gt; threshold) resize(); afterNodeInsertion(evict); // ÊèíÂÖ•ÂêéÂõûË∞ÉÔºà‚ùì return null;&#125; ÊØîËæÉÊó∂ÂÖàÊØîËæÉhashÂÄºÔºåhashÁõ∏ÂêåÁöÑÊó∂ÂÄôÔºåÂÜç‰ΩøÁî®equalsÊñπÊ≥ïËøõË°åÊØîËæÉÔºöif(e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) Âõ†‰∏∫hashÊòØÊï¥Êï∞ÔºåÊØîËæÉÁöÑÊÄßËÉΩ‰∏ÄËà¨Ë¶ÅÊØîequals()È´òÂæàÂ§öÔºå‰ΩøÁî®Áü≠Ë∑Ø‰∏éÔºöhash‰∏çÂêåÔºåÂ∞±Ê≤°ÊúâÂøÖË¶ÅË∞ÉÁî®equalsÊñπÊ≥ï‰∫ÜÔºåËøôÊ†∑Êï¥‰Ωì‰∏äÂèØ‰ª•ÊèêÈ´òÊØîËæÉÊÄßËÉΩ„ÄÇ + putIfAbsent() ËµãÂÄºÔºå‰∏îÂ∑≤ÊúâÂÄºÊó∂‰∏çËøõË°åË¶ÜÁõñ@Overridepublic V putIfAbsent(K key, V value) &#123; // üîª ‰∏éÈªòËÆ§ÁöÑput()Âå∫Âà´Âú®‰∫éÁ¨¨Âõõ‰∏™ÂèÇÊï∞ÔºöonlyIfAbsentÔºà‰∏∫trueÊó∂‰∏çË¶ÜÁõñÂéüÂÄºÔºâ return putVal(hash(key), key, value, true, true);&#125; Ôºà4Ôºâ*Resize() - Êâ©ÂÆπ‚ë† ‰ΩïÊó∂Êâ©ÂÆπ%%{ init: { 'themeVariables': { 'fontSize': '14px' } } }%% graph TD T([\"HashMap‰ΩïÊó∂ÈúÄË¶ÅÊâ©ÂÆπÔºü\"]):::p T --> |\"1. ÂàùÂßãÂåñ\"| A(\"1. table‰∏∫null ÊàñÈïøÂ∫¶‰∏∫0Êó∂\"):::lp T --> |\"2. Â≠òÂÄº\"| B(\"2. Ê∑ªÂä†ÂÖÉÁ¥†‰∏îÂÖÉÁ¥†Êï∞ÈáèÂç≥Â∞ÜË∂ÖËøáÊâ©ÂÆπÈòàÂÄºÔºàthresholdÔºâÊó∂\"):::lp B -.- |\"hreshold ÂèØ‰ª•Áî± tableSizeFor() ËÆ°ÁÆóÂæóÂà∞\"| b[\"tableSizeFor()ÔºöÂèØ‰ª•ËÆ°ÁÆóÂá∫Â§ß‰∫éÂΩìÂâçÊñπÊ≥ïÂÖ•ÂèÇÂÄºÔºåÂπ∂‰∏îÂíåÂΩìÂâçÊñπÊ≥ïÂÖ•ÂèÇÂÄºÊúÄÊé•ËøëÁöÑ2ÁöÑÂπÇÊï∞„ÄÇ\"]:::info classDef p fill: #ddaebd classDef lp fill: #f4e4e9 classDef lb fill: #d9dfeb classDef info fill:#f6f6f7,color:#737379, stroke-width: 2px, stroke-dasharray: 3 3 ‚ë° Â¶Ç‰ΩïÊâ©ÂÆπ %%{ init: { 'themeVariables': { 'fontSize': '14px' } } }%% graph TD T([\"HashMapÂ¶Ç‰ΩïÊâ©ÂÆπÔºü\"]):::p T --> A(\"2ÂÄçÊâ©ÂÆπÔºåÂàõÂª∫Êñ∞Êï∞ÁªÑ\") A --> B(\"ÁßªÂä®ÂÖÉÁ¥†Âà∞Êñ∞Êï∞ÁªÑÔºàÈáçÊñ∞ËÆ°ÁÆóhashÔºâ\") B --> b([\"Âà§Êñ≠ÂÖÉÁ¥†Á±ªÂûãË∞ÉÊï¥‰ΩçÁΩÆ\"]):::lp b -.-|\"Âçï‰∏™ÂÄº\"| b1[\"‚ë†Âéü‰ΩçÁΩÆ‚ë° Âéü‰ΩçÁΩÆ + ÂéüÂÆπÈáè\"]:::lb b -.-|\"Á∫¢ÈªëÊ†ë\"| b2[\"split()ÂàÜÂâ≤Ê†ë‚ë†‰∏ÄÊ£µÔºöÂéü‰ΩçÁΩÆ‚ë°Âè¶‰∏ÄÊ£µÔºöÂéü‰ΩçÁΩÆ + ÂéüÂÆπÈáè\"]:::lb b -.-|\"ÈìæË°®\"| b3[\"‚ë†‰Ωé‰ΩçÈìæË°®ÔºöÂéü‰ΩçÁΩÆ‚ë°È´ò‰ΩçÈìæË°®ÔºöÂéü‰ΩçÁΩÆ + ÂéüÂÆπÈáè\"]:::lb b2 -.- b2t[\"Ëã•Ê†ëËäÇÁÇπÊï∞Èáè‚â§6ÔºöËΩ¨ÈìæË°®\"]:::info classDef p fill: #ddaebd classDef lp fill: #f4e4e9 classDef lb fill: #d9dfeb classDef info fill:#f6f6f7,color:#737379, stroke-width: 2px, stroke-dasharray: 3 3 Ë∞ÉÊï¥‰ΩçÁΩÆÁöÑÂéüÂõ†Ôºö Âõ†‰∏∫HashMapËÆ°ÁÆóÁ¥¢Âºï‰ΩçÁΩÆÊòØÊ†πÊçÆhashÂÄº &amp; (ÂΩìÂâçÂÆπÈáè -1)ÔºåÂõ†Ê≠§ÂΩìÂÆπÈáèÊîπÂèòÊó∂Ôºå‰∏Ä‰∫õÂéüÊú¨ÁöÑÁ¥¢Âºï‰ΩçÁΩÆ‰πü‰ºöÂèëÁîüÊîπÂèò„ÄÇÊâ©ÂÆπÁöÑÂêåÊó∂ÈáçÊñ∞Ë∞ÉÊï¥ÂÖÉÁ¥†‰ΩçÁΩÆÔºåÂèñÂÄºÊó∂ÊâçËÉΩÊ≠£Á°ÆÂåπÈÖçÂà∞Áõ∏Â∫îÁöÑÈîÆÂÄºÂØπ„ÄÇ ‚ë¢ Â¶Ç‰ΩïË∞ÉÊï¥‰ΩçÁΩÆ ÂÖÉÁ¥†‰ΩçÁΩÆÂ¶Ç‰ΩïÊîπÂèòÔºü %%{ init: { 'themeVariables': { 'fontSize': '14px' } } }%% graph TD T([\"ÂÖÉÁ¥†‰ΩçÁΩÆÂ¶Ç‰ΩïÊîπÂèòÔºü\"]):::p T --> A(\"hashÂÄº & ÂéüÈïøÂ∫¶\"):::lb A --> a[\"ÁªìÊûú‰∏∫0Ôºå‰ΩçÁΩÆ‰∏çÂèò\"]:::lp A --> b[\"ÁªìÊûú‰∏∫1ÔºåÂú®Êñ∞‰ΩçÁΩÆ\"]:::lp a -.- at[\"Â¶ÇÔºåÂéühashÂÄº=3ÔºàÂéü‰ΩçÁΩÆ=3ÔºâÔºåÊï∞ÁªÑÈïøÂ∫¶16Ôºå hash & 16Ôºö 0000 0011 // 3 0001 0000 // 16 0000 0000 // =0ÂàôÔºåÊñ∞‰ΩçÁΩÆ = Âéü‰ΩçÁΩÆ = 3\"]:::info b -.- bt[\"Â¶ÇÔºåÂéühashÂÄº=19ÔºàÂéü‰ΩçÁΩÆ=3ÔºâÔºåÊï∞ÁªÑÈïøÂ∫¶16Ôºåhash & 16Ôºö 0001 0011 // 19 0001 0000 // 16 0001 0000 // =1ÂàôÔºåÊñ∞‰ΩçÁΩÆ = Âéü‰ΩçÁΩÆ + ÂéüÂÆπÈáè = 19\"]:::info classDef p fill: #ddaebd classDef lp fill: #f4e4e9 classDef lb fill: #d9dfeb classDef info fill:#f6f6f7,color:#737379, stroke-width: 2px, stroke-dasharray: 3 3 Êª°Ë∂≥‚Äú(e.hash &amp; oldCap)==0‚ÄùÊù°‰ª∂ÁöÑËäÇÁÇπÂèØ‰ª•ÁªßÁª≠Âú®ÂéüÁ¥¢Âºï‰Ωç‰∏äÂ≠òÂÇ®Ôºå‰∏çÊª°Ë∂≥ËØ•Êù°‰ª∂ÁöÑËäÇÁÇπÂàôÈúÄË¶ÅËøõË°åÁßªÂä®Êìç‰Ωú„ÄÇ HashMap‰∏≠ÔºåtableÊï∞ÁªÑÈÉΩÊòØ‰ª•2ÁöÑÂπÇÊï∞ËøõË°åÊâ©ÂÆπÊìç‰ΩúÁöÑÔºåÂ∞±ÊòØÂ∞ÜÂéüÂÆπÈáèÂÄºÂ∑¶Áßª1‰Ωç„ÄÇ Âõ†Ê≠§ËøõË°åÊâ©ÂÆπÊìç‰ΩúÂêéÔºåÂêÑ‰∏™K-VÈîÆÂÄºÂØπËäÇÁÇπÊòØÂê¶‰ªçËÉΩÂú®ÂéüÁ¥¢Âºï‰Ωç‰∏äÔºåÂèñÂÜ≥‰∫éÊñ∞Â¢ûÁöÑ‰∏Ä‰ΩçÔºàoldCapÁöÑÂÄºÔºâÂú®ËøõË°å‰∏éËøêÁÆóÊó∂ÊòØÂê¶‰∏∫0„ÄÇ ÈìæË°®ÂÖÉÁ¥†ÁßªÂä®Ôºö Êª°Ë∂≥‚Äú(e.hash &amp; oldCap)==0‚ÄùÊù°‰ª∂ÁöÑËäÇÁÇπ‰ºöÊûÑÊàêÊñ∞ÁöÑÂçïÂêëÈìæË°®ÔºåËøô‰∏™ÈìæË°®‰∏≠ÁöÑËäÇÁÇπ‰ºöÊåâÁÖßÂéüÁ¥¢Âºï‰ΩçÈ°∫Â∫èÂ≠òÂÇ®‰∫éÊñ∞ÁöÑHashMapÈõÜÂêàÁöÑtableÊï∞ÁªÑ‰∏≠Ôºõ Êª°Ë∂≥‚Äú(e.hash &amp;oldCap) !=0‚ÄùÊù°‰ª∂ÁöÑËäÇÁÇπ‰ºöÊûÑÊàêÂè¶‰∏Ä‰∏™Êñ∞ÁöÑÂçïÂêëÈìæË°®ÔºåÂπ∂‰∏îÂ∞ÜÂéüÁ¥¢ÂºïÂÄº+ÂéüÊï∞ÁªÑÈïøÂ∫¶ÁöÑËÆ°ÁÆóÁªìÊûú‰Ωú‰∏∫Êñ∞ÁöÑÁ¥¢ÂºïÂÄºÂ≠òÂÇ®‰∫éÊñ∞ÁöÑHashMapÈõÜÂêàÁöÑtableÊï∞ÁªÑ‰∏≠„ÄÇ Á∫¢ÈªëÊ†ëÂÖÉÁ¥†ÁßªÂä®Ôºö Â∞ÜËøôÊ£µÁ∫¢ÈªëÊ†ëÊãÜÂàÜÊàê‰∏§Ê£µÊñ∞ÁöÑÁ∫¢ÈªëÊ†ëÔºöÔºàËã•Á∫¢ÈªëÊ†ë‰∏≠ËäÇÁÇπÊï∞‚â§6Ôºå‰ºöÂ∞ÜÊ†ëÁªìÊûÑËΩ¨‰∏∫ÈìæË°®ÁªìÊûÑÔºâ‚ë† ‰∏ÄÊ£µÁ∫¢ÈªëÊ†ëÔºàÊàñÈìæË°®ÔºâÁïôÂú®ÂéüÁ¥¢Âºï‰Ωç‰∏äÔºå‚ë° Âè¶‰∏ÄÊ£µÁ∫¢ÈªëÊ†ëÔºàÊàñÈìæË°®ÔºâÊîæÂà∞ÂéüÁ¥¢ÂºïÂÄº+ÂéüÊï∞ÁªÑÂÆπÈáèÂÄºËÆ°ÁÆóÁªìÊûúÂØπÂ∫îÁöÑÊñ∞Á¥¢Âºï‰Ωç‰∏ä„ÄÇ - resize() Êâ©ÂÆπ/** * Initializes or doubles table size. If null, allocates in accord with initial capacity target held in field threshold. * Otherwise, because we are using power-of-two expansion, the elements from each bin must either stay at same index, or move with a power of two offset in the new table. * ÂàùÂßãÂåñÊàñ‰∫åÂÄçÊâ©ÂÆπ„ÄÇËã•‰∏∫Á©∫ÔºåÊ†πÊçÆÈòàÂÄºÂíåÂàùÂßãÂÆπÈáèÂàÜÈÖç„ÄÇ * Áî±‰∫é‰ΩøÁî®2Ê¨°ÂπÇÊâ©ÂÆπÔºåÂõ†Ê≠§ÊØè‰∏™ÂÖÉÁ¥†‰øùÊåÅÁõ∏ÂêåÁ¥¢ÂºïÔºåÊàñÂú®Êñ∞Ë°®‰∏≠‰ª•‰∫åÊ¨°ÂπÇÂÅèÁßªÈáèÁßªÂä®„ÄÇ * * @return table*/final Node&lt;K,V&gt;[] resize() &#123; Node&lt;K,V&gt;[] oldTab = table; // Âéütable int oldCap = (oldTab == null) ? 0 : oldTab.length; // Êâ©ÂÆπÂâçÁöÑtableÈïøÂ∫¶ÔºåËã•Êó†ÂÖÉÁ¥†ËøîÂõû0 int oldThr = threshold; // ÂéüÈòàÂÄº int newCap, newThr = 0; // Êñ∞ÈïøÂ∫¶„ÄÅÊñ∞ÈòàÂÄº // üî¥ ‰∏Ä„ÄÅËÆæÁΩÆÊâ©ÂÆπÈòàÂÄº // üîπ ‚ë† Ëã•Â∑≤ÂàùÂßãÂåñ(ÂéüÊï∞ÁªÑÊúâÂÖÉÁ¥†)ÔºöÊ£ÄÊü•Êï∞ÁªÑÈïøÂ∫¶Âπ∂ËÆæÁΩÆ2ÂÄçÊâ©ÂÆπÈòàÂÄº„ÄÇ if (oldCap &gt; 0) &#123; // üî∏ Ëã•ÂéüÊï∞ÁªÑÈïøÂ∫¶Ë∂ÖËøáÊúÄÂ§ßÂÆπÈáèÂÄºÔºö‚Äî&gt; Â∑≤Âà∞ËææÂÆπÈáè‰∏äÂÄºÔºåÊó†Ê≥ïÂÜçÊâ©ÂÆπÔºåËøîÂõûÂéüË°®„ÄÇ if (oldCap &gt;= MAXIMUM_CAPACITY) &#123; threshold = Integer.MAX_VALUE; return oldTab; &#125; // üî∏ Ëã•ÂéüÊï∞ÁªÑÈïøÂ∫¶2ÂÄçÊâ©ÂÆπÂêé‰ªçÊú™Ë∂ÖËøáÂÆπÈáè‰∏äÈôêÔºå‰∏îÂéüÊï∞ÁªÑÈïøÂ∫¶Ë∂ÖËøá‰∫ÜÈªòËÆ§ÂàùÂßãÂÆπÈáèÔºö‚Äî&gt; ÂéüÊâ©ÂÆπÈòàÂÄºËÆæÁΩÆ‰∏∫2ÂÄç„ÄÇ else if ((newCap = oldCap &lt;&lt; 1) &lt; MAXIMUM_CAPACITY &amp;&amp; oldCap &gt;= DEFAULT_INITIAL_CAPACITY) newThr = oldThr &lt;&lt; 1; // double threshold &#125; // üîπ ‚ë° Ëã•Êú™ÂàùÂßãÂåñ(ÂéüÊï∞ÁªÑÊó†ÂÖÉÁ¥†)Ôºå‰ΩÜÂ∑≤ËÆæÁΩÆËøáÊâ©ÂÆπÈòàÂÄº(&gt;0) ÔºöÂ∞ÜÊñ∞Êï∞ÁªÑÈïøÂ∫¶ËÆæÁΩÆ‰∏∫ËØ•Êâ©ÂÆπÈòàÂÄº„ÄÇ else if (oldThr &gt; 0) // initial capacity was placed in threshold newCap = oldThr; // üîπ ‚ë¢ Ëã•Êú™ÂàùÂßãÂåñ(ÂéüÊï∞ÁªÑÊó†ÂÖÉÁ¥†)Ôºå‰∏îÊú™ËÆæÁΩÆËøáÊâ©ÂÆπÈòàÂÄºÔºö‰ΩøÁî®Á≥ªÁªüËÆæÁΩÆÁöÑÈªòËÆ§Êï∞ÁªÑÈïøÂ∫¶ÂíåÈªòËÆ§ÈòàÂÄºËµãÂÄº„ÄÇ else &#123; // zero initial threshold signifies using defaults newCap = DEFAULT_INITIAL_CAPACITY; newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY); &#125; // üî¥ ‰∫å„ÄÅÊ£ÄÊü•Êâ©ÂÆπÈòàÂÄº // Ëã•Êñ∞Êâ©ÂÆπÈòàÂÄº‰ªç‰∏∫0Ôºö‰ΩøÁî®Êñ∞Êï∞ÁªÑÈïøÂ∫¶ËÆ°ÁÆóÊñ∞ÁöÑÊâ©ÂÆπÈòàÂÄºÔºàÂπ∂Â∞ÜÊï∞ÁªÑÈïøÂ∫¶ÈôêÂà∂Âú®ÊúÄÂ§ßÂÆπÈáè‰∏äÈôêÂÜÖÔºâ if (newThr == 0) &#123; float ft = (float)newCap * loadFactor; newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (float)MAXIMUM_CAPACITY ? (int)ft : Integer.MAX_VALUE); &#125; // ËÆæÁΩÆÊâ©ÂÆπÈòàÂÄº threshold = newThr; // üî¥ ‰∏â„ÄÅÊâ©ÂÆπ @SuppressWarnings(&#123;&quot;rawtypes&quot;,&quot;unchecked&quot;&#125;) // üîπ Êñ∞Âª∫Êï∞ÁªÑ Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])new Node[newCap]; // ‰ΩøÁî®Êñ∞ÁöÑÊï∞ÁªÑÈïøÂ∫¶ÂàõÂª∫Êñ∞Êï∞ÁªÑ table = newTab; // üîπ ÁßªÂä®ÂÖÉÁ¥†Âà∞Êñ∞Êï∞ÁªÑ // - Ëã•ÂéüÊï∞ÁªÑ‰∏∫Á©∫ÔºåÊó†ÈúÄÁßªÂä®ÔºåÁõ¥Êé•ËøîÂõûËØ•Êï∞ÁªÑ„ÄÇ // - Ëã•ÂéüÊï∞ÁªÑÈùûÁ©∫ÔºöÁßªÂä®Êï∞ÊçÆÂà∞Êñ∞Êï∞ÁªÑ„ÄÇ if (oldTab != null) &#123; // üî∏ Â§ñÂ±ÇÂæ™ÁéØÔºöÈÅçÂéÜÂéüÊï∞ÁªÑÂÖÉÁ¥† for (int j = 0; j &lt; oldCap; ++j) &#123; Node&lt;K,V&gt; e; if ((e = oldTab[j]) != null) &#123; // Ê∏ÖÁ©∫ÂéüÂÄºÔºå‰æø‰∫éGCÂõûÊî∂„ÄÇ oldTab[j] = null; // ‚ë† Âçï‰∏™ÂÄº if (e.next == null) newTab[e.hash &amp; (newCap - 1)] = e; // Âéü‰Ωç Êàñ +ÊóßÂÆπÈáèoldCap // ‚ë° Á∫¢ÈªëÊ†ëÔºöÂàÜÂâ≤ else if (e instanceof TreeNode) ((TreeNode&lt;K,V&gt;)e).split(this, newTab, j, oldCap); // ‚ë¢ ÈìæË°®Ôºö else &#123; // preserve order // ‰Ωé‰ΩçÈìæË°®Ôºö‰ΩçÁΩÆ‰∏çÂèò Node&lt;K,V&gt; loHead = null, loTail = null; // È´ò‰ΩçÈìæË°®Ôºö‰ΩçÁΩÆ + ÂÆπÈáè Node&lt;K,V&gt; hiHead = null, hiTail = null; Node&lt;K,V&gt; next; // üî∏ ÂÜÖÂ±ÇÂæ™ÁéØÔºöËÆ°ÁÆóÊñ∞ËäÇÁÇπÁöÑÁ¥¢Âºï‰ΩçÁΩÆ„ÄÇ do &#123; next = e.next; // trueÔºö‰ΩçÁΩÆ‰∏çÂèòÔºà‰Ωé‰ΩçÈìæË°®Ôºâ if ((e.hash &amp; oldCap) == 0) &#123; if (loTail == null) loHead = e; else loTail.next = e; loTail = e; &#125; // falseÔºö‰ΩçÁΩÆ + ÂÆπÈáèÔºàÈ´ò‰ΩçÈìæË°®Ôºâ else &#123; if (hiTail == null) hiHead = e; else hiTail.next = e; hiTail = e; &#125; &#125; while ((e = next) != null); // ‰Ωé‰ΩçÈìæË°®ËµãÂÄº if (loTail != null) &#123; loTail.next = null; newTab[j] = loHead; &#125; // È´ò‰ΩçÈìæË°®ËµãÂÄº if (hiTail != null) &#123; hiTail.next = null; newTab[j + oldCap] = hiHead; &#125; &#125; &#125; &#125; &#125; // üîπ ËøîÂõûÊñ∞Êï∞ÁªÑ return newTab;&#125; 5. ÂÜÖÈÉ®Á±ªÔºà1ÔºâNode HashMap.NodeÁ±ªÔºö /** * Basic hash bin node, used for most entries. (See below for TreeNode subclass, and in LinkedHashMap for its Entry subclass.) * Âü∫Êú¨hashÁöÑbinËäÇÁÇπÔºåÁî®‰∫éÂ§ßÈÉ®ÂàÜËäÇÁÇπ„ÄÇÔºàTreeNodeÂ≠êÁ±ªËßÅ‰∏ãÊñáÔºåEntryÂ≠êÁ±ªËßÅLinkedHashMap„ÄÇÔºâ */static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; &#123; final int hash; final K key; // finalÔºöÁî±‰∫ékeyÊòØËÆ°ÁÆóÂÖÉÁ¥†ÊéíÂàó‰ΩçÁΩÆÁöÑ‰æùÊçÆÔºåÂõ†Ê≠§‰∏ÄÊó¶ÂàùÂßãÂåñÂ∞±‰∏çÂÖÅËÆ∏ÊîπÂèò„ÄÇ V value; Node&lt;K,V&gt; next; // ‰∏ã‰∏Ä‰∏™ËäÇÁÇπÔºàÂõ†‰∏∫ÈúÄË¶ÅÁî®NodeËäÇÁÇπÊûÑÂª∫ÂçïÂêëÈìæË°®Ôºâ Node(int hash, K key, V value, Node&lt;K,V&gt; next) &#123; this.hash = hash; this.key = key; this.value = value; this.next = next; &#125; public final K getKey() &#123; return key; &#125; public final V getValue() &#123; return value; &#125; public final String toString() &#123; return key + &quot;=&quot; + value; &#125; // üîª ÈáçÂÜôhashCode()ÔºöÂ∞ÜkeyÁöÑHashÂÄº„ÄÅvalueÁöÑHashÂÄºËøõË°åÂºÇÊàñËøêÁÆó„ÄÇ public final int hashCode() &#123; return Objects.hashCode(key) ^ Objects.hashCode(value); &#125; public final V setValue(V newValue) &#123; V oldValue = value; value = newValue; return oldValue; &#125; // üîª ÈáçÂÜôequals() public final boolean equals(Object o) &#123; // üîπ ‚ë† Âà§Êñ≠‰∏§‰∏™ËäÇÁÇπÁöÑÂÜÖÂ≠òËµ∑ÂßãÂú∞ÂùÄÁõ∏Âêå if (o == this) return true; // üîπ ‚ë° Âà§Êñ≠‰∏§‰∏™MapÁ±ªÂûãËäÇÁÇπÁöÑkeyÂíåvalueÂÄºÈÉΩÁõ∏Á≠â if (o instanceof Map.Entry) &#123; Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o; if (Objects.equals(key, e.getKey()) &amp;&amp; Objects.equals(value, e.getValue())) return true; &#125; return false; &#125;&#125; ÈáçÂÜôHashCode() JavaÂÆòÊñπÂØπÈáçÂÜôÂØπË±°ÁöÑ hashCode() ÊñπÊ≥ïÊúâ‰∏•Ê†ºÁöÑË¶ÅÊ±Ç ‚Äî‚Äî Ëã•ÈáçÂÜô hashCode() ÊñπÊ≥ïÔºåÂàôÈúÄË¶ÅÈáçÂÜôÁõ∏Â∫îÁöÑ equals() ÊñπÊ≥ï„ÄÇ Ë°•ÂÖÖÔºöObjectsÂ∑•ÂÖ∑Á±ª graph LR T([\"ObjectsÂ∑•ÂÖ∑Á±ª\"]):::p T --> A(\"Êèê‰æõ‰∫ÜËøõË°åÂØπË±°ÊØîËæÉ„ÄÅÊ£ÄÈ™åÁöÑÂü∫Êú¨Êìç‰Ωú\"):::lb A --> 1([\"compare(T, S, Comparator)\"]):::lp A --> 2([\"hashCode(Object)\"]):::lp A --> 3([\"hashCode(Object[])\"]):::lp A --> 4(\"isNull(Object)„ÄÅnonNull(Object)„ÄÅrequireNonNull(Object)Á≠â\"):::lp A --> 5([\"toString(Object)\"]):::lp 1 -.- 1t[\"‰∏§‰∏™ÂØπË±°ÁöÑÊØîËæÉÊìç‰Ωú\"] 2 -.- 2t[\"ËÆ°ÁÆóÂØπË±°HashÂÄº\"] 3 -.- 3t[\"ËÆ°ÁÆóÂ§ö‰∏™ÂØπË±°ÁöÑHashÂÄºÁªÑÂêà\"] 4 -.- 4t[\"Ê†°È™åÊàñÁ°ÆËÆ§ÂΩìÂâçÂØπË±°ÊòØÂê¶‰∏∫Á©∫\"] 5 -.- 5t[\"ËøîÂõûÂØπË±°ÁöÑÂ≠óÁ¨¶‰∏≤‰ø°ÊÅØ\"] classDef p fill: #ddaebd classDef lp fill: #f4e4e9 classDef lb fill: #d9dfeb Ê†πÊçÆÂìàÂ∏åÂÄºÂ≠òÂèñÂØπË±°„ÄÅÊØîËæÉÂØπË±°ÊòØËÆ°ÁÆóÊú∫Á®ãÂ∫è‰∏≠‰∏ÄÁßçÈáçË¶ÅÁöÑÊÄùÁª¥ÊñπÂºè„ÄÇ ÂÆÉ‰ΩøÂæóÂ≠òÂèñÂØπË±°‰∏ªË¶Å‰æùËµñ‰∫éËá™Ë∫´HashÂÄºÔºåËÄå‰∏çÊòØ‰∏éÂÖ∂‰ªñÂØπË±°ËøõË°åÊØîËæÉÔºåÂ≠òÂèñÊïàÁéá‰πü‰∏éÈõÜÂêàÂ§ßÂ∞èÊó†ÂÖ≥ÔºåÈ´òËææO(1)ÔºåÂç≥‰ΩøËøõË°åÊØîËæÉÔºå‰πüÂà©Áî®HashÂÄºÊèêÈ´òÊØîËæÉÊÄßËÉΩ„ÄÇ Ôºà2ÔºâTreeNode TreeNode ÁªßÊâøËá™ LinkedHashMap.Entry Á±ª„ÄÇ HashMapÈõÜÂêà‰ΩøÁî® HashMap.TreeNode Á±ªÁöÑÂØπË±°Ë°®Á§∫Á∫¢ÈªëÊ†ë‰∏≠ÁöÑËäÇÁÇπÔºåÊù•ÊûÑÊàêÁ∫¢ÈªëÊ†ë„ÄÇ ‚ë† ÂΩìÊüê‰∏™Á¥¢Âºï‰Ωç‰∏äÁöÑÈìæË°®ÈïøÂ∫¶ËææÂà∞ÊåáÂÆöÁöÑÈòàÂÄºÔºàÈªòËÆ§‰∏∫ÂçïÂêëÈìæË°®ÈïøÂ∫¶Ë∂ÖËøá8ÔºâÊó∂ÔºåÂçïÂêëÈìæË°®‰ºöËΩ¨Âåñ‰∏∫Á∫¢ÈªëÊ†ëÔºõ‚ë° ÂΩìÁ∫¢ÈªëÊ†ë‰∏≠ÁöÑËäÇÁÇπË∂≥Â§üÂ∞ëÔºàÈªòËÆ§‰∏∫Á∫¢ÈªëÊ†ë‰∏≠ÁöÑËäÇÁÇπÊï∞ÈáèÂ∞ë‰∫é6‰∏™ÔºâÊó∂ÔºåÁ∫¢ÈªëÊ†ë‰ºöËΩ¨Êç¢‰∏∫ÂçïÂêëÈìæË°®„ÄÇ - Â±ûÊÄßstatic final class TreeNode&lt;K,V&gt; extends LinkedHashMap.Entry&lt;K,V&gt; &#123; // Áà∂ËäÇÁÇπ TreeNode&lt;K,V&gt; parent; // red-black tree links // Â∑¶ËäÇÁÇπ TreeNode&lt;K,V&gt; left; // Âè≥ËäÇÁÇπ TreeNode&lt;K,V&gt; right; // ÂâçËäÇÁÇπÔºöÂà†Èô§Êó∂ÈúÄË¶ÅÂèñÊ∂àÈìæÊé•&quot;next&quot; TreeNode&lt;K,V&gt; prev; // needed to unlink next upon deletion // ËäÇÁÇπÈ¢úËâ≤ÔºötrueÁ∫¢Ëâ≤ÔºõfalseÈªëËâ≤ boolean red; // ÊûÑÈÄ†ÊñπÊ≥ïÔºåÂèÇÊï∞ÔºöhashÂÄº„ÄÅkey„ÄÅvalue„ÄÅ‰∏ã‰∏Ä‰∏™NodeËäÇÁÇπ TreeNode(int hash, K key, V val, Node&lt;K,V&gt; next) &#123; super(hash, key, val, next); &#125; // ... // ËøòÊúâÊûÑÂª∫Á∫¢ÈªëÊ†ë„ÄÅËß£ÊûÑÁ∫¢ÈªëÊ†ë„ÄÅÊ∑ªÂä†ËäÇÁÇπ„ÄÅÁßªÈô§ËäÇÁÇπÁ≠âÊñπÊ≥ï&#125; - getTreeNode() Ëé∑ÂèñÁ∫¢ÈªëÊ†ëËäÇÁÇπ /** * Calls find for root node. * Ë∞ÉÁî®Êü•ÊâæÊ†πËäÇÁÇπ */final TreeNode&lt;K,V&gt; getTreeNode(int h, Object k) &#123; // üîª Ë∞ÉÁî®find()Êü•ÊâæËäÇÁÇπ return ((parent != null) ? root() : this).find(h, k, null); // Ëã•Ê†πËäÇÁÇπ‰∏ç‰∏∫Á©∫ÔºåË∞ÉÁî®rootËäÇÁÇπÊü•ÊâæÔºõËã•Ê†πËäÇÁÇπ‰∏∫Á©∫Ôºå‰ΩøÁî®thisÊü•Êâæ„ÄÇ&#125; - find() Êü•ÊâæÊ†ëËäÇÁÇπ /** * Finds the node starting at root p with the given hash and key. The kc argument caches comparableClassFor(key) upon first use comparing keys. * ‰ΩøÁî®ÁªôÂÆöÁöÑkeyÂíåhashÂÄºÊü•Êâæ‰ªéÊ†πpÂºÄÂßãÁöÑËäÇÁÇπ„ÄÇ */final TreeNode&lt;K,V&gt; find(int h, Object k, Class&lt;?&gt; kc) &#123; TreeNode&lt;K,V&gt; p = this; // ÂΩìÂâçÊ†ëÂΩ¢NodeÔºöp // ÈÅçÂéÜÊï¥Ê†ëÔºö do &#123; int ph, dir; K pk; TreeNode&lt;K,V&gt; pl = p.left, pr = p.right, q; // ÂΩìÂâçNodeÂ∑¶ËäÇÁÇπ„ÄÅÂè≥ËäÇÁÇπ„ÄÅ // Ëã•ÂΩìÂâçËäÇÁÇπhashÂÄºËæÉÂ§ßÔºöpÂèñÂÖ∂Â∑¶ËäÇÁÇπ if ((ph = p.hash) &gt; h) p = pl; // Ëã•ÂΩìÂâçËäÇÁÇπhashÂÄºËæÉÂ∞èÔºöpÂèñÂÖ∂Âè≥ËäÇÁÇπ else if (ph &lt; h) p = pr; // Ëã•ÂΩìÂâçËäÇÁÇπkeyÂÄºÁ≠â‰∫éÁªôÂÆökeyÂÄºÔºåËøîÂõûÂΩìÂâçËäÇÁÇπ else if ((pk = p.key) == k || (k != null &amp;&amp; k.equals(pk))) return p; // Ëã•Â∑¶ËäÇÁÇπ‰∏∫Á©∫ÔºåpÂèñÂÖ∂Âè≥ËäÇÁÇπ else if (pl == null) p = pr; // Ëã•Âè≥ËäÇÁÇπ‰∏∫Á©∫ÔºåpÂèñÂÖ∂Â∑¶ËäÇÁÇπ else if (pr == null) p = pl; // Ê†πÊçÆcompareToÊØîËæÉ else if ((kc != null || (kc = comparableClassFor(k)) != null) &amp;&amp; (dir = compareComparables(kc, k, pk)) != 0) p = (dir &lt; 0) ? pl : pr; // Ê†πÊçÆcompareToÁöÑÁªìÊûúÔºåËã•Âè≥ËäÇÁÇπËÉΩÊâæÂà∞ÔºöËøîÂõûÂè≥ËäÇÁÇπ else if ((q = pr.find(h, k, kc)) != null) return q; // Ëã•compareToÁöÑÁªìÊûúÂú®Â∑¶ËäÇÁÇπ‰∏äÔºöÁªßÁª≠Êü•Êâæ else p = pl; &#125; while (p != null); return null;&#125; - split() ÂàÜÂâ≤Ê†ëÁªìÊûÑÔºàHashMapÊâ©ÂÆπÊó∂‰ΩøÁî®Âà∞ÁöÑÊñπÊ≥ïÔºâ/** * Splits nodes in a tree bin into lower and upper tree bins, or untreeifies if now too small. Called only from resize; see above discussion about split bits and indices. * ÂàÜÂâ≤ËØ•Ê†ë‰∏∫‰∏§Ê£µÊ†ëÔºåËã•Ê†ëÂ§™Â∞èÂàôÈìæÂåñ„ÄÇ * * @param map * @param tab table * @param index Ë¢´ÂàÜÂâ≤Ê†ëÁöÑÁ¥¢Âºï‰ΩçÁΩÆ * @param bit Êâ©ÂÆπÂâçÁöÑÂéüÊï∞ÁªÑÂÆπÈáè */final void split(HashMap&lt;K,V&gt; map, Node&lt;K,V&gt;[] tab, int index, int bit) &#123; TreeNode&lt;K,V&gt; b = this; // ÂΩìÂâçÊ†ëËäÇÁÇπ // Relink into lo and hi lists, preserving order TreeNode&lt;K,V&gt; loHead = null, loTail = null; TreeNode&lt;K,V&gt; hiHead = null, hiTail = null; int lc = 0, hc = 0; // ÈÅçÂéÜÊó∂ËÆ°ÁÆóÈìæË°®ÁöÑÈïøÂ∫¶ // üî¥ ‰∏Ä„ÄÅÈáçÊñ∞ËÆ°ÁÆóÁ¥¢Âºï‰ΩçÁΩÆÔºàÈÅçÂéÜÂèåÂêëÈìæË°®ÁªìÊûÑÔºâ for (TreeNode&lt;K,V&gt; e = b, next; e != null; e = next) &#123; // üîª ÊãÜÂàÜÔºöÂâ≤Êñ≠ÂΩìÂâçËäÇÁÇπÁöÑnextÂºïÁî®„ÄÇ next = (TreeNode&lt;K,V&gt;)e.next; e.next = null; // üîπ Âéü‰ΩçÁΩÆÔºö if ((e.hash &amp; bit) == 0) &#123; // Êó†ÈúÄÁßªÂä®ÂÖÉÁ¥†Âç≥ÂèØÁªÑÊàêÊñ∞ÈìæË°®Ôºö if ((e.prev = loTail) == null) loHead = e; else loTail.next = e; loTail = e; ++lc; // ËÆ∞ÂΩïÈìæË°®ÈïøÂ∫¶ &#125; // üîπ Êñ∞‰ΩçÁΩÆÔºö else &#123; if ((e.prev = hiTail) == null) hiHead = e; else hiTail.next = e; hiTail = e; ++hc; // ËÆ∞ÂΩïÈïøÂ∫¶ &#125; &#125; // üî¥ ‰∫å„ÄÅÁßªÂä®ÂÖÉÁ¥†ÔºàÂ∞Ü‰∏§‰∏™Êñ∞ÈìæË°®Ê†ëÂåñÊàñÂèñÊ∂àÊ†ëÂåñÔºâ // üîπ 0ÔºöÂéü‰ΩçÁΩÆ if (loHead != null) &#123; // üî∏ Ëã•ËäÇÁÇπ‚â§Ê†ëÂåñÈòàÂÄºÔºöÂèñÊ∂àÊ†ëÂåñÔºåËΩ¨‰∏∫ÈìæË°® if (lc &lt;= UNTREEIFY_THRESHOLD) tab[index] = loHead.untreeify(map); // üî∏ Ëã•ËäÇÁÇπ‚â•Ê†ëÂåñÈòàÂÄºÔºöÊ†ëÂåñ else &#123; // Â∞ÜÈìæË°®Â≠òÂÖ•tableÁ¥¢Âºï‰ΩçÁΩÆ tab[index] = loHead; // Á°ÆËÆ§ÈìæË°®Â≠òÂú®ÂÖÉÁ¥†ÂêéÊ†ëÂåñ if (hiHead != null) // (else is already treeified) loHead.treeify(tab); &#125; &#125; // üîπ 1ÔºöÊñ∞‰ΩçÁΩÆÔºàÂéü‰ΩçÁΩÆ + ÂéüÂÆπÈáèÔºâÔºöÂêå‰∏ä if (hiHead != null) &#123; if (hc &lt;= UNTREEIFY_THRESHOLD) tab[index + bit] = hiHead.untreeify(map); else &#123; tab[index + bit] = hiHead; if (loHead != null) hiHead.treeify(tab); &#125; &#125;&#125; ü¶ã Á∫¢ÈªëÊ†ë‰∏≠ÈöêÂê´ÁöÑÂèåÂêëÈìæË°®ÁªìÊûÑÔºö ‚ë† Âú®Â∞ÜÁ∫¢ÈªëÊ†ëÁªìÊûÑËΩ¨Êç¢‰∏∫ÈìæË°®ÁªìÊûÑÁöÑËøáÁ®ã‰∏≠ÔºåÈúÄË¶Å‰ΩøÁî®Ëøô‰∏™ÈöêÂê´ÁöÑÂèåÂêëÈìæË°®ËøõË°åÈÅçÂéÜÔºõ ‚ë° Âú®Á∫¢ÈªëÊ†ëÁªìÊûÑÁöÑÊãÜÂàÜËøáÁ®ã‰∏≠Ôºå‰πüÈúÄË¶Å‰ΩøÁî®Ëøô‰∏™ÈöêÂê´ÁöÑÂèåÂêëÈìæË°®ËøõË°åÈÅçÂéÜ„ÄÇ Ôºà3ÔºâIterators- nextNode() HashMapÂÆûÁé∞‰∫ÜIterator(Ëø≠‰ª£Âô®)Êé•Âè£„ÄÇ abstract class HashIterator &#123; Node&lt;K,V&gt; next; // Â∞ÜËøîÂõûÁöÑ‰∏ã‰∏™entry Node&lt;K,V&gt; current; // ÂΩìÂâç entry int expectedModCount; // Áî®‰∫éÂø´ÈÄüÂ§±Ë¥•ÁöÑÂ±ûÊÄß int index; // ÂΩìÂâçÁ¥¢Âºï HashIterator() &#123; expectedModCount = modCount; Node&lt;K,V&gt;[] t = table; current = next = null; index = 0; if (t != null &amp;&amp; size &gt; 0) &#123; // advance to first entry do &#123;&#125; while (index &lt; t.length &amp;&amp; (next = t[index++]) == null); &#125; &#125; final Node&lt;K,V&gt; nextNode() &#123; Node&lt;K,V&gt;[] t; Node&lt;K,V&gt; e = next; // Ëã•modCount‰∏çÁ≠â‰∫éexpectedModCountÔºöÊäõÂá∫ÂºÇÂ∏∏ if (modCount != expectedModCount) throw new ConcurrentModificationException(); // Ëã•ÊåáÂÆöNode‰∏∫Á©∫ÔºöÊäõÂá∫ÂºÇÂ∏∏ if (e == null) throw new NoSuchElementException(); // Ëã•nextÊåáÂêëÁöÑNodeÔºàÂç≥ÂΩìÂâçNodeÁöÑnextÁöÑÂÄºÔºâ‰∏ç‰∏∫Á©∫Ôºå‰∏îÊï∞ÁªÑ‰∏ç‰∏∫Á©∫Ôºö if ((next = (current = e).next) == null &amp;&amp; (t = table) != null) &#123; // ÈôêÂÆöÁ¥¢Âºï‰∏çË∂ÖÂá∫ÈïøÂ∫¶„ÄÅ‰∏î‰∏ã‰∏™‰ΩçÁΩÆ‰ªçÊúâÂÖÉÁ¥†„ÄÇ do &#123;&#125; while (index &lt; t.length &amp;&amp; (next = t[index++]) == null); &#125; return e; &#125; // ... // EntryIteratorÔºåÁªßÊâøËá™HashIterator final class EntryIterator extends HashIterator implements Iterator&lt;Map.Entry&lt;K,V&gt;&gt; &#123; public final Map.Entry&lt;K,V&gt; next() &#123; return nextNode(); &#125; &#125;&#125; ÈÅçÂéÜÂÖÉÁ¥†Êó∂‰ΩøÁî®modCountÂ±ûÊÄßÂà§Êñ≠HashMapÊòØÂê¶ÂèëÁîüÁªìÊûÑÊÄßÂèòÂåñ üîπ Â±ûÊÄßÔºö- modCountÔºöHashMapÁ±ª‰∏≠ÁöÑ‰∏Ä‰∏™ÊàêÂëòÂèòÈáèÔºåË°®Á§∫ÂØπHashMapÁöÑ‰øÆÊîπÊ¨°Êï∞„ÄÇÔºà‰∏éArrayListÂíåLinkedListÁõ∏ÂêåÔºâ- expectedModCountÔºöË°®Á§∫ÂØπhashMap‰øÆÊîπÊ¨°Êï∞ÁöÑÊúüÊúõÂÄºÔºåÂÆÉÁöÑÂàùÂßãÂÄº‰∏∫modCount„ÄÇ- ConcurrentModificationException()ÂºÇÂ∏∏ÔºöÊ≠§ÂºÇÂ∏∏‰∏∫‰∫ÜÈò≤Ê≠¢Âú®‰ΩøÁî®IteratorÈÅçÂéÜÂÆπÂô®ÁöÑÂêåÊó∂ÂèàÂØπÂÆπÂô®‰ΩúÂ¢ûÂä†ÊàñÂà†Èô§Êìç‰ΩúÔºåÊàñËÄÖ‰ΩøÁî®Â§öÁ∫øÁ®ãÊìç‰Ωú„ÄÇ üîπ ËØ¥ÊòéÔºöHashMapÁöÑIteratorÊòØfail-fastËø≠‰ª£Âô®„ÄÇÊØèÊ¨°ÂèëÁîüÁªìÊûÑÊÄßÂèòÂåñÊó∂modCountÈÉΩ‰ºöÂ¢ûÂä†ÔºåËÄåÊØèÊ¨°Ëø≠‰ª£Âô®Êìç‰ΩúÊó∂ÈÉΩ‰ºöÊ£ÄÊü•expectedModCountÊòØÂê¶‰∏émodCountÁõ∏ÂêåÔºåËøôÊ†∑Â∞±ËÉΩÊ£ÄÊµãÂá∫ÁªìÊûÑÊÄßÂèòÂåñ„ÄÇÂΩìÊúâÂÖ∂‰ªñÁ∫øÁ®ãÊîπÂèò‰∫ÜHashMapÁöÑÁªìÊûÑÔºàÂ¢ûÂä†„ÄÅÂà†Èô§„ÄÅ‰øÆÊîπÂÖÉÁ¥†ÔºâÔºåÂ∞Ü‰ºöÊäõÂá∫ConcurrentModificationExceptidon„ÄÇ üîπ Ëß£ÂÜ≥ÊñπÊ≥ïÔºöÂú®ÈÅçÂéÜÁöÑËøáÁ®ã‰∏≠ÊääÈúÄË¶ÅÂà†Èô§ÁöÑÂØπË±°‰øùÂ≠òÂà∞‰∏Ä‰∏™ÈõÜÂêà‰∏≠ÔºåÁ≠âÈÅçÂéÜÁªìÊùüÂêéÂÜçË∞ÉÁî®removeAllÊñπÊ≥ïÊù•Âà†Èô§ÔºåÊàñËÄÖÈÄöËøáIteratorÁöÑremove()ÊñπÊ≥ïÁßªÈô§ÂÖÉÁ¥†„ÄÇ ÂèÇËÄÉÔºö HashMapÊâ©ÂÆπÈÉ®ÂàÜÔºö„ÄäJavaÈ´òÂπ∂Âèë‰∏éÈõÜÂêàÊ°ÜÊû∂ÔºöJCFÂíåJUCÊ∫êÁ†ÅÂàÜÊûê‰∏éÂÆûÁé∞„Äã ÂÜÖÂ≠òÁªìÊûÑÁ§∫ÊÑèÂõæÈÉ®ÂàÜÔºö„ÄäJavaÁºñÁ®ãÁöÑÈÄªËæë„Äã","categories":[{"name":"Êï∞ÊçÆÁªìÊûÑ","slug":"Êï∞ÊçÆÁªìÊûÑ","permalink":"https://equnee.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://equnee.github.io/tags/Java/"},{"name":"HashMap","slug":"HashMap","permalink":"https://equnee.github.io/tags/HashMap/"}]},{"title":"üå∑„ÄäÁßíÊáÇËÆæËÆ°Ê®°Âºè„Äã‚Äî‚Äî Ë¥£‰ªªÈìæÊ®°Âºè","slug":"note/Design-pattern/design-pattern_Chain_of_Responsibility","date":"2023-03-08T15:14:10.467Z","updated":"2023-05-04T09:26:08.332Z","comments":true,"path":"note/Design-pattern/design-pattern_Chain_of_Responsibility/","link":"","permalink":"https://equnee.github.io/note/Design-pattern/design-pattern_Chain_of_Responsibility/","excerpt":"","text":"Á¨îËÆ∞Êù•Ëá™„ÄäÁßíÊáÇËÆæËÆ°Ê®°Âºè„Äã %%{ init: { 'themeVariables': { 'fontSize': '13px' } } }%% graph LR T([\"Ë¥£‰ªªÈìæ‰ªãÁªç\"]):::p T --> A([\"Ë¥£‰ªªÈìæ\"]):::g T --> B([\"Ë¥£‰ªªÈìæÊ®°Âºè\"]):::p T --> C([\"‰∏öÂä°Ë¥£‰ªªÈìæ\"]):::b A -.-> a(\"Ë¥£‰ªªÈìæÊòØÁî±ÂæàÂ§öË¥£‰ªªËäÇÁÇπ‰∏≤ËÅîËµ∑Êù•ÁöÑ‰∏ÄÊù°‰ªªÂä°ÈìæÊù°ÔºåÂÖ∂‰∏≠ÊØè‰∏Ä‰∏™Ë¥£‰ªªËäÇÁÇπÈÉΩÊòØ‰∏Ä‰∏™‰∏öÂä°Â§ÑÁêÜÁéØËäÇ„ÄÇ\"):::lg B -.-> b(\"Ë¥£‰ªªÈìæÊ®°Âºè(Chain of Responsibility) ÂÖÅËÆ∏‰∏öÂä°ËØ∑Ê±ÇËÄÖÂ∞ÜË¥£‰ªªÈìæËßÜ‰∏∫‰∏Ä‰∏™Êï¥‰ΩìÂπ∂ÂØπÂÖ∂ÂèëËµ∑ËØ∑Ê±ÇÔºåËÄå‰∏çÂøÖÂÖ≥ÂøÉÈìæÊù°ÂÜÖÈÉ®ÂÖ∑‰ΩìÁöÑ‰∏öÂä°ÈÄªËæë‰∏éÊµÅÁ®ãËµ∞Âêë„ÄÇ\"):::lp B -.-> b2(\"ËØ∑Ê±ÇËÄÖ‰∏çÂøÖÂÖ≥ÂøÉÂÖ∑‰ΩìÊòØÂì™‰∏™ËäÇÁÇπËµ∑‰∫Ü‰ΩúÁî®ÔºåÊÄª‰πã‰∏öÂä°ÊúÄÁªàËÉΩÂæóÂà∞Áõ∏Â∫îÁöÑÂ§ÑÁêÜ„ÄÇ\"):::info C -.->c(\"Âú®ËΩØ‰ª∂Á≥ªÁªü‰∏≠ÔºåÂΩì‰∏Ä‰∏™‰∏öÂä°ÈúÄË¶ÅÁªèÂéÜ‰∏ÄÁ≥ªÂàó‰∏öÂä°ÂØπË±°ÂéªÂ§ÑÁêÜÊó∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÊääËøô‰∫õ‰∏öÂä°ÂØπË±°‰∏≤ËÅîËµ∑Êù•Êàê‰∏∫‰∏ÄÊù°‰∏öÂä°Ë¥£‰ªªÈìæÔºåËØ∑Ê±ÇËÄÖÂèØ‰ª•Áõ¥Êé•ÈÄöËøáËÆøÈóÆ‰∏öÂä°Ë¥£‰ªªÈìæÊù•ÂÆåÊàê‰∏öÂä°ÁöÑÂ§ÑÁêÜÔºåÊúÄÁªàÂÆûÁé∞ËØ∑Ê±ÇËÄÖ‰∏éÂìçÂ∫îËÄÖÁöÑËß£ËÄ¶„ÄÇ\"):::lb classDef p fill:#ddaebd classDef g fill:#9ac5bb classDef b fill:#aab7d2 classDef lp fill:#f4e4e9 classDef lg fill:#ddebe6 classDef lb fill:#d9dfeb classDef info fill:#f6f6f7,color:#737379,stroke-dasharray: 3 3, stroke-width: 2px ‰∏Ä„ÄÅÁÆÄÂçïÁöÑÁîü‰∫ßÁ∫ø ÊúÄÁÆÄÂçïÁöÑË¥£‰ªªÈìæÊ®°Âºè‰æãÂ≠êÔºöÊ±ΩËΩ¶Áîü‰∫ßÁ∫øÁöÑÂà∂ÈÄ†ÊµÅÁ®ã„ÄÇ %%{ init: { 'themeVariables': { 'fontSize': '14px' } } }%% graph LR T([\"Ê±ΩËΩ¶Áîü‰∫ßÁ∫øÁöÑÂà∂ÈÄ†ÊµÅÁ®ã\"]):::p T --- A(\"Âä≥Âä®ÂàÜÂ∑•\"):::lp T --- B(\"Êû∂ÊûÑÁîü‰∫ßÁ∫ø\"):::lp a --> C(\"ÊúÄÁªà ÈÄöËøáÁîü‰∫ßÁ∫øÁöÑ‰º†ÈÄíÔºåÊ±ΩËΩ¶‰æø‰ªéÈõ∂‰ª∂Âà∞ÊàêÂìÅÂæó‰ª•Èáè‰∫ßÔºåÁîü‰∫ßÊïàÁéáÂ§ßÂ§ßÊèêÂçá\"):::B b --> C A -.- a(\"Â∞ÜÊ±ΩËΩ¶Èõ∂‰ª∂ÁöÑÂÆâË£ÖÂ∑•‰ΩúÊãÜÂàÜÂπ∂ÂàÜÈÖçÁªôÂêÑÂÆâË£ÖËäÇÁÇπ\") B -.-b(\"Â∞ÜÂÆâË£ÖËäÇÁÇπÁªÑÁªáËµ∑Êù•ÔºåÈ¶ñÂ∞æÁõ∏Êé•ÔºåËßÑÂàíÊìç‰ΩúÊµÅÁ®ã\") classDef p fill:#ddaebd classDef lp fill:#f4e4e9 classDef B fill:#d9dfeb, stroke:#657eae,stroke-width:2px classDef lb fill: #d9dfeb classDef info fill:#f6f6f7,color:#737379, stroke-width: 2px, stroke-dasharray: 3 3 Êàë‰ª¨Â∞ÜÊ±ΩËΩ¶Áîü‰∫ßÁ∫ø‰ªéÂ∑¶Ëá≥Âè≥ÂàÜ‰∏∫3‰∏™ÂäüËÉΩËäÇÁÇπÔºöËøôÊ†∑Â∞Ü‰∫ßÂìÅÈÄêÁ∫ß‰º†ÈÄíÔºåÊØèÁªèËøá‰∏Ä‰∏™ËäÇÁÇπÂ∞±ÂÆåÊàê‰∏ÄÈÉ®ÂàÜÂ∑•‰ΩúÔºåÊúÄÁªàÂÆåÊàê‰∫ßÂìÅ‰∫§‰ªò„ÄÇ %%{ init: { 'themeVariables': { 'fontSize': '12px' } } }%% graph LR T([\"Ê±ΩËΩ¶Áîü‰∫ßÁ∫øËäÇÁÇπ\"]):::p T --> A(\"AËäÇÁÇπ\"):::lp T --> B(\"BËäÇÁÇπ\"):::lp T --> C(\"CËäÇÁÇπ\"):::lp A -.- a[\"Ë¥üË¥£ÁªÑË£ÖËΩ¶Êû∂„ÄÅÂÆâË£ÖËΩ¶ËΩÆ\"] B -.- b[\"Ë¥üË¥£ÂÆâË£ÖÂèëÂä®Êú∫„ÄÅÊ≤πÁÆ±„ÄÅ‰º†Âä®ËΩ¥Á≠âÂÜÖÈÉ®Êú∫‰ª∂\"] C -.- c[\"Ë¥üË¥£ÁªÑË£ÖÂ§ñÂ£≥„ÄÅÂñ∑ÊºÜÁ≠âÊìç‰Ωú\"] classDef p fill:#ddaebd classDef lp fill:#f4e4e9 classDef B fill:#d9dfeb, stroke:#657eae,stroke-width:2px classDef lb fill: #d9dfeb classDef info fill:#f6f6f7,color:#737379, stroke-width: 2px, stroke-dasharray: 3 3 ‰∫å„ÄÅÂ∑•‰ΩúÊµÅÁ®ãÊãÜÂàÜ Â∏¶Êúâ‰∏Ä‰∫õÈÄªËæëÁöÑË¥£‰ªªÈìæÔºöÊä•ÈîÄÂÆ°ÊâπÊµÅÁ®ã„ÄÇ ÂÆ°ÊâπÊµÅÁ®ãÊåâË¥üË¥£‰∫∫ÊàñËÄÖÂ∑•‰ΩúËÅåË¥£ËøõË°åÊãÜÂàÜÔºöÈúÄË¶Å‰æùÊ¨°ÈÄöËøáË¥¢Âä°‰∏ìÂëò„ÄÅË¥¢Âä°ÁªèÁêÜ„ÄÅË¥¢Âä°ÊÄªÁõëÁöÑÂÆ°Êâπ„ÄÇÂ¶ÇÊûúÁî≥ËØ∑ÈáëÈ¢ùÂú®ÂÆ°Êâπ‰∫∫ÁöÑÂÆ°ÊâπËÅåÊùÉËåÉÂõ¥ÂÜÖÂàôÂÆ°ÊâπÈÄöËøáÂπ∂ÁªàÊ≠¢ÊµÅÁ®ãÔºåÂèç‰πãÂàô‰ºöÂçáÁ∫ßËá≥Êõ¥È´òÂ±ÇÁ∫ßÁöÑ‰∏äÁ∫ßÂéªÁªßÁª≠ÂÆ°ÊâπÔºåÁõ¥Ëá≥ÊúÄÁªàÁöÑË¥¢Âä°ÊÄªÁõëÔºåÂ¶ÇÊûú‰ªçÊóßË∂ÖÂá∫Ë¥¢Âä°ÊÄªÁõëÁöÑÂÆ°ÊâπÈáëÈ¢ùÂàôÈ©≥ÂõûÁî≥ËØ∑ÔºåÊµÅÁ®ãÁªàÊ≠¢„ÄÇ Â¶Ç‰ΩïËÆæËÆ°Ëøô‰∏™ÂÆ°ÊâπÊµÅÁ®ãÔºöÈ¶ñÂÖàÊåâËßíËâ≤ÂØπ‰∏öÂä°ËøõË°åÊãÜÂàÜÔºåÂ∞Ü‰∏çÂêåÁöÑ‰∏öÂä°‰ª£Á†ÅÊîæÂú®‰∏çÂêåÁöÑËßíËâ≤Á±ª‰∏≠ÔºåÂ¶ÇÊ≠§ËææÂà∞ËÅåÊùÉÂàÜÊãÜÁöÑÁõÆÁöÑÔºåÂèØÊâ©Â±ïÊÄß„ÄÅÂèØÁª¥Êä§ÊÄß‰πüËÉΩÂæóÂà∞ÊèêÈ´ò„ÄÇ . ‰∏â„ÄÅË∏¢ÁöÆÁêÉ1. ÂÆû‰æã Âü∫‰∫é‰∏äËø∞ÂÆ°ÊâπÊµÅÁ®ãÔºåÊù•ÂÅö‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂÆû‰æãÔºöÂÅáËÆæÊüêÂÖ¨Âè∏ÁöÑÊä•ÈîÄÂÆ°ÊâπÊµÅÁ®ãÊúâ3‰∏™ÂÆ°ÊâπËßíËâ≤%%{ init: { 'themeVariables': { 'fontSize': '12px' } } }%% %% ÂÅáËÆæÊüêÂÖ¨Âè∏ÁöÑÊä•ÈîÄÂÆ°ÊâπÊµÅÁ®ãÊúâ3‰∏™ÂÆ°ÊâπËßíËâ≤ graph LR T([\"Êä•ÈîÄÂÆ°ÊâπÊµÅÁ®ãÔºà3‰∏™ËßíËâ≤Ôºâ\"]):::p T --> A(\"Ë¥¢Âä°‰∏ìÂëò\"):::lp T --> B(\"Ë¥¢Âä°ÁªèÁêÜ\"):::lp T --> C(\"Ë¥¢Âä°ÊÄªÁõë\"):::lp A -.- a[\"1000ÂÖÉÂÆ°ÊâπÊùÉÈôê\"] B -.- b[\"5000ÂÖÉÂÆ°ÊâπÊùÉÈôê\"] C -.- c[\"10000ÂÖÉÂÆ°ÊâπÊùÉÈôê\"] classDef p fill:#ddaebd classDef lp fill:#f4e4e9 classDef B fill:#d9dfeb, stroke:#657eae,stroke-width:2px classDef lb fill: #d9dfeb classDef info fill:#f6f6f7,color:#737379, stroke-width: 2px, stroke-dasharray: 3 3 2. ‰ª£Á†Å Staff /** * Ë¥¢Âä°‰∏ìÂëòÁ±ª */public class Staff &#123; private String name; public Staff(String name)&#123; this.name = name; &#125; public boolean approve(int amount) &#123; if (amount &lt;= 1000) &#123; System.out.println(&quot;ÂÆ°ÊâπÈÄöËøá„ÄÇ„Äê‰∏ìÂëòÔºö&quot; + name + &quot;„Äë&quot;); return true; &#125; else &#123; System.out.println(&quot;Êó†ÊùÉÂÆ°ÊâπÔºåËØ∑Êâæ‰∏äÁ∫ß„ÄÇ„Äê‰∏ìÂëòÔºö&quot; + name + &quot;„Äë&quot;); return false; &#125; &#125;&#125; Manager /** * Ë¥¢Âä°ÁªèÁêÜÁ±ª */public class Manager &#123; private String name; public Manager(String name)&#123; this.name = name; &#125; public boolean approve(int amount) &#123; if (amount &lt;= 5000) &#123; System.out.println(&quot;ÂÆ°ÊâπÈÄöËøá„ÄÇ„ÄêÁªèÁêÜÔºö&quot; + name + &quot;„Äë&quot;); return true; &#125; else &#123; System.out.println(&quot;Êó†ÊùÉÂÆ°ÊâπÔºåËØ∑Êâæ‰∏äÁ∫ß„ÄÇ„ÄêÁªèÁêÜÔºö&quot; + name + &quot;„Äë&quot;); return false; &#125; &#125;&#125; CFO /** * Ë¥¢Âä°ÊÄªÁõëÁ±ª */public class CFO &#123; private String name; public Manager(String name)&#123; this.name = name; &#125; /* ÂÆö‰πâ‰∫ÜË¥¢Âä°ÊÄªÁõëÁ±ªCFOÁöÑÂÆ°ÊâπÊñπÊ≥ïapprove()Âπ∂Êé•ÂèóË¶ÅÂÆ°ÊâπÁöÑÈáëÈ¢ùÔºå Â¶ÇÊûúÈáëÈ¢ùÂú®10000ÂÖÉ‰ª•ÂÜÖÂàôÂÆ°ÊâπÈÄöËøáÔºåÂê¶ÂàôÈ©≥ÂõûÊ≠§Áî≥ËØ∑„ÄÇ */ public boolean approve(int amount) &#123; if (amount &lt;= 10000) &#123; System.out.println(&quot;ÂÆ°ÊâπÈÄöËøá„ÄÇ„ÄêÊÄªÁõëÔºö&quot; + name + &quot;„Äë&quot;); return true; &#125; else &#123; System.out.println(&quot;È©≥ÂõûÁî≥ËØ∑„ÄÇ„ÄêÊÄªÁõëÔºö&quot; + name + &quot;„Äë&quot;); return false; &#125; &#125;&#125; 3‰∏™ÂÆ°ÊâπËßíËâ≤ÁöÑ‰ª£Á†ÅÈÉΩÊØîËæÉÁ±ª‰ººÔºåÂè™Ë¶ÅË∂ÖËøáÂÖ∂ÂÆ°ÊâπÈáëÈ¢ùÁöÑÊùÉÈôêÂ∞±È©≥ÂõûÁî≥ËØ∑ÔºåÂèç‰πãÂàôÂÆ°ÊâπÈÄöËøá„ÄÇ Êé•‰∏ãÊù•ÔºåÂÆ¢Êà∑Á´ØÂºÄÂßãÊèê‰∫§Áî≥ËØ∑‰∫ÜÔºöClient /** * ÂÆ¢Êà∑Á´ØÁ±ª */public class Client &#123; public static void main(String[] args)&#123; int amount = 10000; // Âá∫Â∑ÆËä±Ë¥π10000ÂÖÉ // ÂÖàÊâæ‰∏ìÂëòÂº†È£ûÂÆ°Êâπ Staff staff = new Staff(&quot;Âº†È£û&quot;); if (!staff.approve(amount)) &#123; // Ë¢´È©≥ÂõûÔºåÊâæÂÖ≥‰∫åÁà∑ÈóÆÈóÆ Manager manager = new Manager(&quot;ÂÖ≥ÁæΩ&quot;); if (!manager.approve(amount))&#123; // ËøòÊòØË¢´È©≥ÂõûÔºåÂè™ËÉΩÊâæËÄÅÂ§ß‰∫Ü CFO cfo = new CFO(&quot;ÂàòÂ§á&quot;); cfo.approve(amount); &#125; &#125; &#125;&#125;/******************************* Êó†ÊùÉÂÆ°ÊâπÔºåËØ∑Êâæ‰∏äÁ∫ß„ÄÇ„Äê‰∏ìÂëòÔºöÂº†È£û„Äë Êó†ÊùÉÂÆ°ÊâπÔºåËØ∑Êâæ‰∏äÁ∫ß„ÄÇ„ÄêÁªèÁêÜÔºöÂÖ≥ÁæΩ„Äë ÂÆ°ÊâπÈÄöËøá„ÄÇ„ÄêÊÄªÁõëÔºöÂàòÂ§á„Äë *******************************/ 3. ÈóÆÈ¢ògraph LR T([\"ÈóÆÈ¢òÂá∫Âú®Âì™ÈáåÔºü\"]):::p T --> A(\"ÊµÅÁ®ãÁπÅÁêê\"):::lp T --> B(\"Áª¥Êä§Âõ∞Èöæ\"):::lp T --> C(\"ËÅåÊùÉÈôêÂà∂\"):::lp A -.- a(\"Âäû‰∫ãÊïàÁéá‰ΩéÔºåÂÆ°ÊâπÊµÅÁ®ãÂ§™ËøáÁÉ¶ÁêêÔºåÊúâÁßçË¢´Ë∏¢ÁöÆÁêÉÁöÑÊÑüËßâ„ÄÇ\"):::info B -.- b(\"Ëã•ÂêéÊúü‰ºòÂåñ‰∏öÂä°ÊµÅÁ®ãËÄåÊ∑ªÂä†Êñ∞ÁöÑÂÆ°ÊâπËßíËâ≤ÔºåÊàñÂ¢ûÂä†Êõ¥Â§çÊùÇÁöÑÈÄªËæëÔºåÁî≥ËØ∑‰∫∫Â∞±‰∏çÂæó‰∏çÂ≠¶‰π†Êñ∞ÊµÅÁ®ãÔºå‰∏çÂÅú‰øÆÊîπËá™Â∑±ÁöÑÁî≥ËØ∑ÈÄªËæëÔºåÂ¢ûÂä†‰∫ÜÁª¥Êä§ÊàêÊú¨„ÄÇ\"):::info C -.- c(\"ÂÆ°Êâπ‰∫∫ÁöÑ‰∏öÂä°‰πãÈó¥ÊúâÁéØÁéØÁõ∏Êâ£ÁöÑÂÖ≥ËÅîÔºåÂØπ‰∫éË∂ÖÂá∫ÂÆ°Êâπ‰∫∫ËÅåÊùÉËåÉÂõ¥ÁöÑÁî≥ËØ∑‰ºö‰º†ÈÄíÁªô‰∏äÁ∫ßÔºåÁõ¥Âà∞Ëß£ÂÜ≥ÈóÆÈ¢ò‰∏∫Ê≠¢„ÄÇ\"):::info a --> D([\"Â∑•‰ΩúÊµÅÊû∂ÊûÑËÆæËÆ°‰∏çÂêàÁêÜÁî≥ËØ∑‰∫∫ÁªàÂ∞ÜË¢´Ê∑πÊ≤°Âú®‰∏ÄÂ†ÜÂ§çÊùÇÁöÑÂÆ°ÊâπÊµÅÁ®ã‰∏≠„ÄÇ\"]):::B b --> D c --> D classDef p fill:#ddaebd classDef lp fill:#f4e4e9 classDef B fill:#d9dfeb, stroke:#657eae,stroke-width:2px classDef lb fill: #d9dfeb classDef info fill:#f6f6f7,color:#737379, stroke-width: 2px, stroke-dasharray: 3 3 Á±ª‰ººÂ¶Ç‰∏äÁéØÁéØÁõ∏Êâ£ÁöÑ‰º†ÈÄíÊú∫Âà∂ÔºåÂ∞±ÈúÄË¶ÅÊàë‰ª¨Êê≠Âª∫‰∏Ä‰∏™ÈìæÂºèÁªìÊûÑÁöÑÂ∑•‰ΩúÊµÅÔºåËøô‰πüÊòØË¥£‰ªªÈìæÊ®°ÂºèÁöÑÁ≤æÈ´ì‰πãÊâÄÂú®„ÄÇ . Âõõ„ÄÅÊû∂ÊûÑÂ∑•‰ΩúÊµÅÊàë‰ª¨Áî®ÊäΩË±°Á±ªÊù•ÂÆö‰πâÂÆ°Êâπ‰∫∫Ôºö ÂÆ°Êâπ‰∫∫ Approverpublic abstract class Approver &#123; protected String name; // ÊäΩË±°Âá∫ÂÆ°Êâπ‰∫∫ÁöÑÂßìÂêç protected Approver nextApprover; // ‰∏ã‰∏Ä‰ΩçÂÆ°Êâπ‰∫∫ÔºåÊõ¥È´òÁ∫ßÂà´ÁöÑÈ¢ÜÂØº public Approver(String name)&#123; this.name = name; &#125; protected Approver setNextApprover(Approver nextApprover) &#123; this.nextApprover = nextApprover; return this.nextApprover; // ËøîÂõû‰∏ã‰∏Ä‰ΩçÂÆ°Êâπ‰∫∫Ôºå‰ΩøÂÖ∂ÊîØÊåÅÈìæÂºèÁºñÁ®ã &#125; public abstract void approve(int amount); // ÊäΩË±°ÂÆ°ÊâπÊñπÊ≥ïÁî±ÂÖ∑‰ΩìÂÆ°Êâπ‰∫∫Â≠êÁ±ªÂÆûÁé∞ /* * Áî±‰∫éÂÆ°Êâπ‰∫∫Âú®Êó†ÊùÉÂÆ°ÊâπÊó∂ÈúÄË¶Å‰º†ÈÄí‰∏öÂä°ÁªôÂÖ∂‰∏äÁ∫ßÈ¢ÜÂØºÔºåÂõ†Ê≠§Êàë‰ª¨Âú®Á¨¨4Ë°åÂÆö‰πâ‰∏äÁ∫ßÈ¢ÜÂØºÁöÑÂºïÁî®nextApproverÔºå‰∏é‰∏ã‰∏Ä‰ΩçÂÆ°Êâπ‰∫∫‰∏≤ËÅîËµ∑Êù•ÔºåÂêåÊó∂Â∞ÜÂÖ∂Ê≥®ÂÖ•Á¨¨10Ë°å„ÄÇ * ÂΩìÁÑ∂ÔºåÊØè‰ΩçÂÆ°Êâπ‰∫∫ÁöÑËßíËâ≤‰∏çÂêåÔºåÂÖ∂ÂÆ°ÊâπÈÄªËæë‰πüÊúâÊâÄÂå∫Âà´ÔºåÊâÄ‰ª•Êàë‰ª¨Âú®Á¨¨15Ë°åÂØπÂÆ°ÊâπÊñπÊ≥ïËøõË°åÊäΩË±°Ôºå‰∫§Áî±ÂÖ∑‰ΩìÁöÑÂ≠êÁ±ªÂÆ°ÊâπËßíËâ≤ÂéªÁªßÊâøÂíåÂÆûÁé∞„ÄÇ */&#125; Êé•ÁùÄÂØπ3‰∏™ÂÆ°ÊâπËßíËâ≤ÁöÑ‰ª£Á†ÅËøõË°åÈáçÊûÑÔºö Staff /** * Ë¥¢Âä°‰∏ìÂëòÁ±ª */ public class Staff extends Approver &#123; public Staff(String name) &#123; super(name); &#125; @Override public void approve(int amount) &#123; if(amount &lt;= 1000) &#123; System.out.println(&quot;ÂÆ°ÊâπÈÄöËøá„ÄÇ„Äê‰∏ìÂëòÔºö&quot; + name + &quot;„Äë&quot;); &#125; else &#123; System.out.println(&quot;Êó†ÊùÉÂÆ°ÊâπÔºåÂçáÁ∫ßÂ§ÑÁêÜ„ÄÇ„Äê‰∏ìÂëòÔºö&quot; + name + &quot;„Äë&quot;); this.nextApprover.approve(amount); &#125; &#125;&#125;/* Ë¥¢Âä°‰∏ìÂëòÁ±ªÁªßÊâø‰∫ÜÂÆ°Êâπ‰∫∫ÊäΩË±°Á±ªÂπ∂ÂÆûÁé∞‰∫ÜÂÆ°ÊâπÊñπÊ≥ïapprove()Ôºå Êé•Êî∂Âà∞Êä•ÈîÄÁî≥ËØ∑ÈáëÈ¢ùÂêéËá™Á¨¨9Ë°åÂºÄÂßãÁî≥ÊòéËá™Â∑±ÁöÑÂÆ°ÊâπÊùÉÈôê‰∏∫1000ÂÖÉÔºå Ëã•Ë∂ÖÂá∫ÂàôË∞ÉÁî®Ëá™Â∑±‰∏äÁ∫ßÈ¢ÜÂØºÁöÑÂÆ°ÊâπÊñπÊ≥ïnextApprover() ÔºåÂ∞ÜÂÆ°Êâπ‰∏öÂä°‰º†ÈÄí‰∏ãÂéª„ÄÇ*/ Manager /** * Ë¥¢Âä°ÁªèÁêÜÁ±ª */ public class Manager extends Approver &#123; public Manager(String name) &#123; super(name); &#125; @Override public void approve(int amount) &#123; if(amount &lt;= 5000) &#123; System.out.println(&quot;ÂÆ°ÊâπÈÄöËøá„ÄÇ„ÄêÁªèÁêÜÔºö&quot; + name + &quot;„Äë&quot;); &#125; else &#123; System.out.println(&quot;Êó†ÊùÉÂÆ°ÊâπÔºåÂçáÁ∫ßÂ§ÑÁêÜ„ÄÇ„ÄêÁªèÁêÜ&quot; + name + &quot;„Äë&quot;); this.nextApprover.approve(amount); &#125; &#125;&#125; CFO /** * Ë¥¢Âä°‰∏ìÂëòÁ±ª */ public class CFO extends Approver &#123; public CFO(String name) &#123; super(name); &#125; @Override public void approve(int amount) &#123; if(amount &lt;= 1000) &#123; System.out.println(&quot;ÂÆ°ÊâπÈÄöËøá„ÄÇ„ÄêË¥¢Âä°ÊÄªÁõëÔºö&quot; + name + &quot;„Äë&quot;); &#125; else &#123; System.out.println(&quot;È©≥ÂõûÁî≥ËØ∑„ÄÇ„ÄêË¥¢Âä°ÊÄªÁõëÔºö&quot; + name + &quot;„Äë&quot;); &#125; &#125;&#125;/* ÊØîËæÉÁâπÊÆäÁöÑÂÆ°Êâπ‰∫∫ÊòØË¥£‰ªªÈìæÊú´ËäÇÁÇπÁöÑË¥¢Âä°ÊÄªÁõëÁ±ªÔºåÊúÄÈ´òËÅåÁ∫ßÁöÑË¥¢Âä°ÊÄªÁõëCFOÁöÑÂÆ°ÊâπÈÄªËæëÁï•Êúâ‰∏çÂêåÔºå ÂΩìÁî≥ËØ∑ÈáëÈ¢ùË∂ÖÂá∫10000ÂÖÉÂêéÂ∞±ÂÜçÊúâ‰∏ã‰∏Ä‰∏™ÂÆ°Êâπ‰∫∫‰∫ÜÔºåÊâÄ‰ª•Ê≠§Êó∂Â∞±‰ºöÈ©≥ÂõûÊä•ÈîÄÁî≥ËØ∑„ÄÇ*//** * Ë¥¢Âä°‰∏ìÂëòÁ±ª */ public class CFO extends Approver &#123; public CFO(String name) &#123; super(name); &#125; @Override public void approve(int amount) &#123; if(amount &lt;= 1000) &#123; System.out.println(&quot;ÂÆ°ÊâπÈÄöËøá„ÄÇ„ÄêË¥¢Âä°ÊÄªÁõëÔºö&quot; + name + &quot;„Äë&quot;); &#125; else &#123; System.out.println(&quot;È©≥ÂõûÁî≥ËØ∑„ÄÇ„ÄêË¥¢Âä°ÊÄªÁõëÔºö&quot; + name + &quot;„Äë&quot;); &#125; &#125;&#125;/* ÊØîËæÉÁâπÊÆäÁöÑÂÆ°Êâπ‰∫∫ÊòØË¥£‰ªªÈìæÊú´ËäÇÁÇπÁöÑË¥¢Âä°ÊÄªÁõëÁ±ªÔºåÊúÄÈ´òËÅåÁ∫ßÁöÑË¥¢Âä°ÊÄªÁõëCFOÁöÑÂÆ°ÊâπÈÄªËæëÁï•Êúâ‰∏çÂêåÔºå ÂΩìÁî≥ËØ∑ÈáëÈ¢ùË∂ÖÂá∫10000ÂÖÉÂêéÂ∞±ÂÜçÊúâ‰∏ã‰∏Ä‰∏™ÂÆ°Êâπ‰∫∫‰∫ÜÔºåÊâÄ‰ª•Ê≠§Êó∂Â∞±‰ºöÈ©≥ÂõûÊä•ÈîÄÁî≥ËØ∑„ÄÇ*/ Client /** * ÂÆ¢Êà∑Á´ØÁ±ª */ public class Client &#123; public static void main(String[] args)&#123; Aprrovrt flightJohn = new Staff(&quot;Âº†È£û&quot;); // Ê≠§Â§Ñ‰ΩøÁî®ÈìæÂºèÁºñÁ®ãÈÖçÁΩÆË¥£‰ªªÈìæ flightJogn.setNextApprover(new Manager(&quot;ÂÖ≥ÁæΩ&quot;)).setNextApprover(new CFO(&quot;ÂàòÂ§á&quot;)); // Áõ¥Êé•Êâæ‰∏ìÂëòÂº†È£ûÂÆ°Êâπ flightJohn.approve(1000); /************************ ÂÆ°ÊâπÈÄöËøá„ÄÇ„Äê‰∏ìÂëòÔºöÂº†È£û„Äë ************************/ flightJohn.approve(4000); /************************ Êó†ÊùÉÂÆ°ÊâπÔºåÂçáÁ∫ßÂ§ÑÁêÜ„ÄÇ„Äê‰∏ìÂëòÔºöÂº†È£û„Äë ÂÆ°ÊâπÈÄöËøá„ÄÇ„ÄêÁªèÁêÜÔºöÂÖ≥ÁæΩ„Äë ************************/ flightJohn.approve(9000); /************************ Êó†ÊùÉÂÆ°ÊâπÔºåÂçáÁ∫ßÂ§ÑÁêÜ„ÄÇ„Äê‰∏ìÂëòÔºöÂº†È£û„Äë Êó†ÊùÉÂÆ°ÊâπÔºåÂçáÁ∫ßÂ§ÑÁêÜ„ÄÇ„Äê‰∏ìÂëòÔºöÂÖ≥ÁæΩ„Äë ÂÆ°ÊâπÈÄöËøá„ÄÇ„ÄêCEOÔºöÂàòÂ§á„Äë ************************/ flightJohn.approve(9000); /************************ Êó†ÊùÉÂÆ°ÊâπÔºåÂçáÁ∫ßÂ§ÑÁêÜ„ÄÇ„Äê‰∏ìÂëòÔºöÂº†È£û„Äë Êó†ÊùÉÂÆ°ÊâπÔºåÂçáÁ∫ßÂ§ÑÁêÜ„ÄÇ„Äê‰∏ìÂëòÔºöÂÖ≥ÁæΩ„Äë È©≥ÂõûÁî≥ËØ∑„ÄÇ„ÄêCEOÔºöÂàòÂ§á„Äë ************************/ &#125; &#125; Ëá≥Ê≠§Ôºå‰ª•Ë¥£‰ªªÈìæÊ®°Âºè‰∏∫Âü∫Á°ÄÊû∂ÊûÑÁöÑÂ∑•‰ΩúÊµÅÊê≠Âª∫ÂÆåÊàêÔºö ÂêÑÂÆ°ÊâπËßíËâ≤ÔºöÂè™ÈúÄË¶ÅÂÆö‰πâÂÖ∂ËÅåÊùÉËåÉÂõ¥ÂÜÖÁöÑÂ∑•‰ΩúÔºåÂÜç‰æùÈù†È´òÂ±ÇÊäΩË±°ÂÆûÁé∞ËßíËâ≤Ë¥£‰ªªÁöÑÈìæÂºèÁªìÊûÑÔºåÂÆ°ÊâπÈÄªËæëÂæó‰ª•ÊãÜÂàÜ„ÄÅ‰∏≤ËÅîÔºåËÆ©‰∏öÂä°Áî≥ËØ∑Âú®Ë¥£‰ªªÈìæ‰∏äÈÄêÁ∫ß‰º†ÈÄí„ÄÇ Áî≥ËØ∑‰∫∫ÔºöÂÜç‰πü‰∏çÂøÖÂÖ≥ÂøÉ‰∏öÂä°Â§ÑÁêÜÁªÜËäÇ‰∏éÁªìÊûú‰∫ÜÔºåÂΩªÂ∫ïÂ∞ÜÂ∑•‰ΩúÊµÅÊàñ‰∏öÂä°ÈÄªËæëÊäõÂºÄÔºåËΩªÊùæÂú∞Â∞ÜÁî≥ËØ∑ÈÄí‰∫§ÁªôË¥£‰ªªÈìæÂÖ•Âè£Âç≥ÂèØÂæóÂà∞ÊúÄÁªàÁªìÊûú„ÄÇ ‰∫î„ÄÅËÆ©‰∏öÂä°È£û‰∏Ä‰ºöÂÑø1. Á±ªÁªìÊûÑ Ë¥£‰ªªÈìæÊ®°ÂºèÁöÑÁ±ªÁªìÊûÑÔºö %%{ init: { 'themeVariables': { 'fontSize': '14px' } } }%% classDiagram Handler --o Handler Handler C(\"ClientÂÆ¢Êà∑Á´Ø\"):::lp A -.- |\"ÂÆ°Êâπ‰∫∫Approver\"| a[\"ÊâÄÊúâ‰∏öÂä°Â§ÑÁêÜËäÇÁÇπÁöÑÈ°∂Â±ÇÊäΩË±°* ÂÆö‰πâ‰∫ÜÊäΩË±°‰∏öÂä°Â§ÑÁêÜÊñπÊ≥ï handle() Âπ∂ÁïôÁªôÂ≠êÁ±ªÂÆûÁé∞* ÂÆû‰ΩìÊñπÊ≥ï setSuccessor()-Ê≥®ÂÖ•Áªß‰ªªËÄÖ ÔºöÊûÑÂª∫Ë¥£‰ªªÈìæ\"] B -.- |\"StaffManagerCFO\"| b[\"ÂÆûÈôÖ‰∏öÂä°Â§ÑÁêÜÁöÑÂÆûÁé∞Á±ªÔºåÂèØ‰ª•Êúâ‰ªªÊÑèÂ§ö‰∏™ÔºåÊØè‰∏™ÈÉΩÂÆûÁé∞‰∫Ü handle() ÊñπÊ≥ï‰ª•Â§ÑÁêÜËá™Â∑±ËÅåÊùÉËåÉÂõ¥ÂÜÖÁöÑ‰∏öÂä°ÔºåËÅåÊùÉËåÉÂõ¥‰πãÂ§ñÁöÑ‰∫ãÂàô‰º†ÈÄíÁªô‰∏ã‰∏Ä‰ΩçÁªß‰ªªËÄÖ\"] C -.- c[\"‰∏öÂä°Áî≥ËØ∑‰∫∫ÔºåÂè™ÈúÄÂØπ‰∏öÂä°ÈìæÊù°ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖ•Âè£ËäÇÁÇπÂèëËµ∑ËØ∑Ê±ÇÂç≥ÂèØÂæóÂà∞ÊúÄÁªàÂìçÂ∫î„ÄÇ\"] classDef p fill:#ddaebd classDef lp fill:#f4e4e9 3. ÊÄªÁªì%%{ init: { 'themeVariables': { 'fontSize': '14px' } } }%% graph LR T([\"Ë¥£‰ªªÈìæÊ®°ÂºèÊÄªÁªì\"]):::p T --> A([\"Êú¨Ë¥®\"]):::g T --> C([\"‰ºòÁÇπ\"]):::p A ---> a[\"Â§ÑÁêÜÊüêÁßçËøûÁª≠ÁöÑÂ∑•‰ΩúÊµÅÔºåÂπ∂Á°Æ‰øù‰∏öÂä°ËÉΩÂ§üË¢´‰º†ÈÄíËá≥Áõ∏Â∫îÁöÑË¥£‰ªªËäÇÁÇπ‰∏äÂæóÂà∞Â§ÑÁêÜ„ÄÇ\"]:::lg C --> c1([\"ÂèØÊâ©Â±ï\"]):::lp C --> c2([\"‰ΩéËÄ¶Âêà\"]):::lp c1 -.- c1t[\"ÂØπË¥£‰ªªÈìæÊ®°ÂºèÁöÑÂ∫îÁî®ËÆ©Êàë‰ª¨ÂèØ‰ª•Ê≥∞ÁÑ∂Ëá™Ëã•Âú∞Â∫îÂØπ‰∏öÂä°ÈúÄÊ±ÇÁöÑÂèòÊõ¥ÔºåÊñπ‰æøÂú∞ÂØπ‰∏öÂä°ÈìæÊù°ËøõË°åÊãÜÂàÜ„ÄÅÈáçÁªÑÔºå‰ª•ÂèäÂØπÂçïÁã¨ËäÇÁÇπÁöÑÂ¢û„ÄÅÂà†„ÄÅÊîπ„ÄÇ\"]:::lp c1 -.- c1t2[\"ÁªìÊûÑÊùæÊï£ÁöÑ‰∏öÂä°Â§ÑÁêÜËäÇÁÇπËÆ©Á≥ªÁªüÂÖ∑Â§áÊõ¥Âä†ÁÅµÊ¥ªÁöÑÂèØ‰º∏Áº©ÊÄß„ÄÅÂèØÊâ©Â±ïÊÄß„ÄÇ\"]:::info c2 -.- c2t[\"Ë¥£‰ªªÈìæÊ®°ÂºèËÆ©Áî≥ËØ∑Êñπ‰∏éÂ§ÑÁêÜÊñπËß£ËÄ¶ÔºåÁî≥ËØ∑‰∫∫ËÉΩÂΩªÂ∫ï‰ªé‰∏öÂä°ÁªÜËäÇ‰∏≠Ëß£ËÑ±Âá∫Êù•ÔºåÊó†ËÆ∫ÂÆ°ÊâπÊµÅÁ®ãÂ§ö‰πàÂ§çÊùÇÔºåÈÉΩÂè™ÈúÄË¶ÅÁÆÄÂçïÁöÑÁ≠âÂæÖÔºåËÆ©‰∏öÂä°Âú®Ë¥£‰ªªÈìæ‰∏äÈ£û‰∏Ä‰ºöÂÑø„ÄÇ\"]:::lp classDef p fill:#ddaebd classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#737379,stroke-dasharray: 3 3, stroke-width: 2px","categories":[{"name":"ËÆæËÆ°Ê®°Âºè","slug":"ËÆæËÆ°Ê®°Âºè","permalink":"https://equnee.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"Chain","slug":"Chain","permalink":"https://equnee.github.io/tags/Chain/"}]},{"title":"üå∑„ÄäÁßíÊáÇËÆæËÆ°Ê®°Âºè„Äã‚Äî‚Äî Âçï‰æãÊ®°Âºè","slug":"note/Design-pattern/design-pattern_Singleton","date":"2023-03-07T17:32:40.177Z","updated":"2023-05-04T09:26:02.193Z","comments":true,"path":"note/Design-pattern/design-pattern_Singleton/","link":"","permalink":"https://equnee.github.io/note/Design-pattern/design-pattern_Singleton/","excerpt":"","text":"Êù•Ëá™„ÄäÁßíÊáÇËÆæËÆ°Ê®°Âºè„Äã ‰∏Ä. Â≠§Áã¨ÁöÑÂ§™Èò≥Êàë‰ª¨ÂèØ‰ª•ÊääÂ§™Èò≥Á≥ªÁúã‰Ωú‰∏Ä‰∏™Â∫ûÂ§ßÁöÑÁ≥ªÁªüÔºåÂÖ∂‰∏≠ÊúâÂêÑÁßçÂêÑÊ†∑ÁöÑÂØπË±°Â≠òÂú®Ôºå‰∏∞ÂØåÂ§öÂΩ©ÁöÑÂÆû‰æãÈÄ†Â∞±‰∫ÜÁ≥ªÁªüÁöÑÁæéÂ•Ω„ÄÇËøô‰∏™Á≥ªÁªüÈáåÁöÑÊüê‰∫õÂÆû‰æãÊòØÂîØ‰∏ÄÁöÑÔºåÂ¶ÇÊàë‰ª¨Ëµñ‰ª•ÁîüÂ≠òÁöÑÊÅíÊòüÂ§™Èò≥„ÄÇ ‰∏éÂÖ∂‰ªñË°åÊòüÊàñÂç´Êòü‰∏çÂêåÁöÑÊòØÔºåÂ§™Èò≥ÊòØÂ§™Èò≥Á≥ªÂÜÖÂîØ‰∏ÄÁöÑÊÅíÊòüÂÆû‰æã„ÄÇ‰ΩÜÂÄòËã•Â§©‰∏äÊúâ9‰∏™Â§™Èò≥ÔºåÈÇ£‰πàÂ∞Ü‰ºöÂ∏¶Êù•‰∏ÄÂú∫ÁÅæÈöæ„ÄÇÂ§™Èò≥‰∏çÂ§ö‰∏çÂ∞ë‰ªÖÊ≠§‰∏Ä‰æã„ÄÇ ‰∫å. È•øÊ±âÈÄ†Êó•%%{ init: { 'themeVariables': { 'fontSize': '22px', 'fontFamily': 'Noto Serif SC' } } }%% graph LR T((\"È•øÊ±âÈÄ†Êó•\")):::b T --> A([\"1. ÂºÄÂßã\"]):::p T --> B([\"2. ÊûÑÈÄ†ÊñπÊ≥ïÁßÅÊúâÂåñ\"]):::p T --> C([\"3. Ëá™ÊúâÊ∞∏Êúâ\"]):::p T --> D([\"4. ÂÖ¨ÂºÄËÆøÈóÆ\"]):::p T --> E([\"5. ÊÄªÁªì\"]):::b A --> a(\"Êó¢ÁÑ∂Â§™Èò≥Á≥ªÈáåÂè™Êúâ‰∏Ä‰∏™Â§™Èò≥ÔºåÂ∞±ÈúÄË¶Å‰∏•Ê†ºÊääÊéßÂ§™Èò≥ÂÆû‰æãÂåñÁöÑËøáÁ®ã„ÄÇ\"):::lp a -.-> at([\"Public class Sun {} // ‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑSunÁ±ª\"]):::lg B --> b(\"Â§™Èò≥Âè™Êúâ‰∏Ä‰∏™Ôºå‰∏çËÉΩÈöèÊÑèÂàõÂª∫ÂÆû‰æã„ÄÇ‰ΩÜÁî±‰∫éJava‰ºöËá™Âä®ÁîüÊàê‰∏Ä‰∏™Êó†ÂèÇÊûÑÈÄ†Âô®ÔºåÂõ†Ê≠§ÂøÖÈ°ªÁ¶ÅÊ≠¢Â§ñÈÉ®Ë∞ÉÁî®ÊûÑÈÄ†Âô®*„ÄÇ\"):::lp b -.-> bt([\"private Sun(){}\"]):::lg C --> c(\"ËÆ©ÂÆÉÂú®Á±ªÂä†ËΩΩÊó∂Â∞±Ëá™Â∑±ÂàõÂª∫Ëá™Â∑±ÔºåÂπ∂‰ΩøÂÖ∂Ëá™ÊúâÊ∞∏Êúâ\"):::lp c -.-> ct([\"private static final Sun sun = new Sun();\"]):::lg D --> d(\"‰ΩøÁî®ÈùôÊÄÅÊñπÊ≥ï*getInstance()Êù•Ëé∑ÂèñÂ§™Èò≥ÁöÑÂçï‰æãÂØπË±°Âπ∂Â∞ÜÂÖ∂ËÆæÁΩÆ‰∏∫‚Äúpublic‚Äù‰ª•Êö¥Èú≤ÁªôÂ§ñÈÉ®‰ΩøÁî®\"):::lp d -.- dt([\"public static Sun getInstance(){ return sun; }\"]):::lg d -.- d2t[\"*Â¶ÇÂêåÁ®ãÂ∫èÂÖ•Âè£ÁöÑÈùôÊÄÅÊñπÊ≥ïmain(), ‰∏çÈúÄË¶Å‰ªª‰ΩïÂØπË±°ÂºïÁî®Â∞±ËÉΩË¢´ËÆøÈóÆ\"]:::info T -..-> e(\"ÔºàËøòÂèØ‰ª•Ê∑ªÂä†ÂÖ∂‰ªñÂäüËÉΩÊñπÊ≥ïÔºåÂ¶ÇÂèëÂÖâÂíåÂèëÁÉ≠Á≠âÔºâ\"):::info d --> et(\"ÊúÄÂêéÔºå‰∏çÁÆ°Ë∞ÅÂæóÂà∞ÊàñÂæóÂà∞Âá†Ê¨°ÔºåÂæóÂà∞ÁöÑÈÉΩÊòØÂêå‰∏Ä‰∏™Â§™Èò≥ÂÆû‰æãÔºåËøôÊ†∑Â∞±Á°Æ‰øù‰∫ÜÊï¥‰∏™Â§™Èò≥Á≥ª‰∏≠ÊÅíÊòüÂ§™Èò≥ÁöÑÂîØ‰∏ÄÂêàÊ≥ïÊÄßÔºå‰ªñ‰∫∫Êó†Ê≥ï‰º™ÈÄ†„ÄÇ\"):::lb E --> e2t(\"ËøôÂ∞±ÊòØ‚ÄúÈ•øÊ±âÊ®°Âºè‚Äù(eager initialization)ÔºöÂç≥Âú®ÂàùÂßãÈò∂ÊÆµ(static)Â∞±‰∏ªÂä®ËøõË°åÂÆû‰æãÂåñÔºåÂπ∂Êó∂Âàª‰øùÊåÅ‰∏ÄÁßçÊ∏¥Ê±ÇÁöÑÁä∂ÊÄÅ(public)ÔºåÊó†ËÆ∫Ê≠§Âçï‰æãÊòØÂê¶Êúâ‰∫∫‰ΩøÁî®„ÄÇ\"):::lb classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#cde2da classDef info fill:#f6f6f7,color:#5a5a5f,stroke-dasharray: 3 3, stroke-width: 2px 1. ÂºÄÂßã public class Sun &#123;&#125; 2. ÊûÑÈÄ†ÊñπÊ≥ïÁßÅÊúâÂåñ Êé•‰∏ãÊù•Êàë‰ª¨ÂæóÁ°Æ‰øù‰ªª‰Ωï‰∫∫ÈÉΩ‰∏çËÉΩÂàõÂª∫Â§™Èò≥ÁöÑÂÆû‰æãÔºåÂê¶Âàô‰∏ÄÊó¶Á®ãÂ∫èÂëòË∞ÉÁî®‰ª£Á†Å‚Äúnew Sun()‚ÄùÔºåÂ§©Á©∫Â∞±‰ºöÂá∫Áé∞Â§ö‰∏™Â§™Èò≥Ôºå‰æøÂèàÈúÄË¶Å‚ÄúÂêéÁæø‚ÄùÂéªËß£ÂÜ≥‰∫Ü„ÄÇ ÂÆû‰æãÂåñÂ∑•‰ΩúÂÆåÂÖ®ÂΩíÂ±û‰∫éÂÜÖÈÉ®‰∫ãÂä°Ôºå‰ªª‰ΩïÂ§ñÈÉ®Á±ªÈÉΩÊó†ÊùÉÂπ≤È¢Ñ public class Sun &#123; private Sun()&#123; // ÊûÑÈÄ†ÊñπÊ≥ïÁßÅÊúâÂåñ &#125; &#125; 3. Ëá™ÊúâÊ∞∏Êúâ public class Sun &#123; private static final Sun sun = new Sun(); // Ëá™ÊúâÊ∞∏ÊúâÁöÑÂ§™Èò≥Âçï‰æã private Sun()&#123; // ÊûÑÈÄ†ÊñπÊ≥ïÁßÅÊúâÂåñ &#125; &#125; ÂÖ≥ÈîÆÂ≠ó ËØ¥Êòé private Á°Æ‰øùÂ§™Èò≥ÂÆû‰æãÁöÑÁßÅÊúâÊÄß„ÄÅ‰∏çÂèØËßÅÊÄßÂíå‰∏çÂèØËÆøÈóÆÊÄßÔºõ static Á°Æ‰øùÂ§™Èò≥ÁöÑÈùôÊÄÅÊÄßÔºåÂ∞ÜÂ§™Èò≥ÊîæÂÖ•ÂÜÖÂ≠òÈáåÁöÑÈùôÊÄÅÂå∫ÔºåÂú®Á±ªÂä†ËΩΩÁöÑÊó∂ÂÄôÂ∞±ÂàùÂßãÂåñ‰∫ÜÔºåÂÆÉ‰∏éÁ±ªÂêåÂú®Ôºå‰πüÂ∞±ÊòØËØ¥ÂÆÉÊòØ‰∏éÁ±ªÂêåÊó∂Êúü‰∏îÊó©‰∫éÂÜÖÂ≠òÂ†Ü‰∏≠ÁöÑÂØπË±°ÂÆû‰æãÂåñÁöÑÔºåËØ•ÂÆû‰æãÂú®ÂÜÖÂ≠ò‰∏≠Ê∞∏ÁîüÔºåÂÜÖÂ≠òÂûÉÂúæÊî∂ÈõÜÂô®(Garbage Collector, GC)‰πü‰∏ç‰ºöÂØπÂÖ∂ËøõË°åÂõûÊî∂Ôºõ final Á°Æ‰øùËøô‰∏™Â§™Èò≥ÊòØÂ∏∏Èáè„ÄÅÊÅíÈáèÔºåÂÆÉÊòØ‰∏ÄÈ¢óÁªàÊûÅÁöÑÊÅíÊòüÔºåÂºïÁî®‰∏ÄÊó¶Ë¢´ËµãÂÄºÂ∞±‰∏çËÉΩÂÜç‰øÆÊîπÔºõ new ÂàùÂßãÂåñÂ§™Èò≥Á±ªÁöÑÈùôÊÄÅÂÆû‰æãÔºåÂπ∂Ëµã‰∫àÈùôÊÄÅÂ∏∏Èáèsun„ÄÇ 4. ÂÖ¨ÂºÄËÆøÈóÆ Âçï‰æãÁöÑÂ§™Èò≥ÂØπË±°ÂÜôÂ•Ω‰∫ÜÔºåÂèØ‰∏ÄÂàáÁöÜÊòØÁßÅÊúâÁöÑÔºåÂ§ñÈÉ®Â¶Ç‰ΩïËÆøÈóÆÔºü‚Äî‚Äî ‰ΩøÁî®ÈùôÊÄÅÊñπÊ≥ïgetInstance()Êù•Ëé∑ÂèñÂ§™Èò≥ÁöÑÂçï‰æãÂØπË±°„ÄÇ public class Sun &#123; private static final Sun sun = new Sun(); // Ëá™ÊúâÊ∞∏ÊúâÁöÑÂ§™Èò≥Âçï‰æã private Sun()&#123; // ÊûÑÈÄ†ÊñπÊ≥ïÁßÅÊúâÂåñ &#125; public static Sun getInstance()&#123; // Èò≥ÂÖâÊôÆÁÖßÔºåÊñπÊ≥ïÂÖ¨ÂºÄÂåñ return sun; &#125; &#125; ‰∏â. ÊáíÊ±âÁöÑÈòü‰ºçgraph LR T((ÊáíÊ±âÁöÑÈòü‰ºç)):::b T --> A([\"1. Áî®Êó∂ÊâçÂàõÂª∫\"]):::p T --> B([\"2. ÊéíÈòüÔºàÂêåÊ≠•ÈîÅÔºâ\"]):::p T --> C([\"3. ÈúÄË¶ÅÊó∂ÂÜçÊéíÈòüÔºàÂèåÊ£ÄÈîÅÔºâ\"]):::p A --> a(\"Ëã•Êó†ËØ∑Ê±ÇÂ∞±‰∏çÂÆû‰æãÂåñÔºåËäÇÁúÅÂÜÖÂ≠òÁ©∫Èó¥\"):::lp a -.-> at([\"ÂéªÊéâ finalif(sun == null)\"]):::lg B --> b(\"Áî±‰∫éÂ§öÁ∫øÁ®ãÊó∂ÁöÑÁº∫Èô∑ÔºöËØ∑Ê±ÇÊñπÊ≥ïÂä†‰∏äÂêåÊ≠•ÈîÅsynchronized\"):::lp b -.- bt2([\"public static synchronized Sun getInstance() \"]):::lg b -.-> bt3(\"Âä†ÈîÅÂêéÊüêÁ∫øÁ®ãË∞ÉÁî®ÂâçÂøÖÈ°ªËé∑ÂèñÂêåÊ≠•ÈîÅÔºåË∞ÉÁî®ÂÆå‰ºöÈáäÊîæÈîÅÁªôÂÖ∂‰ªñÁ∫øÁ®ãÁî®Ôºå‰πüÂ∞±ÊòØÁªôËØ∑Ê±ÇÊéíÈòü„ÄÇ\"):::info C --> c(\"‰∏∫‰∫ÜËß£ÂÜ≥Á∫øÁ®ãÈòªÂ°ûÔºö‰ΩøÁî®2‰∏™ÂµåÂ•óÁöÑÂà§Á©∫ÈÄªËæë\"):::lp c -.- ct([\"private volatile static Sun sun;if(sun = null){ synchronized(){if(sun == null){sun = new Sun();}\"]):::lg c -.- ct2[\"1. Â§ñÂ±ÇÊîæÂÆΩÂÖ•Âè£Ôºå‰øùËØÅÁ∫øÁ®ãÂπ∂ÂèëÁöÑÈ´òÊïàÊÄß2. ÂÜÖÂ±ÇÂä†ÈîÅÂêåÊ≠•Ôºå‰øùËØÅÂÆû‰æãÂåñÁöÑÂçïÊ¨°ËøêË°å\"]:::info classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#cde2da classDef info fill:#f6f6f7,color:#433f40,stroke-dasharray: 3 3, stroke-width: 2px 1. Áî®Êó∂ÊâçÂàõÂª∫ Âçï‰æãÁöÑ‚ÄúÈ•øÊ±âÊ®°Âºè‚ÄùÔºåËÆ©Â§™Èò≥‰∏ÄÂºÄÂßãÂ∞±ÂáÜÂ§áÂ∞±Áª™ÔºåÈöèÊó∂‰æõÂ∫îÂÖçË¥πÊó•ÂÖâ„ÄÇ ÁÑ∂ËÄåÔºåÂ¶ÇÊûúÂßãÁªàÊ≤°‰∫∫Ëé∑ÂèñÊó•ÂÖâÔºåÈÇ£Â∞±ÁôΩÈÄ†‰∫ÜÂ§™Èò≥ÔºåÁôΩÁôΩÊµ™Ë¥π‰∏ÄÂùóÂÜÖÂ≠òÂå∫Âüü„ÄÇÁ±ª‰ºº‰∫éÂïÜÂÆ∂Ë¥ßÂìÅÊªûÈîÄÁöÑÊÉÖÂÜµÔºåË¥ßÊû∂‰∏äÂ†ÜÊîæÁùÄÂïÜÂìÅÂç¥Ê≤°‰∫∫‰π∞ÔºåÁôΩÁôΩÊµ™Ë¥πÁ©∫Èó¥„ÄÇÂõ†Ê≠§ÔºåÂïÜÂÆ∂‰∏∫‰∫ÜÈôç‰ΩéÈ£éÈô©ÔºåËßÑÂÆöÊúâ‰∫õÂïÜÂìÅÂøÖÈ°ªÊèêÂâçÈ¢ÑËÆ¢ÔºåËøôÂ∞±ÊòØ‚ÄúÊáíÊ±âÊ®°Âºè‚Äù(lazy initialization)„ÄÇ public class Sun &#123; private static Sun sun; // ËøôÈáå‰∏çËøõË°åÂÆû‰æãÂåñ private Sun()&#123; // ÊûÑÈÄ†ÊñπÊ≥ïÁßÅÊúâÂåñ &#125; public static Sun getInstance() &#123; if(sun == null) &#123; // Â¶ÇÊûúÊó†Êó•ÊâçÈÄ†Êó• sun = new Sun(); &#125; return sun; &#125;&#125; ÂÖ≥ÈîÆÂ≠ó ËØ¥Êòé ÂéªÊéâ final ‰∏ÄÂºÄÂßãÂπ∂Ê≤°ÊúâÈÄ†Â§™Èò≥ÔºåÊâÄ‰ª•ÂéªÊéâ‰∫ÜÂÖ≥ÈîÆÂ≠ófinal„ÄÇ Áî®Êó∂ÊâçÂÆû‰æãÂåñ ‰ªÖÂú®ÊüêÁ∫øÁ®ãÁ¨¨‰∏ÄÊ¨°Ë∞ÉÁî®Á¨¨9Ë°åÁöÑgetInstance()ÊñπÊ≥ïÊó∂Êâç‰ºöËøêË°åÂØπÂ§™Èò≥ËøõË°åÂÆû‰æãÂåñÁöÑÈÄªËæë‰ª£Á†ÅÔºå‰πãÂêéÂÜçËØ∑Ê±ÇÂ∞±Áõ¥Êé•ËøîÂõûÊ≠§ÂÆû‰æã‰∫Ü„ÄÇ‚ùóÔ∏èÁº∫ÁÇπÔºöÂàùÊ¨°ËØ∑Ê±ÇÊó∂ÈÄüÂ∫¶ËæÉ‰πãÂâçÁöÑÈ•øÊ±âÂàùÂßãÂåñÊ®°ÂºèÊÖ¢ÔºåÂõ†‰∏∫Ë¶ÅÊ∂àËÄóCPUËµÑÊ∫êÂéª‰∏¥Êó∂ÈÄ†Ëøô‰∏™Â§™Èò≥„ÄÇ 2. ÊéíÈòü Âõ†‰∏∫‰∏äËø∞Á®ãÂ∫èÂú®Â§öÁ∫øÁ®ãÊ®°Âºè‰∏ãÊúâÁº∫Èô∑ÔºöÂπ∂ÂèëËØ∑Ê±ÇÊó∂Âà§Á©∫ÈÄªËæë‰ºöÂêåÊó∂ÊàêÁ´ãÔºåÂØºËá¥Â§öÊ¨°ÂÆû‰æãÂåñÂ§™Èò≥„ÄÅÂ§öÊ¨°ËµãÂÄºÔºåËøùËÉåÂçï‰æãÁêÜÂøµ„ÄÇ public class Sun &#123; private static Sun sun; // ËøôÈáå‰∏çËøõË°åÂÆû‰æãÂåñ private Sun()&#123; // ÊûÑÈÄ†ÊñπÊ≥ïÁßÅÊúâÂåñ &#125; public static synchronized Sun getInstance() &#123; // Ê≠§Â§ÑÂä†ÂÖ•ÂêåÊ≠•ÈîÅ if(sun == null) &#123; // Â¶ÇÊûúÊó†Êó•ÊâçÈÄ†Êó• sun = new Sun(); &#125; return sun; &#125;&#125; ÂÖ≥ÈîÆÂ≠ó ËØ¥Êòé synchronized Â∞ÜÂ§™Èò≥Á±ªSun‰∏≠Á¨¨9Ë°åÁöÑgetInstance()ÊîπÊàê‰∫ÜÂêåÊ≠•ÊñπÊ≥ïÔºåÂ¶ÇÊ≠§ÂèØÈÅøÂÖçÂ§öÁ∫øÁ®ãÈô∑Èò±„ÄÇ 3. ÈúÄË¶ÅÊó∂ÂÜçÊéíÈòü Â¶ÇÊûú‰ªÖ‰∏∫‰∫ÜÂÆû‰æãÂåñ‰∏Ä‰∏™Âçï‰æãÂØπË±°ÔºåÁõ¥Êé•Âä†ÈîÅÊéíÈòü,‰ΩøÁî®synchronizedËÆ©ÊâÄÊúâËØ∑Ê±ÇÊéíÈòüÁ≠âÂÄôÔºö‰ºöÈÄ†ÊàêÁ∫øÁ®ãÈòªÂ°ûÔºåËµÑÊ∫ê‰∏éÊó∂Èó¥Ë¢´ÁôΩÁôΩÊµ™Ë¥π„ÄÇ public class Sun &#123; private volatile static Sun sun; private Sun() &#123; // ÊûÑÈÄ†ÊñπÊ≥ïÁßÅÊúâÂåñ &#125; public static Sun getInstance() &#123; // ÂçéÂ±±ÂÖ•Âè£ if(sun = null)&#123; synchronized(Sun.class)&#123; // ËßÇÊó•ËÄÖËøõË°åÊéíÈòü if(sun == null)&#123; sun = new Sun(); // Âè™ÊúâÊéíÂ§¥ÂÖµÈÄ†‰∫ÜÂ§™Èò≥ÔºåÊó≠Êó•‰∏úÂçá &#125; &#125; &#125; return sun; // ‚Ä¶‚Ä¶Èò≥ÂÖâÊôÆÁÖßÔºåÂÖ∂‰Ωô‰∫∫‰∏çÂøÖÂÜçÈÄ†Êó• &#125;&#125; ÂÖ≥ÈîÆÂ≠ó ËØ¥Êòé ÂéªÊéâ final Á¨¨3Ë°åÂØπsunÂèòÈáèÁöÑÂÆö‰πâ‰∏çÂÜç‰ΩøÁî®finalÂÖ≥ÈîÆÂ≠óÔºåËØ¥ÊòéÂÆÉ‰∏çÂÜçÊòØÂ∏∏ÈáèÔºåËÄåÊòØÈúÄË¶ÅÂêéÁª≠ËµãÂÄºÁöÑÂèòÈáèÔºõ volatile ÂÖ≥ÈîÆÂ≠óvolatileÂØπÈùôÊÄÅÂèòÈáèÁöÑ‰øÆÈ•∞ÂàôËÉΩ‰øùËØÅsunÂèòÈáèÂÄºÂú®ÂêÑÁ∫øÁ®ãËÆøÈóÆÊó∂ÁöÑÂêåÊ≠•ÊÄß„ÄÅÂîØ‰∏ÄÊÄß„ÄÇ ÂéªÊéâÂÖ•Âè£ÁöÑÂêåÊ≠•ÈîÅ ÂØπ‰∫éÁ¨¨9Ë°åÁöÑgetInstance()ÊñπÊ≥ïÔºåÂéªÊéâÊñπÊ≥ï‰∏äÁöÑÂÖ≥ÈîÆÂ≠ósynchronizedÔºå‰ΩøÂ§ßÂÆ∂ÈÉΩËÉΩÂêåÊó∂ËøõÂÖ•ÊñπÊ≥ïÂπ∂ÂØπÂÖ∂ËøõË°åÂºÄÂèë„ÄÇ Âà§Á©∫ÈÄªËæë1 Êúâ‰∫õ‰∫∫ÔºàÁ∫øÁ®ãÔºâËµ∑Êó©Â∞±ÊòØ‰∏∫‰∫ÜËßÇÁúãÊó•Âá∫ÔºåÈÇ£‰πàËøô‰∫õ‰∫∫‰ºöÈÄöËøáÁ¨¨10Ë°åÁöÑÂà§Á©∫ÈÄªËæëËøõÂÖ•ËßÇÊó•Âè∞„ÄÇ Âà§Á©∫ÈÄªËæë2 Âú®Á¨¨12Ë°åÊàë‰ª¨ÂèàËøõË°å‰∏ÄÊ¨°Âà§Á©∫ÈÄªËæëÔºåËøôÂ∞±ÊÑèÂë≥ÁùÄÂè™ÊúâÈòü‰ºç‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™‰∫∫ÈÄ†‰∫ÜÂ§™Èò≥ÔºåÊúâÂπ∏ÁúãÂà∞‰∫ÜÊó•Âá∫ÁöÑÁ¨¨‰∏ÄÁºïÈò≥ÂÖâÔºåËÄåÂêéÈù¢ÁöÑ‰∫∫ÂàôÁªüÁªüÁ¶ªÂºÄÔºåÁõ¥Âà∞Á¨¨17Ë°åÂæóÂà∞Â∑≤ÁªèÈÄ†Â•ΩÁöÑÂ§™Èò≥„ÄÇ ÊúÄÂêéÔºöÂ§™Èò≥È´òÈ´òÂçáËµ∑ÔºåÂÆû‰æãÂåñÊìç‰ΩúÂÆåÊØïÔºåËµ∑ÊôöÁöÑ‰∫∫‰ª¨ÈÉΩÊó†È°ªÂÜçËøõÂÖ•ËßÇÊó•Âè∞ÔºåÁõ¥Êé•Ëé∑ÂèñÂ§™Èò≥ÂÆû‰æãÂç≥ÂèØÔºåÊ∏©ÊöñÈò≥ÂÖâÊôÆÁÖßÂ§ßÂú∞„ÄÇ Âõõ. Â§ßÈÅìËá≥ÁÆÄÁõ∏ÊØî‚ÄúÊáíÊ±âÊ®°Âºè‚ÄùÔºåÂÖ∂ÂÆûÊõ¥Â∏∏Áî®‚ÄúÈ•øÊ±âÊ®°Âºè‚ÄùÔºåÂõ†‰∏∫Ëøô‰∏™Âçï‰æãËøüÊó©ÊòØË¶ÅË¢´ÂÆû‰æãÂåñÂç†Áî®ÂÜÖÂ≠òÁöÑÔºåÂª∂ËøüÊáíÂä†ËΩΩÁöÑÊÑè‰πâÂπ∂‰∏çÂ§ßÔºåÂä†ÈîÅËß£ÈîÅÂèçËÄåÊòØ‰∏ÄÁßçËµÑÊ∫êÊµ™Ë¥πÔºåÂêåÊ≠•Êõ¥ÊòØ‰ºöÈôç‰ΩéCPUÁöÑÂà©Áî®ÁéáÔºå‰ΩøÁî®‰∏çÂΩìÁöÑËØùÂèçËÄå‰ºöÂ∏¶Êù•‰∏çÂøÖË¶ÅÁöÑÈ£éÈô©„ÄÇË∂äÁÆÄÂçïÁöÑÂåÖÂÆπÊÄßË∂äÂº∫ÔºåËÄåË∂äÂ§çÊùÇÁöÑÂèçËÄåË∂äÂÆπÊòìÂá∫Èîô„ÄÇ Âçï‰æãÊ®°ÂºèÁöÑÁ±ªÁªìÊûÑÔºö classDiagram class Singleton{ - instance : singleton - Sigleton() + getInstance() Singleton } Singleton --> Singleton SingletonÔºàÂçï‰æãÔºâÔºöÂåÖÂê´‰∏Ä‰∏™Ëá™Â∑±ÁöÑÁ±ªÂÆû‰æãÁöÑÂ±ûÊÄßÔºåÂπ∂ÊääÊûÑÈÄ†ÊñπÊ≥ïÁî®privatÂÖ≥ÈîÆÂ≠óÈöêËóèËµ∑Êù•ÔºåÂØπÂ§ñÂè™ÊèêgetInstance()ÊñπÊ≥ï‰ª•Ëé∑ÂæóËøô‰∏™Âçï‰æãÂØπË±°„ÄÇ","categories":[{"name":"ËÆæËÆ°Ê®°Âºè","slug":"ËÆæËÆ°Ê®°Âºè","permalink":"https://equnee.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"singleton","slug":"singleton","permalink":"https://equnee.github.io/tags/singleton/"}]},{"title":"MacËøúÁ®ãËøûÊé•WindowsÔºàMicrosoft Remote DesktopÔºâ","slug":"guide/mac_mrd_windows","date":"2021-03-25T07:49:07.000Z","updated":"2023-03-23T12:00:15.278Z","comments":true,"path":"guide/mac_mrd_windows/","link":"","permalink":"https://equnee.github.io/guide/mac_mrd_windows/","excerpt":"","text":"ÊëòË¶Å: ÂêåÊó∂Â∏¶‰∏§Âè∞ÁîµËÑëÂá∫Èó®ÂæàÈ∫ªÁÉ¶Ôºå‰∫éÊòØÈÄâÊã©Âú®Mac‰∏ä‰ΩøÁî® Microsoft Remote Desktop ËøúÁ®ãËøûÊé•‰ΩøÁî®‰∏çÂ∏¶Âá∫Èó®ÁöÑ WindowsÔºå‰ªéÊ≠§Âè™ÈúÄË¶ÅÊääWindowsÊîæÂú®ÂÆ∂ÈáåËøûÊé•ÁîµÊ∫êÂíåwifi‰∏ÄÁõ¥ÊîæÁùÄÂ∞±Ë°åÔºÅÈ°∫‰æøÊï¥ÁêÜ‰∫Ü‰∏Ä‰∫õÂà´‰∫∫ÈÅáÂà∞ÁöÑÈîôËØØÂíåËß£ÂÜ≥ÊñπÊ≥ï„ÄÇ Êó•Êúü: 2021/3/25 ÁéØÂ¢É : MacOS 11.2.2 + Windows10 ‰∏Ä. ËΩØ‰ª∂‰∏ãËΩΩ‰∏ãËΩΩ Microsoft Remote DesktopÔºåÊ†πÊçÆÊÉÖÂÜµ‰∏ãËΩΩÂØπÂ∫îÁâàÊú¨ÁöÑappÔºö ‰ΩøÁî® Windows ÊéßÂà∂ windowsÔºö&gt;&gt; ÂÆòÁΩë‰∏ãËΩΩ ‰ΩøÁî® Mac ÊéßÂà∂ windowsÔºö App Store ‰∏ãËΩΩÔºå‰ªÖÂõΩÂ§ñÁöÑÂ∫îÁî®ÂïÜÂ∫óÊèê‰æõ‰∏ãËΩΩÔºåÂõ†Ê≠§Âè™ËÉΩ‰ΩøÁî®ÂõΩÂ§ñÁöÑ AppleIDÔºåÂèØÂèÇËÄÉ&gt; &gt; ÂõΩÂ§ñAppleIDÁî≥ËØ∑ÊñπÊ≥ï„ÄÇ ÂÖ∂‰ªñÊ∏†ÈÅì‰∏ãËΩΩÔºà‰ø∫‰πüÊ≤°ËØïËøá ‰∫å. ÂàõÂª∫ËøûÊé•2.1 Windows ÈÖçÁΩÆ È¶ñÂÖàÁ°Æ‰øùÂ∞ÜË¢´ÊéßÂà∂ÁöÑ Windows ÂºÄÂêØ‰∫ÜËøúÁ®ãÊ°åÈù¢ËøûÊé•ÈÖçÁΩÆÔºö Ôºà1ÔºâÁ≥ªÁªüÂ±ûÊÄß ËÆæÁΩÆ‰∫ÜÁ≥ªÁªüÂ±ûÊÄß‰∏∫ÂÖÅËÆ∏ËøúÁ®ãÊ°åÈù¢ËøûÊé• Ëã•ÈÄâÈ°πÈÉΩÊòØÁÅ∞Ëâ≤Êó†Ê≥ïÂÖÅËÆ∏ËøúÁ®ãËøûÊé•Ôºå&gt; ÂèÇËÄÉËøôÈáå„ÄÇ ËøêË°å gpedit.msc ÂõûËΩ¶ÊâìÂºÄÊú¨Âú∞ÁªÑÁ≠ñÁï•ÁºñËæëÂô®,Âú®Â∑¶‰æßÁöÑÂàóË°®‰∏≠‰æùÊ¨°Â±ïÂºÄÔºöËÆ°ÁÆóÊú∫ÈÖçÁΩÆ&gt;ÁÆ°ÁêÜÊ®°Êùø&gt;WindowsÁªÑ‰ª∂&gt;ËøúÁ®ãÊ°åÈù¢‰ºöËØù‰∏ªÊú∫&gt;ËøûÊé• ÂèåÂáªÊâìÂºÄÂè≥‰æßÁöÑ‚ÄùÂÖÅËÆ∏Áî®Êà∑ÈÄöËøá‰ΩøÁî®ËøúÁ®ãÊ°åÈù¢ÊúçÂä°ËøõË°åËøúÁ®ãËøûÊé•‚Äú,Áúã‰∏Ä‰∏ã‰πãÂâçÊòØÂê¶ÊúâÈÖçÁΩÆ,Â¶ÇÊûúÊúâÁöÑËØùÊîπÊàê‚ÄùÊú™ÈÖçÁΩÆ‚Äù,Â¶ÇÊûú‰πãÂâçÂ∞±ÊòØÊú™ÈÖçÁΩÆ,ÈÇ£ÂèØ‰ª•ÊîπÊàêÂ∑≤ÂêØÁî®,ÁÑ∂ÂêéÊÇ®ÂÜçÁúã‰∏Ä‰∏ãÁ≥ªÁªüÂ±ûÊÄß&gt;ËøúÁ®ãÊ°åÈù¢‰∏≠ÁöÑÁõ∏ÂÖ≥ËÆæÁΩÆÂå∫ÂüüÊòØÂê¶ÊÅ¢Â§çÊ≠£Â∏∏. Ôºà2ÔºâÈò≤ÁÅ´Â¢ô ËÆæÁΩÆ‰∫ÜÈò≤ÁÅ´Â¢ôÂÖÅËÆ∏ËøúÁ®ãÊ°åÈù¢ÈÄöËøáÈò≤ÁÅ´Â¢ôÈÄö‰ø° Ôºà3ÔºâÁ´ØÂè£ ÂºÄÂêØ‰∫ÜÁî®‰∫éËøúÁ®ãÊ°åÈù¢ËøûÊé•ÁöÑÊúçÂä°Á´ØÂè£Ôºö Âú®cmd‰∏≠ËæìÂÖ•netstat -aon|findstr 3389ÔºåÊü•ÁúãÈªòËÆ§Á´ØÂè£Âè∑3389ÊòØÂê¶ÂºÄÂêØ„ÄÇ Ëã•Á´ØÂè£Âè∑Êú™ÂºÄÂêØÔºöÊâìÂºÄ‰ªªÂä°ÁÆ°ÁêÜÂô®ÔºåÂºÄÂêØ‰∏ãÈù¢‰∏§È°πÊúçÂä°„ÄÇÔºàUmRdpServiseÂèØÊí≠ÊîæÂ£∞Èü≥) Ëã•‰øÆÊîπËøáÊàñÊó†Ê≥ïÊü•ËØ¢Âà∞3389Á´ØÂè£Ôºå&gt; ÂèÇËÄÉËøôÈáå„ÄÇ Ôºà4ÔºâÊú¨Âú∞Á≠ñÁï• ËÆæÁΩÆÊú¨Âú∞Á≠ñÁï•ÈùûÊù•ÂÆæ„ÄÇÂú®ËøêË°å‰∏≠ËæìÂÖ•Ôºögpedit.msc Ôºà5ÔºâÂÖ≥Èó≠ Windows hello Á°Æ‰øùÂÖ≥Èó≠‰∫ÜËÆæÁΩÆÂÜÖ ‰ªÖÂÖÅËÆ∏ Windows hello ÁôªÂΩï (Êú™ËÆæÁΩÆÂèØÂøΩÁï•„ÄÇ) Windows HelloÔºö‰ΩøÊÇ®ÂèØ‰ª•‰ΩøÁî®ËÑ∏ÈÉ®ÔºåËôπËÜúÔºåÊåáÁ∫πÊàñPINÁôªÂΩïËÆæÂ§áÔºåÂ∫îÁî®Á®ãÂ∫èÔºåÂú®Á∫øÊúçÂä°ÂíåÁΩëÁªú„ÄÇ Ôºà6ÔºâAAD Á°Æ‰øù‰∏çÊòØÈÄöËøá Microsoft Authenticator ÔºåËÄåÊòØÈÄöËøáÊâãÂä®ËæìÂÖ•ÂØÜÁ†ÅËøõË°åÈ™åËØÅÁôªÂΩïÁöÑÔºö Âõ†‰∏∫ Microsoft Authenticator ÁôªÂΩï‰ΩøÁî®ÁöÑËÆ§ËØÅÊñπÂºè‰∏éÂÖ∂‰ªñÂüü‰∏ç‰∫íÈÄöÔºåÂ∞±‰∏çËÉΩÁõ¥Êé•ÂºÄÂêØËøûÊé•Âï¶„ÄÇ 2.2 Ê∑ªÂä†ËÆ°ÁÆóÊú∫ ÈÖçÁΩÆWindowsÂÖÅËÆ∏ËøúÁ®ãÊ°åÈù¢ËøûÊé•ÂêéÔºå‰ΩøÁî®MacÂáÜÂ§áÂºÄÂßãËøûÊé•ÔºåÂú®Microsoft Remote Desktop‰∏≠Ê∑ªÂä†PCÔºåËæìÂÖ•‰∏ªÊú∫Âêç + Áî®Êà∑Ë¥¶Âè∑‰ø°ÊÅØ„ÄÇ PC nameÔºöIPÂú∞ÂùÄ„ÄÇ Êü•ÁúãÊñπÊ≥ïÔºöÂú® Windows ÁöÑÂëΩ‰ª§ÊèêÁ§∫Á¨¶(win+R ÈîÆÊâìÂºÄÁöÑËøêË°åÁ™óÂè£ËæìÂÖ•cmd) ËæìÂÖ•ÂëΩ‰ª§ ipconfigÔºåÂèØÊü•Áúãipv4Âú∞ÂùÄ„ÄÇ User accountÔºöÁôªÂΩïËØ•PCÁöÑË¥¶Âè∑ÂØÜÁ†Å„ÄÇÂª∫ËÆÆÈÄâÊã© Ask when requiredÔºåÂÖà‰∏çËæìÂÖ•Ë¥¶Âè∑ÂØÜÁ†ÅÔºåÂú®ËøûÊé•Êó∂ËæìÂÖ•ÔºåÁ°Æ‰øùËÉΩËøûÊé•ÊàêÂäüÂêéÂÜçÊ∑ªÂä†ËÆ∞ÂΩïÔºåÈò≤Ê≠¢ËøôÈáå‰øùÂ≠òÁöÑË¥¶Âè∑ÂØÜÁ†ÅÊúâËØØÔºåÂêéÈù¢ÊÄé‰πàÈÉΩËøû‰∏ç‰∏ä„ÄÇ 2.3 Â°´ÂÜôË¥¶Êà∑‰ø°ÊÅØÔºà1Ôºâ Êú¨Âú∞Áî®Êà∑ ‰ΩøÁî®Êú¨Âú∞Áî®Êà∑ÂêçÁôªÂΩïÔºö Êú¨Âú∞Áî®Êà∑Âêç(cmdËæìÂÖ• whoami Êü•Áúã) + Êú¨Âú∞Ëß£ÈîÅÂØÜÁ†Å„ÄÇ Ôºà2Ôºâ ÂæÆËΩØË¥¶Êà∑ ‰ΩøÁî®ÂæÆËΩØË¥¶Êà∑ÁôªÂΩïÔºö Êú¨Âú∞ÂàõÂª∫ÁöÑËã±ÊñáË¥¶Êà∑Ëã•ÂÖ≥ËÅî‰∫ÜÂæÆËΩØË¥¶Âè∑ÔºåÂèØ‰ΩøÁî®ËØ•ÂæÆËΩØË¥¶Âè∑ÈÇÆÁÆ±ËøõË°åËøúÁ®ãÁôªÂΩïÔºåÁî®Êà∑Âêç‰∏∫ÈÇÆÁÆ±Ê†ºÂºèÁöÑÂæÆËΩØË¥¶Âè∑(username@outlook.com) + ÂØπÂ∫îÁöÑÂæÆËΩØË¥¶Âè∑ÂØÜÁ†Å„ÄÇ Ôºà3Ôºâ Á©∫ÂØÜÁ†Å Êàñ‰ΩøÁî®Á©∫ÂØÜÁ†ÅËøõË°åËøúÁ®ãÊ°åÈù¢ËøûÊé•ÔºöÂú® windows ‰∏≠ËÆæÁΩÆ ÊâìÂºÄËøêË°åÔºåËæìÂÖ•gpedit.mscÔºåÊâìÂºÄÊú¨Âú∞ÁªÑÁ≠ñÁï•ÁºñËæëÂô® 2.4 Êä•ÈîôËß£ÂÜ≥Ôºà1Ôºâ The User Account Did Not work üîí ÊèêÁ§∫ÔºöThe User Account Did Not Work.The user account used to connect to xx.xx.xx.xx (remote PC) did not work. Try again.Ôºà‚Äì&gt; ‰Ω†ËæìÁöÑËøô‰∏™Ë¥¶Êà∑‰ø°ÊÅØËøû‰∏ç‰∏ä„ÄÇÔºâ üîë Ëß£ÂÜ≥ÊñπÊ≥ïÔºöÈúÄË¶ÅËæìÂÖ•Ê≠£Á°ÆÁöÑË¥¶Âè∑ÂØÜÁ†Å„ÄÇ ÂæÆËΩØË¥¶Âè∑ÁôªÂΩïÔºöÈÇÆÁÆ±Ê†ºÂºèÁöÑÂæÆËΩØË¥¶Âè∑(username@outlook.com) + ÂØπÂ∫îÁöÑÂæÆËΩØË¥¶Âè∑ÂØÜÁ†Å Êú¨Âú∞Áî®Êà∑ÁôªÂΩïÔºöÊú¨Âú∞‰∏ªÊú∫ÂêçÊàñÊú¨Âú∞Ë¥¶Êà∑Âêç + Êú¨Âú∞Ë¥¶Êà∑Ëß£ÈîÅÂØÜÁ†Å ‰ª•ÂâçÂèØ‰ª•ÔºåÁé∞Âú®Á™ÅÁÑ∂Ëøû‰∏ç‰∏ä‰∫ÜÔºöÊ£ÄÊü•‰∏äÈù¢‰∏§‰∏™ÂØÜÁ†ÅÊòØ‰∏çÊòØÊîπËøá‰∫ÜÔºåÂ¶ÇÊûúÊîπËøáËÆ∞ÂæóÂêåÊ≠•‰øÆÊîπ„ÄÇ Ôºà2Ôºâ 0x204 üîí ËøûÊé•Êó∂ÊèêÁ§∫ÔºöWe couldn‚Äôt connect to the remote PC.Make sure the PC is turned on and connected to the network, and thar remote access is enabled. Error code:0x204Ôºà‚Äì&gt; Êàë‰ª¨Êó†Ê≥ïËøûÊé•Âà∞ËøúÁ®ãÁîµËÑëÔºåÁ°Æ‰øùÁîµËÑëÂ∑≤ÊâìÂºÄÂπ∂ËøûÊé•Âà∞ÁΩëÁªúÔºåÂπ∂‰∏îÂ∑≤ÂêØÁî®ËøúÁ®ãËÆøÈóÆ„ÄÇÔºâ üîë Ëß£ÂÜ≥ÊñπÊ≥ïÔºö ÂºÄÁîµËÑë„ÄÇÊ£ÄÊü•ÊòØÂê¶ÊâìÂºÄwindowsÁîµÊ∫êÔºåÁ°Æ‰øùÈùûÂÖ≥Êú∫ÊàñÁù°Áú†Áä∂ÊÄÅÔºåÂºÄÂêØÁîµÊ∫êËß£ÈîÅÂ±èÂπïÂ∞±ÂèØ‰ª•Âï¶„ÄÇ ËøûWi-Fi„ÄÇ ÂºÄÊúçÂä°„ÄÇÁ°Æ‰øùÂ∑≤ÂºÄÂêØ Windows ÁöÑËøúÁ®ãÊ°åÈù¢ËøûÊé•ÈÖçÁΩÆ„ÄÇ Ôºà3Ôºâ 0x207 üîí ÊèêÁ§∫Ôºö üîëÔºöÁ°Æ‰øùwindowsÁöÑÊú¨Âú∞ÁªÑÁ≠ñÁï•‰∏çÊòØ ‰ªÖÊù•ÂÆæ Áä∂ÊÄÅ„ÄÇ ‰∏â. MacÈÖçÁΩÆ3.1 ÂàõÂª∫ÁõÆÂΩï Âú®macÁîµËÑë‰∏äÔºåÊ†πÊçÆÈúÄË¶ÅÂàõÂª∫Áî®‰∫éÊñá‰ª∂‰º†ËæìÁöÑÁõÆÂΩï„ÄÇ 3.2 ÁºñËæëÈÖçÁΩÆ ÂºÄÂêØMicrosoft Remote Desktop ËΩØ‰ª∂ÔºåÁÇπÂáªÁºñËæë„ÄÇ Â¶ÇÂõæÊâÄÁ§∫ÔºåÊ∑ªÂä†ÈáçÂÆöÂêëÂàöÂàõÂª∫ÁöÑÊñá‰ª∂Â§πÂØπÂ∫îÁöÑË∑ØÂæÑ 3.3 ÂÆåÊàê ÂèØÊü•Áúãwindows‰∏äÁöÑÊñá‰ª∂Â§πÊò†Â∞ÑÔºåÊ≤°Âá∫Áé∞ÁöÑËØùÈáçÊñ∞ËøûÊé•ËØïËØï„ÄÇ Âõõ. ÁªìÂ∞æÁ¨¨‰∏ÄÊ¨°ÂÆåÊàêmacÂíåwindows‰πãÈó¥ËøúÁ®ãÊ°åÈù¢ÁöÑÈÖçÁΩÆÔºåÂõûÂ§¥ÁúãÊÑüËßâÂÜôÂæóÊúâ‰∫õÂ§çÊùÇÔºåÂõ†‰∏∫Â§öËÆ∞ÂΩï‰∫Ü‰∏Ä‰∫õËá™Â∑±‰πüÊ≤°ÈÅáÂà∞ËøáÁöÑÈóÆÈ¢òÂíåÊÉÖÂÜµ„ÄÇÂ¶ÇÊûúÂêÑ‰ΩçËøòÈÅáÂà∞‰∫ÜÊñá‰∏≠Ê≤°ÊèêÂà∞ÁöÑÊÉÖÂÜµÔºåÊ¨¢ËøéËØÑËÆ∫ÁïôË®ÄÔºåÊàë‰ºöÁªßÁª≠Ë°•ÂÖÖÔΩû","categories":[{"name":"Â∑•ÂÖ∑","slug":"Â∑•ÂÖ∑","permalink":"https://equnee.github.io/categories/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"windows","slug":"windows","permalink":"https://equnee.github.io/tags/windows/"},{"name":"Mac","slug":"Mac","permalink":"https://equnee.github.io/tags/Mac/"}]},{"title":"üç° Mermaid ‚Äî Ë∂ÖÂ•ΩÁî®ÁöÑÊñáÊ°£ÂõæÂΩ¢Â∑•ÂÖ∑ÔºÅ","slug":"tool/markdown+mermaid","date":"2020-04-01T16:37:51.048Z","updated":"2023-05-04T09:26:31.173Z","comments":true,"path":"tool/markdown+mermaid/","link":"","permalink":"https://equnee.github.io/tool/markdown+mermaid/","excerpt":"","text":"‰∏Ä. MarkdownÔºàÁï• ‰∫å. Mermaid Âú®Á∫ø‰ΩìÈ™åÔºöhttps://mermaid.live/ 1. ‰∏∫‰ªÄ‰πàÁî® Mermaid Âú®ÈÖçÂêà Markdown ÂÜôÁ¨îËÆ∞Êó∂ÔºåÊúÄËÆ©ÊàëÂ§¥ÁñºÁöÑÂ∞±ÊòØÂ¶Ç‰Ωï‰ª•ÊúÄÁúÅÊó∂ÁúÅÂäõÁöÑÊñπÂºèÊèíÂÖ•ÊµÅÁ®ãÂõæ„ÄÇÊàëÂÅöËøáÂæàÂ§öÂ∞ùËØïÔºöÂ¶ÇÔºåÊâãÁªò„ÄÅ‰ΩøÁî®XmindÂØºÂõæËΩØ‰ª∂„ÄÅProcessOn‰πãÁ±ªÁöÑÂú®Á∫øÁªòÂõæÂ∑•ÂÖ∑Á≠â„ÄÇ‰ΩÜÂÆÉ‰ª¨ÈÉΩÊúâÊúÄÊòæËëóÁöÑÁº∫ÁÇπÔºöÊúÄÁªà‰ª•ÂõæÂÉèÂΩ¢ÂºèÂØºÂÖ•ÊñáÊ°£ÔºåÂõ†Ê≠§‰øÆÊîπÂíåÂØºÂá∫ÈùûÂ∏∏ÁπÅÁêê„ÄÇ ËÄå Mermaid ÂØπÊàëÊù•ËØ¥ÊòØ‰∏Ä‰∏™ËØ¥Ëøë‰πéÂÆåÁæéÁöÑÊñπÊ°àÔºÅ È´òÊïàÊòìÁî® ÂÆÉÁõ¥Êé•Âú® Markdown ‰∏≠‰ª•‰ª£Á†ÅÊÆµÁöÑÂΩ¢ÂºèÂàõÂª∫Âíå‰øÆÊîπÂõæË°®ÔºåÂπ∂ÂÆûÊó∂Ê∏≤Êüì‰∏∫ Svg ËßÜÂõæÔºåÂèØ‰ª•È´òÊïàÂà∂‰ΩúÁÆÄÊòìÁöÑÊµÅÁ®ãÂõæ„ÄÇÂπ∂‰∏îÈöèÊó∂‰øÆÊîπ„ÄÅÁ´ãÂç≥ÂèØËßÅ„ÄÇ ÂÆÉÂíå Markdown ‰∏ÄÊ†∑ÈÉΩÊòØÁ∫ØÊñáÊú¨Ê†ºÂºèÂ≠òÂÇ®ÁöÑËØ≠Ë®ÄÔºåÊòì‰∫é‰øùÂ≠òÂíåÂàÜ‰∫´„ÄÇ WebÂèãÂ•Ω ÂÆÉ‰∏çÂèóÂà∂‰∫éÁâπÂÆöÁºñËæëÂô®ÔºåÂ§ßÈÉ®ÂàÜÊîØÊåÅ Markdown ÁöÑÁºñËæëÂô®ÈÉΩÊîØÊåÅ Mermaid„ÄÇ ÂÆÉÂü∫‰∫é JavascriptÔºåÂèØÈõÜÊàêÂµåÂÖ•ÂâçÁ´ØÊ°ÜÊû∂ÔºåÂ¶Ç Vue„ÄÅHexoÁ≠â„ÄÇ 2. Mermaid Áî®Ê≥ïMermaid ÂèØÁªòÂà∂ÊµÅÁ®ãÂõæ„ÄÅÊó∂Â∫èÂõæ„ÄÅGitÂõæ„ÄÅÁ±ªÂõæ„ÄÅÈ•ºÂõæ„ÄÅÁîòÁâπÂõæÁ≠âÂõæË°®ÔºåËØ¶ÁªÜÂèØÊü•ÈòÖ ÂÆòÊñπÊñáÊ°£„ÄÇ‰∏ãÈù¢‰ª•ÊàëÂ∏∏Áî®ÁöÑ‰∏§‰∏™ÊµÅÁ®ãÂõæÊ®°Áâà‰Ωú‰∏∫Á§∫‰æãÔºà‰∏ªË¶ÅÂ±ïÁ§∫Ê†∑ÂºèÁöÑ‰∏§Áßç‰ΩøÁî®ÊñπÊ≥ïÔºâÔºö Âü∫Á°ÄÔºà‰ΩøÁî®Âü∫Êú¨Ê†∑ÂºèÔºâ graph LR T((\"Title\")):::p T ==> A([\"Pink\"]):::p T --> B([\"Green\"]):::g T --> C([\"Blue\"]):::b A -.-> a(\"light Pink\"):::lp B -.-> b(\"light Green\"):::lg C -.-> c(\"light Blue\"):::lb a -.- info[\"Info\"]:::info classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#737379,stroke-dasharray: 3 3, stroke-width: 2px graph LR T((&quot;Title&quot;)):::p T ==&gt; A([&quot;Pink&quot;]):::p T --&gt; B([&quot;Green&quot;]):::g T --&gt; C([&quot;Blue&quot;]):::b A -.-&gt; a(&quot;light Pink&quot;):::lp B -.-&gt; b(&quot;light Green&quot;):::lg C -.-&gt; c(&quot;light Blue&quot;):::lb a -.- info[&quot;Info&quot;]:::info%% Ê†∑ÂºèÔºö style T color:#fff classDef p fill:#ddaebd classDef b fill:#aab7d2 classDef g fill:#9ac5bb classDef lp fill:#f4e4e9 classDef lb fill:#d9dfeb classDef lg fill:#ddebe6 classDef info fill:#f6f6f7,color:#737379,stroke-dasharray: 3 3, stroke-width: 2px ËøõÈò∂Ôºà‰ΩøÁî®È¢ÑÂä†ËΩΩÊ†∑ÂºèÔºâ %%{ init: { 'themeVariables': { 'fontFamily': 'Noto Serif SC', 'mainBkg': '#f4e4e9', 'edgeLabelBackground': '#ddebe6' } } }%% graph TD T((\"Title\")):::pink T --> A A -.-> |\"text2\"| B subgraph \"subgraph\" A --> |\"text3\"|C:::lb end classDef pink fill:#ddaebd style B fill:#d9dfeb, stroke:#657eae,stroke-width:3px,stroke-dasharray: 5 3 %%&#123; init: &#123; &#x27;themeVariables&#x27;: &#123; &#x27;fontFamily&#x27;: &#x27;Noto Serif SC&#x27;, &#x27;mainBkg&#x27;: &#x27;#f4e4e9&#x27;, &#x27;edgeLabelBackground&#x27;: &#x27;#ddebe6&#x27; &#125; &#125;&#125;%%graph TDT((&quot;Title&quot;)):::pinkT --&gt; AA -.-&gt; |&quot;text2&quot;| Bsubgraph &quot;subgraph&quot;A --&gt; |&quot;text3&quot;|C:::lbendclassDef pink fill:#ddaebdstyle B fill:#d9dfeb, stroke:#657eae,stroke-width:3px,stroke-dasharray: 5 3 3. Hexo + Mermaid Êèí‰ª∂ ‰ª£Á†Å‰ªìÂ∫ì: https://github.com/webappdevelp/hexo-filter-mermaid-diagrams Ôºà1ÔºâÂÆâË£ÖÊèí‰ª∂$ yarn add hexo-filter-mermaid-diagrams Êàñ $ npm install hexo-filter-mermaid-diagrams Ôºà2ÔºâÁºñËæëÈÖçÁΩÆÂÆâË£ÖÂÆåÊàêÂêéÔºåÁºñËæëhexoÈÖçÁΩÆÊñá‰ª∂Ôºöconfig.yml # mermaid chartmermaid: enable: true version: &quot;7.1.2&quot; options: Ôºà3ÔºâÊ∑ªÂä†ËÑöÊú¨‰øÆÊîπÂÆåÈÖçÁΩÆÊñá‰ª∂ÂêéÔºåÁºñËæëÂçöÂÆ¢È°µÈù¢ÁªÑ‰ª∂ÁöÑfooterÈÉ®ÂàÜ„ÄÇËøôÊòØ‰∏∫‰∫ÜÂ∞Ü mermaid.js ‰ª• script ÂΩ¢ÂºèÊèíÂÖ•Âà∞ html Â∞æÈÉ®Ôºå‰ΩøÂÖ∂ËÉΩÊ≠£Â∏∏Ê∏≤Êüì„ÄÇ footerÊñá‰ª∂Â¶ÇÔºåfooter.pugÔºå after_footer.pug , after-footer.ejs Êàñ swigÔºåËØ•Êñá‰ª∂ÈÄöÂ∏∏Â≠òÊîæÂú®‰∏ªÈ¢òÁõÆÂΩï‰∏ãÁöÑlayoutÁõÆÂΩï‰∏≠„ÄÇ Ëã•ÂçöÂÆ¢‰ΩøÁî®pugÊ®°ÁâàÂºïÊìéÊ∏≤ÊüìÔºåÂú® after_footer.pugÊñá‰ª∂‰∏≠Ê∑ªÂä†Â¶Ç‰∏ã‰ª£Á†Å: if theme.mermaid.enable == true script(type=&#x27;text/javascript&#x27;, id=&#x27;maid-script&#x27; mermaidoptioins=theme.mermaid.options src=&#x27;https://unpkg.com/mermaid@&#x27;+ theme.mermaid.version + &#x27;/dist/mermaid.min.js&#x27; + &#x27;?v=&#x27; + theme.version) script. if (window.mermaid) &#123; var options = JSON.parse(document.getElementById(&#x27;maid-script&#x27;).getAttribute(&#x27;mermaidoptioins&#x27;)); mermaid.initialize(options); &#125; Ëã•‰ΩøÁî®ejsÂºïÊìéÊ∏≤ÊüìÔºåÂàôÂú®after-footer.ejsÊñá‰ª∂‰∏≠Ê∑ªÂä†Â¶Ç‰∏ã‰ª£Á†ÅÔºö &lt;% if (theme.mermaid.enable) &#123; %&gt; &lt;script src=&#x27;https://unpkg.com/mermaid@&lt;%= theme.mermaid.version %&gt;/dist/mermaid.min.js&#x27;&gt;&lt;/script&gt; &lt;script&gt; if (window.mermaid) &#123; mermaid.initialize(&#123;theme: &#x27;neutral&#x27;&#125;); &#125; &lt;/script&gt;&lt;% &#125; %&gt; swigÊ®°ÁâàÂºïÊìéÔºö &#123;% if theme.mermaid.enable %&#125; &lt;script src=&#x27;https://unpkg.com/mermaid@&#123;&#123; theme.mermaid.version &#125;&#125;/dist/mermaid.min.js&#x27;&gt;&lt;/script&gt; &lt;script&gt; if (window.mermaid) &#123; mermaid.initialize(&#123;&#123; JSON.stringify(theme.mermaid.options) &#125;&#125;); &#125; &lt;/script&gt;&#123;% endif %&#125; Ôºà4ÔºâË∏©Âùë‰ª•‰∏ä‰∏∫ÂÆòÊñπÊñáÊ°£‰∏≠ÁöÑÈÖçÁΩÆÊñπÊ≥ïÔºåËÄåÊàëÂú®ÂàùÊ¨°ÈÖçÁΩÆÁöÑËøáÁ®ã‰∏≠ÔºåËøòÈÅáÂà∞‰ª•‰∏ãÈóÆÈ¢òÂèØ‰æõÂèÇËÄÉÔºö htmlÈ°µÈù¢‰∏≠ÔºåmermaidÊÆµËêΩ‰ªÖÊòæÁ§∫‰∏∫‰ª£Á†ÅÂùóÔºåÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰∏≠ËØ•ÊÆµËêΩ‰∏∫ÊôÆÈÄöÊ∫ê‰ª£Á†Å„ÄÇ ËøôÊòØÂõ†‰∏∫Êèí‰ª∂Ê≤°ÊúâÁîüÊïàÔºåÂ∫îÁ°Æ‰øùÊ≠£Á°ÆÂÆåÊàê‰∏äÈù¢‰∏§‰∏™Ê≠•È™§ÔºàÂÆâË£ÖÊèí‰ª∂„ÄÅÊâìÂºÄÈÖçÁΩÆÔºâ„ÄÇ htmlÈ°µÈù¢‰∏≠ÔºåmermaidÊÆµËêΩÊòæÁ§∫‰∏∫Á©∫ÁôΩÂõæÁâáÔºåÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰∏≠Êü•ÁúãËØ•ÊÆµËêΩ‰∏∫svgÊñá‰ª∂ÔºåÊéßÂà∂Âè∞Êä•ÈîôÔºö Uncaught TypeError: Cannot read properties of null (reading‚Äômermaid‚Äô)„ÄÇ Ê≠§Êó∂Êèí‰ª∂Â∑≤ÁªèÁîüÊïàÔºåËÄåjs‰ª£Á†ÅÊñá‰ª∂ÂºïÂÖ•ÊúâËØØÔºåÊó†Ê≥ïÊàêÂäüÊ∏≤Êüì„ÄÇ ÁªßÁª≠Êü•Áúãhtml‰ª£Á†ÅÂèëÁé∞ÔºåÊñá‰ª∂Â∫ïÈÉ®ÁöÑ&lt;sctipt&gt;Ê†áÁ≠æ‰∏≠ÔºåÊòæÁ§∫ÊàëÂºïÂÖ•mermaidÁöÑurl‰∏∫Ôºö &lt;script type=&quot;text/javascript&quot; id=&quot;maid-script&quot; src=&quot;https://unpkg.com/mermaid@10.0.2/dist/mermaid.min.js?v=undefined&quot;&gt;&lt;/script&gt; ËøôÊÆµ‰ª£Á†ÅÊòØÁî±ÂÆòÊñπÊèê‰æõÁöÑËÑöÊú¨„ÄÅÂú®footerÊñá‰ª∂‰∏≠Ê†πÊçÆÁî®Êà∑ÁöÑÈÖçÁΩÆÁªÑÂêàÊàêÁöÑÔºö script(type=&#x27;text/javascript&#x27;, id=&#x27;maid-script&#x27; mermaidoptioins=theme.mermaid.options src=&#x27;https://unpkg.com/mermaid@&#x27;+ theme.mermaid.version + &#x27;/dist/mermaid.min.js&#x27; + &#x27;?v=&#x27; + theme.version) Â¶ÇÊûúÈÖçÁΩÆÊúâËØØÂàô‰ºöÁîüÊàêÈîôËØØÁöÑurlÔºåÁúãËµ∑Êù•ÊòØversionÁöÑÈóÆÈ¢òÔºå‰∫éÊòØÊàëÂ∞ÜurlÊîπ‰∏∫Áõ¥Êé•ÂºïÂÖ•jsdelivr‰∏äÁöÑËµÑÊ∫êÔºåÈÅÇËÉΩÊ≠£Â∏∏Ê∏≤ÊüìÔºö src=&#x27;https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js&#x27;)","categories":[{"name":"Â∑•ÂÖ∑","slug":"Â∑•ÂÖ∑","permalink":"https://equnee.github.io/categories/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"Mermaid","slug":"Mermaid","permalink":"https://equnee.github.io/tags/Mermaid/"},{"name":"Markdown","slug":"Markdown","permalink":"https://equnee.github.io/tags/Markdown/"}]}],"categories":[{"name":"JavaÂü∫Á°Ä","slug":"JavaÂü∫Á°Ä","permalink":"https://equnee.github.io/categories/Java%E5%9F%BA%E7%A1%80/"},{"name":"Êï∞ÊçÆÁªìÊûÑ","slug":"Êï∞ÊçÆÁªìÊûÑ","permalink":"https://equnee.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"name":"ËÆæËÆ°Ê®°Âºè","slug":"ËÆæËÆ°Ê®°Âºè","permalink":"https://equnee.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"Â∑•ÂÖ∑","slug":"Â∑•ÂÖ∑","permalink":"https://equnee.github.io/categories/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://equnee.github.io/tags/Java/"},{"name":"I/O","slug":"I-O","permalink":"https://equnee.github.io/tags/I-O/"},{"name":"HashMap","slug":"HashMap","permalink":"https://equnee.github.io/tags/HashMap/"},{"name":"Chain","slug":"Chain","permalink":"https://equnee.github.io/tags/Chain/"},{"name":"singleton","slug":"singleton","permalink":"https://equnee.github.io/tags/singleton/"},{"name":"windows","slug":"windows","permalink":"https://equnee.github.io/tags/windows/"},{"name":"Mac","slug":"Mac","permalink":"https://equnee.github.io/tags/Mac/"},{"name":"Mermaid","slug":"Mermaid","permalink":"https://equnee.github.io/tags/Mermaid/"},{"name":"Markdown","slug":"Markdown","permalink":"https://equnee.github.io/tags/Markdown/"}]}